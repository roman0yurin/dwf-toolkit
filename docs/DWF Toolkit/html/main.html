<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<TITLE>Autodesk DWF Core Library</TITLE>
</HEAD>
<BODY>
<table border="0" cellpadding="0" cellspacing="0" width="100%" height="140">
	<tr>
		<td background="header.png">&nbsp;</td>
	</tr>
</table>
<!--
	<div class="headingImgcontainer"><img class="headingImg" src="header.png" alt="Autodesk DWF Core Library" title="Autodesk DWF Core Library" border="0" hspace="0" vspace="0"></div>
-->
</BODY>
</HTML>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<h1>Autodesk DWF Toolkit Documentation</h1>
<p>
<h3 align="center">Version 7.5.0 </h3><h2><a class="anchor" name="dwftkintro">
Introduction</a></h2>
The DWF Toolkit is a collection of cross-platform components for creating, publishing, reading and processing 2D and 3D design data in the Autodesk DWF File Format.<p>
DWF Toolkit Components:<p>
<ul>
<li>C++ Libraries<ul>
<li><a class="el" href="group__dwfpackage.html">DWF Package API</a></li><li><a class="el" href="group__dwfpublish.html">DWF Publisher API</a></li><li><a href="../Whip2D/html/main.html">Whip 2D Graphics API </a></li><li><a href="../W3D/html/main.html">DWF 3D Graphics API </a></li></ul>
</li><li>Format Specifications<ul>
<li><a href="../Specification/dwfSpec/DWF 6 Specification.html">DWF File Format </a></li><li><a href="../Whip2D/Specification/whipSpec/index.html">Whip 2D Stream Format </a></li><li><a href="../W3D/Specification/HSFSpec/HSFArchitecture_F.html">W3D Stream Format </a></li></ul>
</li></ul>
<p>
The DWF Toolkit uses the <a href="../../DWF%20Core/html/main.html">Autodesk DWF Core Library </a> which ships as part of the standard distribution.<h2><a class="anchor" name="dwftkdownload">
Downloading the Distribution</a></h2>
The latest version can be downloaded at the <a href="http://www.autodesk.com/dwf-developers">Autodesk DWF Developer Center </a>. The source code has been built and run on the following hardware, software and development environments:<p>
<ul>
<li>Microsoft Windows (2000, XP)<ul>
<li>Microsoft Visual Studio 2005 (MSVC 8.0)</li><li>Microsoft Visual Studio 2008 (MSVC 9.0)</li></ul>
</li></ul>
<p>
<ul>
<li>Red Hat Enterprise Linux 3.0 (GNU/Linux Kernel 2.4 i686 i386)<ul>
<li>gcc 3.2.3</li></ul>
</li></ul>
<p>
<ul>
<li>Gentoo Linux (GNU/Linux Kernel 2.6 i686)<ul>
<li>gcc 3.3.4</li><li>gcc 3.4.3</li></ul>
</li></ul>
<p>
<ul>
<li>Apple Macintosh OS X (Darwin Kernel 7.5.0 powerpc)<ul>
<li>gcc 4.0.0</li><li>XCode 1.5</li></ul>
</li></ul>
<h2><a class="anchor" name="dwftkbuild">
Building the DWF Toolkit</a></h2>
The full source code is available for developers to review and build on a number of different platforms and build development environments. Developers wishing to fine tune the toolkit should review the <a class="el" href="group___dwf_tk_ext_macros.html">Build Configuration</a> page.<h3><a class="anchor" name="dwftkbuild_win">
Microsoft Visual Studio</a></h3>
Developers wishing to fine tune the toolkit for Windows should review the <a class="el" href="group___dwf_tk_ext_macros.html">Build Configuration</a> and <a class="el" href="group___dwf_tk_win32_macros.html">Microsoft Windows Build Configuration</a> pages.<p>
<ul>
<li><b><em>develop</em></b><ul>
<li><b><em>global</em></b><ul>
<li>bin</li><li><b><em>build</em></b><ul>
<li>gnu</li><li><b><em>VC 8.0</em></b></li><li><b><em>VC 9.0</em></b></li><li>XCode 1.5</li></ul>
</li><li>doc</li><li>lib</li><li>rc</li><li>src</li></ul>
</li></ul>
</li><li>docs</li><li>samples</li></ul>
<p>
1. Locate and open the <em>DWFToolkit.vcproj</em> project file in the folder that matches the desired development environment.<p>
2. Select the desired build configuration .<p>
3. Build the project.<p>
<dl compact><dt><b>Note:</b></dt><dd>On Microsoft Windows, the DWF Toolkit, Whip Toolkit and W3D Toolkit are separated out into individual modules as they may be built and used independently from one another.</dd></dl>
<h3><a class="anchor" name="dwftkbuild_gcc">
GCC (GNU Compiler Collection)</a></h3>
This section applies for any system using GCC and the GNU Build System (Automake, Autoconf, etc.)<p>
<ul>
<li><b><em>develop</em></b><ul>
<li><b><em>global</em></b><ul>
<li>bin</li><li><b><em>build</em></b><ul>
<li><b><em>gnu</em></b></li><li>VC 8.0</li><li>VC 9.0</li><li>XCode 1.5</li></ul>
</li><li>doc</li><li>lib</li><li>rc</li><li>src</li></ul>
</li></ul>
</li><li>docs</li><li>samples</li></ul>
<p>
1. Open a shell and locate the build folder: <div class="fragment"><pre class="fragment"> cd develop/global/build/gnu/dwftoolkit 
</pre></div><p>
2. Run the build setup script, this will unpack several required files and reconfigure the GNU Build System: <div class="fragment"><pre class="fragment"> ./build_setup.sh 
</pre></div><p>
3. Locate the source folder: <div class="fragment"><pre class="fragment"> cd ../../../src/dwf/ 
</pre></div><p>
4. Configure the build scripts: <div class="fragment"><pre class="fragment"> ./configure 
</pre></div><p>
5. Build the library: <div class="fragment"><pre class="fragment"> make 
</pre></div><p>
6. Optionally, install the library and headers on the system (by default, to /usr/local/lib and /usr/local/include, respectively): <div class="fragment"><pre class="fragment"> make install 
</pre></div><p>
<dl compact><dt><b>Note:</b></dt><dd>1. Be sure to use the source <em>tarball</em> distribution (.tar.gz) as it preserves the permissions correctly - the zip source archive (.zip) will not preserve.<p>
2. If the <em>build_setup.sh</em> script fails to execute, ensure the permissions are correct: <div class="fragment"><pre class="fragment"> chmod +x build_setup.sh 
</pre></div><p>
3. By default, a full debug configuration is generated. To configure a highly optimized build: <div class="fragment"><pre class="fragment"> ./configure --enable-optimized 
</pre></div><p>
4. By default, the toolkit will be dependent on the version of <em>libz</em> installed on the system. Alteratively, the toolkit can be configured to use the internal z compression code in <em>libdwfcore:</em> <div class="fragment"><pre class="fragment"> ./configure --without-zlib 
</pre></div><p>
5. By default, the toolkit will be dependent on the version of <em>libjpeg</em> installed on the system. Alteratively, the toolkit can be configured to use the internal JPEG code in the W3D toolkit: <div class="fragment"><pre class="fragment"> ./configure --without-jpeg 
</pre></div><p>
6. By default, the toolkit will use it's own internal version of the Expat XML parser. Alternatively, the toolkit can be configured to use the version of <em>libexpat</em> install on the system: <div class="fragment"><pre class="fragment"> ./configure --with-expat 
</pre></div><p>
7. All of the normal GNU Build System rules still apply, for full details: <div class="fragment"><pre class="fragment"> ./configure --help 
</pre></div><p>
8. On Linux and OS X platforms, the DWF Toolkit, Whip Toolkit and W3D Toolkit are built into a single module. While this has not been tested, the individual static modules that are generated as a result of the build process could probably be used individually, though this is not recommended.<p>
9. On OS X, <em>libjpeg</em> is usually not installed in a location that <em>configure</em> can find it, so it's usually necessary to use the built-in version. To do this and disable the dependency on the system library: <div class="fragment"><pre class="fragment"> ./configure --without-jpeg 
</pre></div></dd></dl>
<h3><a class="anchor" name="dwftkbuild_xcode">
Apple XCode</a></h3>
<ul>
<li><b><em>develop</em></b><ul>
<li><b><em>global</em></b><ul>
<li>bin</li><li><b><em>build</em></b><ul>
<li>gnu</li><li>VC 8.0</li><li>VC 9.0</li><li><b><em>XCode 1.5</em></b></li></ul>
</li><li>doc</li><li>lib</li><li>rc</li><li>src</li></ul>
</li></ul>
</li><li>docs</li><li>samples</li></ul>
<p>
1. Locate and open the <em>DWFToolkit.xcode</em> project folder that matches the desired development environment.<p>
2. Select the desired build configuration.<p>
3. Build the project.<p>
<dl compact><dt><b>Note:</b></dt><dd>On OS X, the DWF Toolkit, Whip Toolkit and W3D Toolkit are built into a single library or framework.</dd></dl>
<h2><a class="anchor" name="dwftkusage">
Using the DWF Toolkit</a></h2>
This section outlines how a client application can use the toolkit.<h3><a class="anchor" name="dwftkusage_headers">
Including Header Files</a></h3>
The following path should be used added to the include path of the client application build configuration: <div class="fragment"><pre class="fragment"> develop/global/src/ 
</pre></div><h3><a class="anchor" name="dwftkusage_win">
Microsoft Windows</a></h3>
<ul>
<li><b><em>develop</em></b><ul>
<li><b><em>global</em></b><ul>
<li><b><em>bin</em></b><ul>
<li><b><em>debug</em></b></li><li><b><em>release</em></b></li></ul>
</li><li>build</li><li>doc</li><li>lib<ul>
<li><b><em>static</em></b><ul>
<li><b><em>debug</em></b></li><li><b><em>release</em></b></li></ul>
</li><li><b><em>shared</em></b><ul>
<li><b><em>debug</em></b></li><li><b><em>release</em></b></li></ul>
</li></ul>
</li><li>rc</li><li>src</li></ul>
</li></ul>
</li><li>docs</li><li>samples</li></ul>
<p>
Currently, the SDK ships with build solutions and project files for Visual Studio 2005 and 2008, and the binary distribution includes pre-built libraries for all environments (dynamically linking the MSVC runtime libraries).<p>
Visual Studio 2005 and 2008 will deploy their build targets into subfolders indicating their source: <div class="fragment"><pre class="fragment">develop/global/bin/debug/vc8.0/dwftk.7.5.0.dll
develop/global/lib/<span class="keyword">static</span>/release/vc9.0/dwftk.7.5.0.lib
</pre></div><h4><a class="anchor" name="dwftkusage_win_st">
Static Linking</a></h4>
The following path(s) should be added to the library search path of the client application project file: <div class="fragment"><pre class="fragment"> develop/global/lib/<span class="keyword">static</span>/[debug|release]/ 
</pre></div><p>
<dl compact><dt><b>Note:</b></dt><dd>When linking statically, the client application must define the <b>DWFTK_STATIC</b> pre-processor macro.</dd></dl>
<h4><a class="anchor" name="dwftkusage_win_dy">
Dynamic Linking</a></h4>
The following path(s) should be added to the library search path of the client application project file: <div class="fragment"><pre class="fragment"> develop/global/lib/shared/[debug|release]/ 
</pre></div><p>
The dynamic link libraries are located at the following location: <div class="fragment"><pre class="fragment"> develop/global/bin/[debug|release]/ 
</pre></div><p>
<dl compact><dt><b>Note:</b></dt><dd>Be sure to copy <em>dwftk.7.5.0.dll</em> to a location where the client application can find it at run time.</dd></dl>
See the <a class="el" href="dwftk_samples.html#dwftk_samp_build_win">Microsoft Visual Studio</a> section of the <a class="el" href="dwftk_samples.html">Samples</a> page for more details.<h3><a class="anchor" name="dwftkusage_gnu">
GNU/Linux</a></h3>
<ul>
<li><b><em>develop</em></b><ul>
<li><b><em>global</em></b><ul>
<li>bin</li><li>build</li><li>doc</li><li>lib<ul>
<li><b><em>static</em></b><ul>
<li><b><em>debug</em></b></li><li><b><em>release</em></b></li></ul>
</li><li><b><em>shared</em></b><ul>
<li><b><em>debug</em></b></li><li><b><em>release</em></b></li></ul>
</li></ul>
</li><li>rc</li><li>src</li></ul>
</li></ul>
</li><li>docs</li><li>samples</li></ul>
<p>
The binary distribution contains pre-built shared and static libraries that have been copied to the above directory structure. The GNU build process does <b>not</b> deploy the libraries to this hierarchy, rather <em>make</em> will leave the libraries in: <div class="fragment"><pre class="fragment"> develop/global/src/dwf/.libs 
</pre></div><p>
and <em>make</em> <em>install</em> will deploy the libraries to the installation path specified to <em>configure</em>, the default location is: <div class="fragment"><pre class="fragment"> /usr/local/lib/dwfcore 
</pre></div><h4><a class="anchor" name="dwftkusage_gnu_st">
Static Linking</a></h4>
When statically linking, add <em>libdwftk.a</em> to the list of input files. There may still be other dependencies depending on what functions of the library are used and if the toolkit and/or core library was customized with <em>libz</em>, <em>libexpat</em> and <em>libjpeg</em>. Ignoring the latter, it's usually safest to link in <em>libjpeg</em> to ensure no unresolved symbols for any code that uses the 3D toolkit. <b>Remember that <em>libdwfcore</em> must always be linked.</b> For example, the TimedXMLReader sample can be built as follows:<p>
<dl compact><dt><b>Note:</b></dt><dd>Static linking requires explicitly linking in dependent libraries.<p>
On platforms that use the GNU Build System, there is no need to define the <b>DWFTK_STATIC</b> pre-processor macro.</dd></dl>
<h4><a class="anchor" name="dwftkusage_gnu_dy">
Dynamic Linking</a></h4>
When dynamically linking, the library (and standard soft links) must be in the ld cache. Please refer to the <em>ldconfig</em> man page for more details. After the library and headers have been installed, it can be referenced just as any other system library. For example, the 3DPublish sample can be built as follows: <div class="fragment"><pre class="fragment">g++ 3DPublish_UTF8.cpp -ldwfcore -ldwftk -o 3dpublish
</pre></div><p>
<dl compact><dt><b>Note:</b></dt><dd>Dynamically linking the shared library automatically determines the dependencies on other shared libaries, no explicit linkage is required at build time: <div class="fragment"><pre class="fragment">        [dwf@dwfhat 3DPublish]$ ldd 3dpublish
            libdwfcore-1.5.0.so =&gt; /usr/local/lib/libdwfcore-1.5.0.so (0x0016c000)
            libdwftk-7.5.0.so =&gt; /usr/local/lib/libdwftk-7.5.0.so (0x0099e000)
            libstdc++.so.5 =&gt; /usr/lib/libstdc++.so.5 (0x0060b000)
            libm.so.6 =&gt; /lib/tls/libm.so.6 (0x003d3000)
            libgcc_s.so.1 =&gt; /lib/libgcc_s.so.1 (0x0085e000)
            libc.so.6 =&gt; /lib/tls/libc.so.6 (0x001bb000)
            libz.so.1 =&gt; /usr/lib/libz.so.1 (0x00d6c000)
            libuuid.so.1 =&gt; /lib/libuuid.so.1 (0x00111000)
            libpthread.so.0 =&gt; /lib/tls/libpthread.so.0 (0x00950000)
            libjpeg.so.62 =&gt; /usr/lib/libjpeg.so.62 (0x007af000)
            /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x00f8a000)
</pre></div></dd></dl>
See the <a class="el" href="dwftk_samples.html#dwftk_samp_build_gcc">GCC (GNU Compiler Collection)</a> section of the <a class="el" href="dwftk_samples.html">Samples</a> page for more details.<h3><a class="anchor" name="dwftkusage_osx">
OS X</a></h3>
<ul>
<li><b><em>develop</em></b><ul>
<li><b><em>global</em></b><ul>
<li>bin</li><li>build</li><li>doc</li><li>lib<ul>
<li><b><em>static</em></b><ul>
<li><b><em>debug</em></b></li><li><b><em>release</em></b></li></ul>
</li><li><b><em>shared</em></b><ul>
<li><b><em>debug</em></b></li><li><b><em>release</em></b></li></ul>
</li></ul>
</li><li>rc</li><li>src</li></ul>
</li></ul>
</li><li>docs</li><li>samples</li></ul>
<p>
The binary distribution contains pre-built dylibs, static libraries and Carbon Frameworks that have been copied to the above directory structure. The GNU build process does <b>not</b> deploy the libraries to this hierarchy, rather <em>make</em> will leave the libraries in: <div class="fragment"><pre class="fragment"> develop/global/src/dwf/.libs 
</pre></div> Likewise, the XCode project configurations build to: <div class="fragment"><pre class="fragment"> [Development] develop/global/lib/debug and [Deployment] develop/global/lib/release 
</pre></div><h4><a class="anchor" name="dwftkusage_osx_st">
Static Linking</a></h4>
Using gcc directly from the shell is exactly the same as noted in the GNU/Linux <a class="el" href="main.html#dwftkusage_gnu_st">Static Linking</a> section.<p>
Using <a href="http://www.apple.com/macosx/features/xcode/">XCode</a>, add the static library to the <em>Frameworks and Libraries</em> group of the build target.<h4><a class="anchor" name="dwftkusage_osx_fr">
Framework</a></h4>
When using the <b>DWFToolkit.framework</b>, add the appropriate bundle to the <em>Frameworks and Libraries</em> group of the build target.<p>
See the <a class="el" href="dwftk_samples.html#dwftk_samp_build_xcode">Apple XCode</a> section of the <a class="el" href="dwftk_samples.html">Samples</a> page for more details. <hr size="1"><address style="align: right;"><small>Generated on Tue Jan 6 22:40:01 2009 for Autodesk DWF Toolkit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
