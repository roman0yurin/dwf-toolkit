<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<TITLE>Autodesk DWF Core Library</TITLE>
</HEAD>
<BODY>
<table border="0" cellpadding="0" cellspacing="0" width="100%" height="140">
	<tr>
		<td background="header.png">&nbsp;</td>
	</tr>
</table>
<!--
	<div class="headingImgcontainer"><img class="headingImg" src="header.png" alt="Autodesk DWF Core Library" title="Autodesk DWF Core Library" border="0" hspace="0" vspace="0"></div>
-->
</BODY>
</HTML>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2F.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2Fdwf_2F.html">dwf</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2Fdwf_2FXAML_2F.html">XAML</a></div>
<h1>XamlFile.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//</span>
<a name="l00002"></a>00002 <span class="comment">//  Copyright (c) 1996-2006 by Autodesk, Inc.</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">//  By using this code, you are agreeing to the terms and conditions of</span>
<a name="l00005"></a>00005 <span class="comment">//  the License Agreement included in the documentation for this code.</span>
<a name="l00006"></a>00006 <span class="comment">//</span>
<a name="l00007"></a>00007 <span class="comment">//  AUTODESK MAKES NO WARRANTIES, EXPRESS OR IMPLIED, AS TO THE CORRECTNESS</span>
<a name="l00008"></a>00008 <span class="comment">//  OF THIS CODE OR ANY DERIVATIVE WORKS WHICH INCORPORATE IT. AUTODESK</span>
<a name="l00009"></a>00009 <span class="comment">//  PROVIDES THE CODE ON AN "AS-IS" BASIS AND EXPLICITLY DISCLAIMS ANY</span>
<a name="l00010"></a>00010 <span class="comment">//  LIABILITY, INCLUDING CONSEQUENTIAL AND INCIDENTAL DAMAGES FOR ERRORS,</span>
<a name="l00011"></a>00011 <span class="comment">//  OMISSIONS, AND OTHER PROBLEMS IN THE CODE.</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00013"></a>00013 <span class="comment">//  Use, duplication, or disclosure by the U.S. Government is subject to</span>
<a name="l00014"></a>00014 <span class="comment">//  restrictions set forth in FAR 52.227-19 (Commercial Computer Software</span>
<a name="l00015"></a>00015 <span class="comment">//  Restricted Rights) and DFAR 252.227-7013(c)(1)(ii) (Rights in Technical</span>
<a name="l00016"></a>00016 <span class="comment">//  Data and Computer Software), as applicable.</span>
<a name="l00017"></a>00017 <span class="comment">//</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#if !defined WT_XAML_FILE_HEADER</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define WT_XAML_FILE_HEADER</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;set&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="comment">//using namespace std;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include "<a class="code" href="_toolkit_8h.html">dwf/Toolkit.h</a>"</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="_x_m_l_8h.html">dwf/package/XML.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_core_8h.html">dwfcore/Core.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_u_u_i_d_8h.html">dwfcore/UUID.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_stream_file_descriptor_8h.html">dwfcore/StreamFileDescriptor.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_file_input_stream_8h.html">dwfcore/FileInputStream.h</a>"</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_file_output_stream_8h.html">dwfcore/FileOutputStream.h</a>"</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_stream_file_descriptor_8h.html">dwfcore/StreamFileDescriptor.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "dwfcore/XML.h"</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_d_w_f_x_m_l_serializer_8h.html">dwfcore/DWFXMLSerializer.h</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include "<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/_exception_8h.html">dwfcore/Exception.h</a>"</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">// DWFXml stuff and expat might be needed to be moved to the DWFCore</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include "whiptk/whip_toolkit.h"</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include "XAML/XamlPath.h"</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include "XAML/XamlCanvas.h"</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include "XAML/XamlRendition.h"</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include "XAML/XamlResource.h"</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include "XAML/OpcResourceSerializer.h"</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include "<a class="code" href="_opc_resource_materializer_8h.html">XAML/OpcResourceMaterializer.h</a>"</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include "XAML/XamlW2XParser.h"</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include "XAML/XamlParser.h"</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include "<a class="code" href="xversion_8h.html">XAML/xversion.h</a>"</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include "XAML/MemoryBuffer.h"</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="keyword">using namespace </span>DWFCore;
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="preprocessor">#define LONG_MAX_FLOAT_MANTISSA             16777215.0f                           // 2^24 - 1 </span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#define LONG_TO_FLOAT_SCALE                 LONG_MAX_FLOAT_MANTISSA / (float)LONG_MAX       //</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#define XAML_DPI_MULTIPLIER                 96.0f</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#define DEFAULT_DPI                         400.0f</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>
<a name="l00058"></a>00058 <span class="keyword">class </span>WT_Units;
<a name="l00059"></a>00059 <span class="keyword">class </span><a class="code" href="class_w_t___x_a_m_l___units.html">WT_XAML_Units</a>;
<a name="l00060"></a>00060 <span class="keyword">class </span><a class="code" href="class_w_t___x_a_m_l___macro___definition.html">WT_XAML_Macro_Definition</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="class_w_t___x_a_m_l___file.html">00062</a> <span class="keyword">class </span>XAMLTK_API <a class="code" href="class_w_t___x_a_m_l___file.html">WT_XAML_File</a> : <span class="keyword">public</span> WT_File 
<a name="l00063"></a>00063     , <span class="keyword">public</span> XamlDrawableAttributes::Name::Provider
<a name="l00064"></a>00064 {
<a name="l00065"></a><a class="code" href="class_w_t___x_a_m_l___file.html#f99a8481ea195f25530cf70487d4aec8">00065</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_w_t___x_a_m_l___class___factory.html">WT_XAML_Class_Factory</a>;
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="keyword">protected</span>:
<a name="l00068"></a>00068     <a class="code" href="class_w_t___x_a_m_l___file.html">WT_XAML_File</a>() throw(WT_Result);
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 public:
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___object_list.html">00073</a>         class <a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___object_list.html">WT_XAML_ObjectList</a>
<a name="l00074"></a>00074         {
<a name="l00075"></a>00075     <span class="keyword">private</span>:
<a name="l00076"></a>00076 
<a name="l00077"></a>00077         <span class="comment">//This private class is a node item in a doubly-linked list.  </span>
<a name="l00078"></a>00078         <span class="comment">//We have two linked lists in the WT_XAML_ObjectList class;</span>
<a name="l00079"></a>00079         <span class="comment">//One for attribures, and one for all other objects.  With</span>
<a name="l00080"></a>00080         <span class="comment">//one exception (DWF_Header), Attributes always get emitted</span>
<a name="l00081"></a>00081         <span class="comment">//first via the "get_next_object" method.</span>
<a name="l00082"></a>00082         <span class="keyword">class </span>Node
<a name="l00083"></a>00083         {
<a name="l00084"></a>00084         <span class="keyword">private</span>:
<a name="l00085"></a>00085             Node **_head, **_tail;
<a name="l00086"></a>00086         <span class="keyword">public</span>:
<a name="l00087"></a>00087             Node *prev, *next;
<a name="l00088"></a>00088             WT_Object *object;
<a name="l00089"></a>00089 
<a name="l00090"></a>00090             Node();
<a name="l00091"></a>00091             <span class="keywordtype">void</span> init( WT_Object *pObject, Node **pHead, Node **pTail);
<a name="l00092"></a>00092             <span class="keywordtype">void</span> set_tail();
<a name="l00093"></a>00093             <span class="keywordtype">void</span> add_before( Node* );
<a name="l00094"></a>00094             <span class="keywordtype">void</span> remove();
<a name="l00095"></a>00095         };
<a name="l00096"></a>00096 
<a name="l00097"></a>00097     <span class="keyword">public</span>:
<a name="l00098"></a>00098                 WT_XAML_ObjectList();
<a name="l00099"></a>00099                 ~WT_XAML_ObjectList();
<a name="l00100"></a>00100 
<a name="l00101"></a>00101                 <span class="comment">// insert the object in one of the internal linked lists,</span>
<a name="l00102"></a>00102         <span class="comment">// based on a few rules (see the implementation for a </span>
<a name="l00103"></a>00103         <span class="comment">// walkthrough of the logic.)</span>
<a name="l00104"></a>00104                 <span class="keywordtype">void</span> insert( WT_Object* ) <span class="keywordflow">throw</span> (<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a>);
<a name="l00105"></a>00105 
<a name="l00106"></a>00106                 <span class="comment">// performs an update of the "first incomplete" pointer,</span>
<a name="l00107"></a>00107         <span class="comment">// starting a linear search from the given object's next</span>
<a name="l00108"></a>00108         <span class="comment">// sibling - looking for the next incomplete object </span>
<a name="l00109"></a>00109                 <span class="keywordtype">void</span> update_next_incomplete( WT_Object* );
<a name="l00110"></a>00110 
<a name="l00111"></a>00111                 <span class="comment">// peek front of virtually aggregated list</span>
<a name="l00112"></a>00112                 WT_Object*&amp; front();
<a name="l00113"></a>00113 
<a name="l00114"></a>00114                 <span class="comment">// removes front entity from the virtually aggregated list</span>
<a name="l00115"></a>00115                 <span class="keywordtype">void</span> pop_front();
<a name="l00116"></a>00116 
<a name="l00117"></a>00117                 <span class="comment">// number of objects in the virtually aggregated list</span>
<a name="l00118"></a>00118                 size_t size() <span class="keyword">const</span>;
<a name="l00119"></a>00119 
<a name="l00120"></a>00120                 <span class="comment">// is the virtually aggregated list empty</span>
<a name="l00121"></a>00121                 <span class="keywordtype">bool</span> empty() <span class="keyword">const</span>;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123                 <span class="comment">// find by id</span>
<a name="l00124"></a>00124                 <span class="keywordtype">bool</span> find_by_id( WT_Object::WT_ID,
<a name="l00125"></a>00125                                                  std::multimap&lt;WT_Object::WT_ID, WT_Object*&gt;::iterator&amp;, 
<a name="l00126"></a>00126                                                  std::multimap&lt;WT_Object::WT_ID, WT_Object*&gt;::iterator&amp; );
<a name="l00127"></a>00127 
<a name="l00128"></a>00128                 <span class="comment">// find by type</span>
<a name="l00129"></a>00129                 <span class="keywordtype">bool</span> find_by_type( WT_Object::WT_Type,
<a name="l00130"></a>00130                                                    std::multimap&lt;WT_Object::WT_Type, WT_Object*&gt;::iterator&amp;, 
<a name="l00131"></a>00131                                                    std::multimap&lt;WT_Object::WT_Type, WT_Object*&gt;::iterator&amp; );
<a name="l00132"></a>00132 
<a name="l00133"></a>00133                 <span class="comment">// find by id, first incomplete</span>
<a name="l00134"></a>00134                 <span class="keywordtype">bool</span> find_first_incomplete( WT_Object::WT_Type, WT_Object::WT_ID, WT_Object*&amp; );
<a name="l00135"></a>00135       
<a name="l00136"></a>00136 
<a name="l00137"></a>00137                 <span class="comment">// find by type, first incomplete</span>
<a name="l00138"></a>00138                 <span class="keywordtype">bool</span> find_first_incomplete( WT_Object::WT_Type, WT_Object*&amp; );
<a name="l00139"></a>00139 
<a name="l00140"></a>00140         <span class="keyword">private</span>:
<a name="l00141"></a>00141         <span class="comment">// removes objects from the search maps</span>
<a name="l00142"></a>00142                 <span class="keywordtype">void</span> _cull( WT_Object* pObj );
<a name="l00143"></a>00143 
<a name="l00144"></a>00144         <span class="keyword">private</span>:
<a name="l00145"></a>00145         <span class="comment">// the first item is a pointer to the object list head node, </span>
<a name="l00146"></a>00146         <span class="comment">// the second is the tail node</span>
<a name="l00147"></a>00147         pair&lt;Node*, Node*&gt; _oObjects;
<a name="l00148"></a>00148         <span class="comment">// likewise, for the attribute list</span>
<a name="l00149"></a>00149         pair&lt;Node*, Node*&gt; _oAttributes;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         <span class="comment">// A stack (pool) which tracks unused nodes.  The object list </span>
<a name="l00152"></a>00152         <span class="comment">// gets pretty busy, so it behooves us to keep the allocations </span>
<a name="l00153"></a>00153         <span class="comment">// to a minimum by recycling memory</span>
<a name="l00154"></a>00154         stack&lt;Node*&gt; _oNodePool;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156         <span class="comment">// Points to the first incomplete object in the object linked-list</span>
<a name="l00157"></a>00157         <span class="comment">// list.  Incomplete here means that the referenced WT_Object is</span>
<a name="l00158"></a>00158         <span class="comment">// marked as !materialized().  There are only a few such entities</span>
<a name="l00159"></a>00159         <span class="comment">// that are partially defined in both the W2X and XAML, so it is</span>
<a name="l00160"></a>00160         <span class="comment">// important that we manage the materialization flag properly, as</span>
<a name="l00161"></a>00161         <span class="comment">// it is a factor in directing the insertion of Nodes referencing</span>
<a name="l00162"></a>00162         <span class="comment">// WT_Objects in the linked list(s).</span>
<a name="l00163"></a>00163         Node *_pIncompleteObjects;
<a name="l00164"></a>00164         Node *_pIncompleteAttributes;
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <span class="comment">// The number of nodes/objects currently in the list.</span>
<a name="l00167"></a>00167         size_t _nObjects;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="comment">// Special-case flag.  This is the only non-attribute which gets</span>
<a name="l00170"></a>00170         <span class="comment">// sent out first.  It's the first thing the application must see</span>
<a name="l00171"></a>00171         <span class="comment">// from the object list, so it gets special treatment.</span>
<a name="l00172"></a>00172         <span class="keywordtype">bool</span> _bIsDwfHeaderSent;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174         <span class="comment">// multimap for searching for object ids.</span>
<a name="l00175"></a>00175                 std::multimap&lt;WT_Object::WT_ID, WT_Object*&gt; _idmap;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177         <span class="comment">// multimap for searching for object types.</span>
<a name="l00178"></a>00178                 std::multimap&lt;WT_Object::WT_Type, WT_Object*&gt; _typemap;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180         <span class="comment">// map to find a linked-list node given a WT_Object.</span>
<a name="l00181"></a>00181         std::map&lt;WT_Object*, Node* &gt; _nodemap;
<a name="l00182"></a>00182         };
<a name="l00183"></a>00183 
<a name="l00184"></a><a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___memory___file.html">00184</a>     <span class="keyword">class </span><a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___memory___file.html">WT_XAML_Memory_File</a> : <span class="keyword">public</span> WT_FileExt
<a name="l00185"></a>00185     {
<a name="l00186"></a>00186     <span class="keyword">public</span>:
<a name="l00187"></a>00187         <a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___memory___file.html">WT_XAML_Memory_File</a>( <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a> *pInputStream = NULL );
<a name="l00188"></a>00188         ~<a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___memory___file.html">WT_XAML_Memory_File</a>();
<a name="l00189"></a>00189 
<a name="l00190"></a>00190         WT_Result process_stream_close (<span class="keywordtype">void</span>);
<a name="l00191"></a>00191         WT_Result process_stream_end_seek (<span class="keywordtype">void</span>);
<a name="l00192"></a>00192         WT_Result process_stream_open (<span class="keywordtype">void</span>);
<a name="l00193"></a>00193         WT_Result process_stream_read (<span class="keywordtype">int</span> desired_bytes, <span class="keywordtype">int</span>&amp; bytes_read, <span class="keywordtype">void</span>* buffer);
<a name="l00194"></a>00194         WT_Result process_stream_seek (<span class="keywordtype">int</span> distance, <span class="keywordtype">int</span>&amp; amount_seeked);
<a name="l00195"></a>00195         WT_Result process_stream_tell (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *current_file_pointer_position);
<a name="l00196"></a>00196         WT_Result process_stream_write(<span class="keywordtype">int</span> size, <span class="keywordtype">void</span> <span class="keyword">const</span>* buffer);
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___memory___file.html#5b0063d03cc1d991607d27b806824006">00198</a>         <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a> *pSourceInputStream;
<a name="l00199"></a><a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___memory___file.html#57a3f7860210068f3376f6501c05ebdd">00199</a>         <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_buffer_input_stream.html">DWFBufferInputStream</a> *pInputStream;
<a name="l00200"></a><a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___memory___file.html#d5ed7665cb2791ca7b5b4019763d8c61">00200</a>         <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_buffer_output_stream.html">DWFBufferOutputStream</a> *pOutputStream;
<a name="l00201"></a>00201     };
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 <span class="keyword">public</span>:
<a name="l00204"></a><a class="code" href="class_w_t___x_a_m_l___file.html#468f55b2f7f38cbcad28a019a0d0811a">00204</a>     <span class="keyword">typedef</span>  map&lt; const wchar_t*, const wchar_t*, tDWFWCharCompareLess &gt;  tStringMap;
<a name="l00205"></a><a class="code" href="class_w_t___x_a_m_l___file.html#e5151d744f8aaca6cddb58617e26ce0c">00205</a>     <span class="keyword">typedef</span>  map&lt; WT_Integer32, WT_XAML_Macro_Definition* &gt;               tMacroMap;
<a name="l00206"></a><a class="code" href="class_w_t___x_a_m_l___file.html#ccc9fa7e87a4488956268e6a3b0bcc92">00206</a>     <span class="keyword">typedef</span>  map&lt; const wchar_t*, WT_XAML_Font::CachedTTFFontData*, tDWFWCharCompareLess &gt;      tCachedTTFFontMap;
<a name="l00207"></a><a class="code" href="class_w_t___x_a_m_l___file.html#f35dc1c2129d93b08b848c228786b0a1">00207</a>     <span class="keyword">typedef</span>  stack&lt; WT_Object *&gt;                                          tObjectStack; 
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 <span class="keyword">public</span>:
<a name="l00210"></a>00210     <span class="keyword">virtual</span> ~<a class="code" href="class_w_t___x_a_m_l___file.html">WT_XAML_File</a>() throw();
<a name="l00211"></a>00211 
<a name="l00212"></a>00212     <span class="comment">// Serializers</span>
<a name="l00213"></a>00213     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*&amp;          xamlSerializer();
<a name="l00214"></a>00214     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*&amp;          w2xSerializer();
<a name="l00215"></a>00215     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*&amp;          xamlDictionarySerializer();
<a name="l00216"></a>00216 
<a name="l00217"></a>00217     <span class="comment">// I/O (these pointers can be both set and retrieved through these methods)</span>
<a name="l00218"></a>00218     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*&amp;                       xamlStreamOut();
<a name="l00219"></a>00219     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*&amp;                       w2xStreamOut();
<a name="l00220"></a>00220     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*&amp;                        xamlStreamIn();
<a name="l00221"></a>00221     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*&amp;                        w2xStreamIn();
<a name="l00222"></a>00222     <a class="code" href="class_w_t___opc_resource_serializer.html">WT_OpcResourceSerializer</a>*&amp;              opcResourceSerializer();
<a name="l00223"></a>00223     <a class="code" href="class_w_t___opc_resource_materializer.html">WT_OpcResourceMaterializer</a>*&amp;            opcResourceMaterializer();
<a name="l00224"></a>00224     <a class="code" href="class_w_t___x_a_m_l___w2_x___parser.html">WT_XAML_W2X_Parser</a>*&amp;                    w2xParser();
<a name="l00225"></a>00225     <a class="code" href="class_w_t___x_a_m_l___xaml___parser.html">WT_XAML_Xaml_Parser</a>*&amp;                   xamlParser();
<a name="l00226"></a>00226 
<a name="l00227"></a>00227     <span class="comment">//ObjectList access</span>
<a name="l00228"></a>00228         const <a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___object_list.html">WT_XAML_ObjectList</a>&amp;   object_list() const; 
<a name="l00229"></a>00229         <a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___object_list.html">WT_XAML_ObjectList</a>&amp;                 object_list(); 
<a name="l00230"></a>00230     <span class="keywordtype">void</span>                        set_materialized( WT_Object* );
<a name="l00231"></a>00231 
<a name="l00232"></a>00232     const tObjectStack&amp;         nested_object_stack() const;
<a name="l00233"></a>00233     tObjectStack&amp;               nested_object_stack();
<a name="l00234"></a>00234 
<a name="l00235"></a>00235     <span class="comment">//Font methods</span>
<a name="l00236"></a>00236     const <span class="keywordtype">bool</span>&amp;                 obfuscate_embedded_fonts() const;
<a name="l00237"></a>00237     <span class="keywordtype">bool</span>&amp;                       obfuscate_embedded_fonts();
<a name="l00238"></a>00238     tCachedTTFFontMap&amp;          cached_ttf_fonts();
<a name="l00239"></a>00239 
<a name="l00240"></a>00240     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a> *&amp;          xamlDictionaryStreamOut();
<a name="l00241"></a>00241     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a> *&amp;           xamlDictionaryStreamIn();
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <span class="comment">// WT_File overrides</span>
<a name="l00244"></a>00244     virtual WT_Result           open();
<a name="l00245"></a>00245     virtual WT_Result           close();
<a name="l00246"></a>00246     virtual WT_Rendition &amp;      desired_rendition();
<a name="l00247"></a>00247     virtual WT_Rendition &amp;      rendition();
<a name="l00248"></a>00248     virtual WT_Result           get_next_object();
<a name="l00249"></a>00249     virtual WT_Result           compress_write(<span class="keywordtype">int</span> count, <span class="keywordtype">void</span> const * data);
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="comment">//</span>
<a name="l00253"></a>00253     <span class="comment">// page layout methods</span>
<a name="l00254"></a>00254     <span class="comment">//</span>
<a name="l00255"></a>00255     <span class="comment">// - definePageLayout() : must be called before the first drawable is serialized</span>
<a name="l00256"></a>00256     <span class="comment">//   - may be called several times before a &lt;Path&gt;, &lt;Glyph&gt; or &lt;Canvas&gt; gets</span>
<a name="l00257"></a>00257     <span class="comment">//     serialized</span>
<a name="l00258"></a>00258     <span class="comment">//   - after that, an error code is returned</span>
<a name="l00259"></a>00259     <span class="comment">//</span>
<a name="l00260"></a>00260     <span class="comment">// - isLayoutValid() : returns true iif definePageLayout() was called with proper parameters</span>
<a name="l00261"></a>00261     <span class="comment">//</span>
<a name="l00262"></a>00262     <span class="comment">// - isTopLevelCanvasWritten() : returns true if the top-level canvas has been</span>
<a name="l00263"></a>00263     <span class="comment">// committed to xml</span>
<a name="l00264"></a>00264     <span class="comment">//   - in that case, definePageLayout() will always return an error code</span>
<a name="l00265"></a>00265     <span class="comment">//</span>
<a name="l00266"></a>00266     <span class="comment">// - innerPageTransform() : returns the 3x3 paper transform (used by the top-level</span>
<a name="l00267"></a>00267     <span class="comment">// &lt;Canvas&gt; element)</span>
<a name="l00268"></a>00268     <span class="comment">//</span>
<a name="l00269"></a>00269     <span class="comment">// - flipPoint() : modifies the point so that it's paper projection will be</span>
<a name="l00270"></a>00270     <span class="comment">// mirrored in y - should be called for all points by all drawables (otherwise the</span>
<a name="l00271"></a>00271     <span class="comment">// result will be reversed in XPS)</span>
<a name="l00272"></a>00272     <span class="comment">//</span>
<a name="l00273"></a>00273     <span class="comment">// - convertToPaperSpace() : converts a lenght expressed in logical units into</span>
<a name="l00274"></a>00274     <span class="comment">// page space units</span>
<a name="l00275"></a>00275     <span class="comment">//</span>
<a name="l00276"></a>00276     WT_Result                   definePageLayout(const WT_Matrix2D &amp;rTransform, <span class="keywordtype">double</span> fWidth, <span class="keywordtype">double</span> fHeight, <span class="keywordtype">double</span> fScale);
<a name="l00277"></a>00277     WT_Result                   writeTopLevelCanvas();
<a name="l00278"></a>00278     <span class="keywordtype">bool</span>                        isLayoutValid() const;
<a name="l00279"></a>00279     <span class="keywordtype">bool</span>                        isTopLevelCanvasWritten() const;
<a name="l00280"></a>00280     const WT_Matrix2D &amp;         innerPageTransform() const;  
<a name="l00281"></a>00281     WT_Result                   flipPoint(WT_Point2D &amp;);
<a name="l00282"></a>00282     WT_Result                   unflipPoint(WT_Point2D &amp;);
<a name="l00283"></a>00283     <span class="keywordtype">float</span>                       convertToPaperSpace(<span class="keywordtype">float</span> length) const;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285     <span class="comment">//</span>
<a name="l00286"></a>00286     <span class="comment">// overposting methods</span>
<a name="l00287"></a>00287     <span class="comment">//</span>
<a name="l00288"></a>00288     <span class="keywordtype">void</span>                        addToOverpostClip(const WT_Logical_Box &amp;);
<a name="l00289"></a>00289     <span class="keywordtype">bool</span>                        isFittingInOverpostClip(const WT_Logical_Box &amp;);
<a name="l00290"></a>00290 
<a name="l00291"></a>00291     <span class="comment">// relative point utils     </span>
<a name="l00292"></a>00292     virtual WT_Point2D          de_update_current_point(WT_Point2D const &amp; delta);
<a name="l00293"></a>00293     virtual WT_Point2D          update_current_point(WT_Point2D const &amp; new_point);
<a name="l00294"></a>00294     virtual WT_Logical_Point    de_update_current_point(WT_Logical_Point const &amp; delta);
<a name="l00295"></a>00295     virtual WT_Logical_Point    update_current_point(WT_Logical_Point const &amp; new_point);
<a name="l00296"></a>00296 
<a name="l00297"></a>00297     <span class="comment">// utility functions</span>
<a name="l00298"></a>00298     static <span class="keywordtype">float</span>                scaleLongToFloat(<span class="keywordtype">long</span> n);
<a name="l00299"></a>00299     static <span class="keywordtype">float</span>                scaleToXamlResolution(<span class="keywordtype">float</span> fDots);
<a name="l00300"></a>00300     const <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_string.html">DWFString</a> &amp;           getDictionaryResourcePath() const;
<a name="l00301"></a>00301     <a class="code" href="class_xaml_dictionary.html">XamlDictionary</a> *            dictionary() const;
<a name="l00302"></a>00302     WT_Result                   calculateDesiredFontStringSize( const WT_String&amp; rString, <span class="keywordtype">double</span> &amp;rfWidth, <span class="keywordtype">double</span> &amp;rfHeight, <span class="keywordtype">double</span> &amp;rfBase, <span class="keywordtype">double</span> &amp;rfAscent ) const;
<a name="l00303"></a>00303     WT_Result                   registerFontUri( const <span class="keywordtype">wchar_t</span>* zFontName,  const <span class="keywordtype">wchar_t</span>* zFontUri );
<a name="l00304"></a>00304     const <span class="keywordtype">wchar_t</span>*              resolveFontUri( const <span class="keywordtype">wchar_t</span>* zFontName ) const;
<a name="l00305"></a>00305     WT_Result                   registerMacro( const <a class="code" href="class_w_t___x_a_m_l___macro___definition.html">WT_XAML_Macro_Definition</a> * );
<a name="l00306"></a>00306     <span class="keywordtype">bool</span>                        findMacro( WT_Integer32 nIndex, WT_XAML_Macro_Definition *&amp; ) const;
<a name="l00307"></a>00307     <span class="keywordtype">bool</span>&amp;                       serializingAsW2DContent();
<a name="l00308"></a>00308     const <span class="keywordtype">bool</span> &amp;                serializingAsW2DContent() const;
<a name="l00309"></a>00309     WT_File* &amp;                  w2dContentFile();
<a name="l00310"></a>00310     WT_File* const &amp;            w2dContentFile() const;
<a name="l00311"></a>00311     <a class="code" href="classt_memory_buffer.html">tMemoryBuffer</a>*              getBuffer( size_t nMinLengthInBytes ) throw(<a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a>);
<a name="l00312"></a>00312     <span class="keywordtype">void</span>                        releaseBuffer( <a class="code" href="classt_memory_buffer.html">tMemoryBuffer</a> *pBuffer ) throw(DWFException);
<a name="l00313"></a>00313     <a class="code" href="classt_memory_buffer.html">tMemoryBuffer</a>*              exchangeBuffer( <a class="code" href="classt_memory_buffer.html">tMemoryBuffer</a>*, size_t nMinLengthInBytes ) throw(DWFException);
<a name="l00314"></a>00314 
<a name="l00315"></a>00315     <span class="comment">// file state</span>
<a name="l00316"></a>00316     const <span class="keywordtype">int</span>&amp;                  nameIndex() const;
<a name="l00317"></a>00317     <span class="keywordtype">int</span>&amp;                        nameIndex();
<a name="l00318"></a>00318 
<a name="l00319"></a>00319     <span class="comment">// version overrides            </span>
<a name="l00320"></a>00320     <span class="keywordtype">int</span>                         toolkit_major_revision() const;
<a name="l00321"></a>00321     <span class="keywordtype">int</span>                         toolkit_minor_revision() const;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323     <span class="comment">// path delay logic</span>
<a name="l00324"></a>00324     virtual WT_Result           merge_or_delay_path(<a class="code" href="class_xaml_path.html">XamlPath</a> const &amp; current);
<a name="l00325"></a>00325     <span class="keywordtype">void</span>                        set_delayed_path(<a class="code" href="class_xaml_path.html">XamlPath</a> *path);
<a name="l00326"></a>00326     <a class="code" href="class_xaml_path.html">XamlPath</a> *                  delayed_path() const;
<a name="l00327"></a>00327     WT_Result                   dump_delayed_drawable();
<a name="l00328"></a>00328 
<a name="l00329"></a>00329     <span class="comment">//RenditionSync tag started flag - used in all attributes serialization method</span>
<a name="l00330"></a>00330     <span class="keywordtype">bool</span>                        isRenditionSyncStarted();
<a name="l00331"></a>00331     <span class="keywordtype">void</span>                        setRenditionSyncStarted(<span class="keywordtype">bool</span> bRenditionSyncStarted);
<a name="l00332"></a>00332     WT_Result                   serializeRenditionSyncStartElement();
<a name="l00333"></a>00333     WT_Result                   serializeRenditionSyncEndElement();
<a name="l00334"></a>00334     <span class="comment">//Viewport serialization needs to start new Canvas element</span>
<a name="l00335"></a>00335     WT_Result                   serializeCanvasStartElement( <span class="keywordtype">bool</span> bNesting=true );
<a name="l00336"></a>00336     WT_Result                   serializeCanvasEndElement( <span class="keywordtype">bool</span> bNesting=true );
<a name="l00337"></a>00337     <span class="comment">// path utilities</span>
<a name="l00338"></a>00338     <span class="keywordtype">void</span>                        setPathData(const <span class="keywordtype">char</span>* pData);
<a name="l00339"></a>00339     const <span class="keywordtype">char</span>*                 getPathData() const;
<a name="l00340"></a>00340     <span class="keywordtype">bool</span>                        isPathDataSet() const;
<a name="l00341"></a>00341     WT_Result                   materializePathData();
<a name="l00342"></a>00342 
<a name="l00343"></a>00343     <span class="comment">// refName string </span>
<a name="l00344"></a>00344     const <span class="keywordtype">wchar_t</span>*              nameIndexString();
<a name="l00345"></a>00345     const <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_string.html">DWFString</a>&amp;            nameIndexPrefix() const;
<a name="l00346"></a>00346     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_string.html">DWFString</a>&amp;                  nameIndexPrefix();
<a name="l00347"></a>00347     <span class="keywordtype">int</span>                         parseNameIndex( const <span class="keywordtype">char</span>* pName );
<a name="l00348"></a>00348 
<a name="l00349"></a>00349     <span class="comment">// XamlDrawableAttributes::Name::Provider</span>
<a name="l00350"></a>00350     WT_Result                   provideName( XamlDrawableAttributes::Name *&amp; );
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 private:
<a name="l00353"></a>00353     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_string.html">DWFString</a>                   generateUniquePrefix() const;
<a name="l00354"></a>00354     <span class="keywordtype">bool</span>                        isWriteMode() const;
<a name="l00355"></a>00355     <span class="keywordtype">void</span>                        setCurrentCmd(const <span class="keywordtype">char</span>* pStartAddress);
<a name="l00356"></a>00356     <span class="keywordtype">char</span>                        getNextCommand();<span class="comment">//const char* &amp;pPathString);</span>
<a name="l00357"></a>00357     static WT_Result            DWFXamlStreamOpen(WT_File &amp; file);
<a name="l00358"></a>00358     static WT_Result            DWFXamlStreamClose (WT_File &amp; file);
<a name="l00359"></a>00359 
<a name="l00360"></a>00360 public:
<a name="l00361"></a>00361     <span class="comment">// String defines for each WhipTk class, overkill but we'll need most of them</span>
<a name="l00362"></a>00362 #define CALLBACK_MACRO(class_name, class_lower) \
<a name="l00363"></a>00363     static const <span class="keywordtype">char</span>* const pcW2X##class_name##_Element;
<a name="l00364"></a>00364     CALLBACK_LIST
<a name="l00365"></a>00365 #undef CALLBACK_MACRO
<a name="l00366"></a>00366 
<a name="l00367"></a>00367         <span class="comment">//Name prefix</span>
<a name="l00368"></a><a class="code" href="class_w_t___x_a_m_l___file.html#f732bab8e6747cf35adced1e5d802fed">00368</a>         static const <span class="keywordtype">wchar_t</span>* const kpzName_Prefix;
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 private:
<a name="l00371"></a>00371 
<a name="l00372"></a>00372     <span class="comment">// I/O</span>
<a name="l00373"></a>00373     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*                    _pXamlStreamOut;
<a name="l00374"></a>00374     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*                    _pXamlDictionaryStreamOut;
<a name="l00375"></a>00375     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*                    _pW2xStreamOut;
<a name="l00376"></a>00376     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*                     _pXamlStreamIn;
<a name="l00377"></a>00377     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*                     _pXamlDictionaryStreamIn;
<a name="l00378"></a>00378     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*                     _pW2xStreamIn;
<a name="l00379"></a>00379     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*                   _pXamlSerializer;
<a name="l00380"></a>00380     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*                   _pXamlDictionarySerializer;
<a name="l00381"></a>00381     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*                   _pW2xSerializer;
<a name="l00382"></a>00382     <a class="code" href="class_w_t___opc_resource_serializer.html">WT_OpcResourceSerializer</a>*           _pOpcResourceSerializer;
<a name="l00383"></a>00383     <a class="code" href="class_w_t___opc_resource_materializer.html">WT_OpcResourceMaterializer</a>*         _pOpcResourceMaterializer;
<a name="l00384"></a>00384     <a class="code" href="class_w_t___x_a_m_l___w2_x___parser.html">WT_XAML_W2X_Parser</a>*                 _pW2XParser;
<a name="l00385"></a>00385     <a class="code" href="class_w_t___x_a_m_l___xaml___parser.html">WT_XAML_Xaml_Parser</a>*                _pXamlParser;
<a name="l00386"></a>00386 
<a name="l00387"></a>00387     <span class="comment">// WT_File override data</span>
<a name="l00388"></a>00388     <a class="code" href="class_w_t___x_a_m_l___rendition.html">WT_XAML_Rendition</a>           _oDesiredRendition;
<a name="l00389"></a>00389     <a class="code" href="class_w_t___x_a_m_l___rendition.html">WT_XAML_Rendition</a>*          _pRendition;
<a name="l00390"></a>00390         <a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___object_list.html">WT_XAML_ObjectList</a>                      _oObjectList;
<a name="l00391"></a>00391     tObjectStack                _oNestedObjectStack;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393     <span class="comment">// Page layout</span>
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     <span class="comment">//</span>
<a name="l00396"></a>00396     <span class="comment">// the page/reverse page transforms are the actual logical-space &lt;-&gt;</span>
<a name="l00397"></a>00397     <span class="comment">// final paper projections</span>
<a name="l00398"></a>00398     <span class="comment">//</span>
<a name="l00399"></a>00399     <span class="comment">// the inner page transform is just a translation matrix used to</span>
<a name="l00400"></a>00400     <span class="comment">// inhibit the translation from the 2D graphics resource page transform</span>
<a name="l00401"></a>00401     <span class="comment">// (added by the toolkit to the top-level xml element). This is</span>
<a name="l00402"></a>00402     <span class="comment">// mandatory to preserve accuracy (the idea is to have a concatenated</span>
<a name="l00403"></a>00403     <span class="comment">// page transform * inner transform with a 0 translation)</span>
<a name="l00404"></a>00404     <span class="comment">//</span>
<a name="l00405"></a>00405     WT_Matrix2D                 _oPageTransform;
<a name="l00406"></a>00406     WT_Matrix2D                 _oReversePageTransform;
<a name="l00407"></a>00407     WT_Matrix2D                 _oInnerPageTransform;
<a name="l00408"></a>00408 
<a name="l00409"></a>00409     WT_Point2D                  _oPageSize;
<a name="l00410"></a>00410     WT_Point2D                  _oTranslation;
<a name="l00411"></a>00411     <span class="keywordtype">double</span>                      _fYMirror;
<a name="l00412"></a>00412     <span class="keywordtype">bool</span>                        _bValidLayout;
<a name="l00413"></a>00413     <span class="keywordtype">bool</span>                        _bTopLevelCanvasWritten;
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 
<a name="l00416"></a>00416     <span class="comment">// Overposting</span>
<a name="l00417"></a>00417     vector&lt;WT_Logical_Box&gt;      _oOverpostClip;
<a name="l00418"></a>00418 
<a name="l00419"></a>00419     <span class="comment">// Path state</span>
<a name="l00420"></a>00420     <a class="code" href="class_xaml_path.html">XamlPath</a>*                   _pDelayedPath;
<a name="l00421"></a>00421     WT_Point2D                  _oCurrentPoint;
<a name="l00422"></a>00422 
<a name="l00423"></a>00423     <span class="comment">// Flags</span>
<a name="l00424"></a>00424     <span class="keywordtype">bool</span>                        _bIsCurrentlyDumpingDelayedPath;
<a name="l00425"></a>00425     <span class="keywordtype">bool</span>                        _bIsUnitsTransformSet;
<a name="l00426"></a>00426     <span class="keywordtype">bool</span>                        _bIsRenditionSyncStarted;
<a name="l00427"></a>00427     <span class="keywordtype">bool</span>                        _bIsNonNestedCanvasElementStarted;
<a name="l00428"></a>00428     <span class="keywordtype">bool</span>                        _bIsObfuscateEmbeddedFonts;
<a name="l00429"></a>00429     <span class="keywordtype">bool</span>                        _bIsEndOfDwfSent;
<a name="l00430"></a>00430     <span class="keywordtype">bool</span>                        _bSerializingMacroDefinition;
<a name="l00431"></a>00431 
<a name="l00432"></a>00432     <span class="comment">// State</span>
<a name="l00433"></a>00433     <span class="keywordtype">int</span>                         _nNameIndex;
<a name="l00434"></a>00434     <span class="keywordtype">wchar_t</span>*                    _pwcNameString;
<a name="l00435"></a>00435     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_string.html">DWFString</a>                   _zNamePrefix;
<a name="l00436"></a>00436 
<a name="l00437"></a>00437     <span class="comment">// Utility objects</span>
<a name="l00438"></a>00438     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_string.html">DWFString</a>                   _szDictionaryResourcePath;
<a name="l00439"></a>00439     <a class="code" href="class_xaml_dictionary.html">XamlDictionary</a> *            _pDictionary;
<a name="l00440"></a>00440     <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_u_u_i_d.html">DWFUUID</a>                     _oUUIDProvider;
<a name="l00441"></a>00441     tStringMap                  _oFontRefNameMap;
<a name="l00442"></a>00442     tMacroMap                   _oMacroMap;
<a name="l00443"></a>00443     tCachedTTFFontMap           _oCachedTTFFontMap;
<a name="l00444"></a>00444 
<a name="l00445"></a>00445     WT_File*                    _pMacroDefinitionFile;
<a name="l00446"></a>00446     tMemoryBufferMap            _oAvailableBuffers;
<a name="l00447"></a>00447 };
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 <span class="comment">//Inlines</span>
<a name="l00450"></a>00450 inline <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*&amp;
<a name="l00451"></a><a class="code" href="class_w_t___x_a_m_l___file.html#e83479f7e5ab4fedf35fa10ddfbb5286">00451</a> <a class="code" href="class_w_t___x_a_m_l___file.html">WT_XAML_File</a>::xamlSerializer()   
<a name="l00452"></a>00452 { 
<a name="l00453"></a>00453     <span class="keywordflow">return</span> _pXamlSerializer; 
<a name="l00454"></a>00454 }
<a name="l00455"></a>00455 
<a name="l00456"></a>00456 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*&amp;
<a name="l00457"></a><a class="code" href="class_w_t___x_a_m_l___file.html#a186bc0870714e44b041bd642b197bed">00457</a> <a class="code" href="class_w_t___x_a_m_l___file.html#a186bc0870714e44b041bd642b197bed">WT_XAML_File::xamlDictionarySerializer</a>()   
<a name="l00458"></a>00458 { 
<a name="l00459"></a>00459     <span class="keywordflow">return</span> _pXamlDictionarySerializer; 
<a name="l00460"></a>00460 }
<a name="l00461"></a>00461 
<a name="l00462"></a>00462 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_x_m_l_serializer.html">DWFXMLSerializer</a>*&amp;
<a name="l00463"></a><a class="code" href="class_w_t___x_a_m_l___file.html#a4ac6cc22ffd29caf206fd59c6f758a7">00463</a> <a class="code" href="class_w_t___x_a_m_l___file.html#a4ac6cc22ffd29caf206fd59c6f758a7">WT_XAML_File::w2xSerializer</a>()
<a name="l00464"></a>00464 { 
<a name="l00465"></a>00465     <span class="keywordflow">return</span> _pW2xSerializer; 
<a name="l00466"></a>00466 }
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*&amp;
<a name="l00469"></a><a class="code" href="class_w_t___x_a_m_l___file.html#7e85f3d91df4f01a3837f7f60952ce6a">00469</a> <a class="code" href="class_w_t___x_a_m_l___file.html#7e85f3d91df4f01a3837f7f60952ce6a">WT_XAML_File::xamlStreamOut</a>()
<a name="l00470"></a>00470 {
<a name="l00471"></a>00471     <span class="keywordflow">return</span> _pXamlStreamOut;
<a name="l00472"></a>00472 }
<a name="l00473"></a>00473 
<a name="l00474"></a>00474 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*&amp;
<a name="l00475"></a><a class="code" href="class_w_t___x_a_m_l___file.html#f8b5eca3ce1386e251a7ed67f2a81084">00475</a> <a class="code" href="class_w_t___x_a_m_l___file.html#f8b5eca3ce1386e251a7ed67f2a81084">WT_XAML_File::xamlDictionaryStreamOut</a>()
<a name="l00476"></a>00476 {
<a name="l00477"></a>00477     <span class="keywordflow">return</span> _pXamlDictionaryStreamOut;
<a name="l00478"></a>00478 }
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_output_stream.html">DWFOutputStream</a>*&amp;
<a name="l00481"></a><a class="code" href="class_w_t___x_a_m_l___file.html#5d92f15be747987f334f6ac92a27b352">00481</a> <a class="code" href="class_w_t___x_a_m_l___file.html#5d92f15be747987f334f6ac92a27b352">WT_XAML_File::w2xStreamOut</a>()
<a name="l00482"></a>00482 {
<a name="l00483"></a>00483     <span class="keywordflow">return</span> _pW2xStreamOut;
<a name="l00484"></a>00484 }
<a name="l00485"></a>00485 
<a name="l00486"></a>00486 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*&amp;
<a name="l00487"></a><a class="code" href="class_w_t___x_a_m_l___file.html#5168ec99043c9cfc910f1c656b75f6f3">00487</a> <a class="code" href="class_w_t___x_a_m_l___file.html#5168ec99043c9cfc910f1c656b75f6f3">WT_XAML_File::xamlStreamIn</a>()
<a name="l00488"></a>00488 {
<a name="l00489"></a>00489     <span class="keywordflow">return</span> _pXamlStreamIn;
<a name="l00490"></a>00490 }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*&amp;
<a name="l00493"></a><a class="code" href="class_w_t___x_a_m_l___file.html#eb7a3c362467a466381031592d003ce9">00493</a> <a class="code" href="class_w_t___x_a_m_l___file.html#eb7a3c362467a466381031592d003ce9">WT_XAML_File::xamlDictionaryStreamIn</a>()
<a name="l00494"></a>00494 {
<a name="l00495"></a>00495     <span class="keywordflow">return</span> _pXamlDictionaryStreamIn;
<a name="l00496"></a>00496 }
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 <span class="keyword">inline</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_input_stream.html">DWFInputStream</a>*&amp;
<a name="l00499"></a><a class="code" href="class_w_t___x_a_m_l___file.html#2ce841a4a279bd0451d72e9094b87852">00499</a> <a class="code" href="class_w_t___x_a_m_l___file.html#2ce841a4a279bd0451d72e9094b87852">WT_XAML_File::w2xStreamIn</a>()
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501     <span class="keywordflow">return</span> _pW2xStreamIn;
<a name="l00502"></a>00502 }
<a name="l00503"></a>00503 
<a name="l00504"></a>00504 <span class="keyword">inline</span> <a class="code" href="class_w_t___x_a_m_l___w2_x___parser.html">WT_XAML_W2X_Parser</a>*&amp;
<a name="l00505"></a><a class="code" href="class_w_t___x_a_m_l___file.html#dec64ce7ec25e16a0478f9c09ac81ab4">00505</a> <a class="code" href="class_w_t___x_a_m_l___file.html#dec64ce7ec25e16a0478f9c09ac81ab4">WT_XAML_File::w2xParser</a>()
<a name="l00506"></a>00506 {
<a name="l00507"></a>00507     <span class="keywordflow">return</span> _pW2XParser;
<a name="l00508"></a>00508 }
<a name="l00509"></a>00509 
<a name="l00510"></a>00510 <span class="keyword">inline</span> <a class="code" href="class_w_t___x_a_m_l___xaml___parser.html">WT_XAML_Xaml_Parser</a>*&amp;
<a name="l00511"></a><a class="code" href="class_w_t___x_a_m_l___file.html#9b865699122afb69177a1ecca5e06690">00511</a> <a class="code" href="class_w_t___x_a_m_l___file.html#9b865699122afb69177a1ecca5e06690">WT_XAML_File::xamlParser</a>()
<a name="l00512"></a>00512 {
<a name="l00513"></a>00513     <span class="keywordflow">return</span> _pXamlParser;
<a name="l00514"></a>00514 }
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___object_list.html">WT_XAML_File::WT_XAML_ObjectList</a>&amp;
<a name="l00517"></a><a class="code" href="class_w_t___x_a_m_l___file.html#92ca259eeb328c4fb87f5ea80ad116f4">00517</a> <a class="code" href="class_w_t___x_a_m_l___file.html#92ca259eeb328c4fb87f5ea80ad116f4">WT_XAML_File::object_list</a>()<span class="keyword"> const</span>
<a name="l00518"></a>00518 <span class="keyword"></span>{
<a name="l00519"></a>00519     <span class="keywordflow">return</span> _oObjectList;
<a name="l00520"></a>00520 }
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 <span class="keyword">inline</span> <a class="code" href="class_w_t___x_a_m_l___file_1_1_w_t___x_a_m_l___object_list.html">WT_XAML_File::WT_XAML_ObjectList</a>&amp;
<a name="l00523"></a><a class="code" href="class_w_t___x_a_m_l___file.html#72d712c9a4c665c115c57281bb5e5547">00523</a> <a class="code" href="class_w_t___x_a_m_l___file.html#92ca259eeb328c4fb87f5ea80ad116f4">WT_XAML_File::object_list</a>()
<a name="l00524"></a>00524 {
<a name="l00525"></a>00525     <span class="keywordflow">return</span> _oObjectList;
<a name="l00526"></a>00526 }
<a name="l00527"></a>00527 
<a name="l00528"></a>00528 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="class_w_t___x_a_m_l___file.html#f35dc1c2129d93b08b848c228786b0a1">WT_XAML_File::tObjectStack</a>&amp;
<a name="l00529"></a><a class="code" href="class_w_t___x_a_m_l___file.html#687becd21a723962aea4c24d0568c68f">00529</a> <a class="code" href="class_w_t___x_a_m_l___file.html#687becd21a723962aea4c24d0568c68f">WT_XAML_File::nested_object_stack</a>()<span class="keyword"> const</span>
<a name="l00530"></a>00530 <span class="keyword"></span>{
<a name="l00531"></a>00531     <span class="keywordflow">return</span> _oNestedObjectStack;
<a name="l00532"></a>00532 }
<a name="l00533"></a>00533 
<a name="l00534"></a>00534 <span class="keyword">inline</span> <a class="code" href="class_w_t___x_a_m_l___file.html#f35dc1c2129d93b08b848c228786b0a1">WT_XAML_File::tObjectStack</a>&amp;
<a name="l00535"></a><a class="code" href="class_w_t___x_a_m_l___file.html#2b21724e1113974c7934221528626300">00535</a> <a class="code" href="class_w_t___x_a_m_l___file.html#687becd21a723962aea4c24d0568c68f">WT_XAML_File::nested_object_stack</a>()
<a name="l00536"></a>00536 {
<a name="l00537"></a>00537     <span class="keywordflow">return</span> _oNestedObjectStack;
<a name="l00538"></a>00538 }
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 
<a name="l00541"></a>00541 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00542"></a><a class="code" href="class_w_t___x_a_m_l___file.html#b1c900eb0ce1066dc6f64b9c2f3cab23">00542</a> <a class="code" href="class_w_t___x_a_m_l___file.html#b1c900eb0ce1066dc6f64b9c2f3cab23">WT_XAML_File::isLayoutValid</a>()<span class="keyword"> const</span>
<a name="l00543"></a>00543 <span class="keyword"></span>{
<a name="l00544"></a>00544     <span class="keywordflow">return</span> _bValidLayout;
<a name="l00545"></a>00545 }
<a name="l00546"></a>00546 
<a name="l00547"></a>00547 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00548"></a><a class="code" href="class_w_t___x_a_m_l___file.html#28c01b4d1b8cf9d8852b67de74628191">00548</a> <a class="code" href="class_w_t___x_a_m_l___file.html#28c01b4d1b8cf9d8852b67de74628191">WT_XAML_File::isTopLevelCanvasWritten</a>()<span class="keyword"> const</span>
<a name="l00549"></a>00549 <span class="keyword"></span>{
<a name="l00550"></a>00550     <span class="keywordflow">return</span> _bTopLevelCanvasWritten;
<a name="l00551"></a>00551 }
<a name="l00552"></a>00552 
<a name="l00553"></a>00553 <span class="comment">//</span>
<a name="l00554"></a>00554 <span class="comment">// note : to switch back to the initial layout scheme, return</span>
<a name="l00555"></a>00555 <span class="comment">// _oPageTransform, instead of _oInnerPageTransform</span>
<a name="l00556"></a>00556 <span class="comment">//</span>
<a name="l00557"></a>00557 <span class="keyword">inline</span> <span class="keyword">const</span> WT_Matrix2D &amp;
<a name="l00558"></a><a class="code" href="class_w_t___x_a_m_l___file.html#a12c075517fa3171fea80d24371e85fb">00558</a> <a class="code" href="class_w_t___x_a_m_l___file.html#a12c075517fa3171fea80d24371e85fb">WT_XAML_File::innerPageTransform</a>()<span class="keyword"> const</span>
<a name="l00559"></a>00559 <span class="keyword"></span>{
<a name="l00560"></a>00560     <span class="keywordflow">return</span> _oInnerPageTransform;
<a name="l00561"></a>00561 }
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="codeRef" doxygen="dwfcore.tag:../../../docs/DWF Core/html/" href="../../../docs/DWF Core/html/class_d_w_f_core_1_1_d_w_f_string.html">DWFString</a> &amp;
<a name="l00564"></a><a class="code" href="class_w_t___x_a_m_l___file.html#93cdf79d5434c6a9b2a57040419f08af">00564</a> <a class="code" href="class_w_t___x_a_m_l___file.html#93cdf79d5434c6a9b2a57040419f08af">WT_XAML_File::getDictionaryResourcePath</a>()<span class="keyword"> const</span>
<a name="l00565"></a>00565 <span class="keyword"></span>{
<a name="l00566"></a>00566     <span class="keywordflow">return</span> _szDictionaryResourcePath;
<a name="l00567"></a>00567 }
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <span class="keyword">inline</span> <a class="code" href="class_xaml_dictionary.html">XamlDictionary</a> *
<a name="l00570"></a><a class="code" href="class_w_t___x_a_m_l___file.html#bc46c9d2e6b4d5471fdd84678787e71b">00570</a> <a class="code" href="class_w_t___x_a_m_l___file.html#bc46c9d2e6b4d5471fdd84678787e71b">WT_XAML_File::dictionary</a>()<span class="keyword"> const</span>
<a name="l00571"></a>00571 <span class="keyword"></span>{
<a name="l00572"></a>00572     <span class="keywordflow">return</span> _pDictionary;
<a name="l00573"></a>00573 }
<a name="l00574"></a>00574 
<a name="l00575"></a>00575 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00576"></a><a class="code" href="class_w_t___x_a_m_l___file.html#c81c33163e0f33abc34f5ee0b763128a">00576</a> <a class="code" href="class_w_t___x_a_m_l___file.html#c81c33163e0f33abc34f5ee0b763128a">WT_XAML_File::set_delayed_path</a>(<a class="code" href="class_xaml_path.html">XamlPath</a> *pPath) 
<a name="l00577"></a>00577 {   
<a name="l00578"></a>00578     WD_Assert(!_pDelayedPath); 
<a name="l00579"></a>00579     _pDelayedPath = pPath; 
<a name="l00580"></a>00580 }
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 <span class="keyword">inline</span> <a class="code" href="class_xaml_path.html">XamlPath</a> *
<a name="l00583"></a><a class="code" href="class_w_t___x_a_m_l___file.html#f61f6437947bbd5dce9b6c1f076bcbde">00583</a> <a class="code" href="class_w_t___x_a_m_l___file.html#f61f6437947bbd5dce9b6c1f076bcbde">WT_XAML_File::delayed_path</a>()<span class="keyword"> const</span>
<a name="l00584"></a>00584 <span class="keyword"></span>{
<a name="l00585"></a>00585     <span class="keywordflow">return</span> _pDelayedPath; 
<a name="l00586"></a>00586 }
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 <span class="keyword">inline</span> <span class="keywordtype">float</span>
<a name="l00589"></a><a class="code" href="class_w_t___x_a_m_l___file.html#e7258508528d697febf0198629bfe165">00589</a> <a class="code" href="class_w_t___x_a_m_l___file.html#e7258508528d697febf0198629bfe165">WT_XAML_File::scaleLongToFloat</a>(<span class="keywordtype">long</span> n)
<a name="l00590"></a>00590 {
<a name="l00591"></a>00591     <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)n * LONG_TO_FLOAT_SCALE; 
<a name="l00592"></a>00592 }
<a name="l00593"></a>00593 
<a name="l00594"></a>00594 <span class="keyword">inline</span> <span class="keywordtype">float</span>
<a name="l00595"></a><a class="code" href="class_w_t___x_a_m_l___file.html#1f729c81fd4ad384885c3be5eb5e5520">00595</a> <a class="code" href="class_w_t___x_a_m_l___file.html#1f729c81fd4ad384885c3be5eb5e5520">WT_XAML_File::scaleToXamlResolution</a>(<span class="keywordtype">float</span> fDots)
<a name="l00596"></a>00596 {
<a name="l00597"></a>00597     <span class="keywordflow">return</span> fDots / DEFAULT_DPI * XAML_DPI_MULTIPLIER; 
<a name="l00598"></a>00598 }
<a name="l00599"></a>00599 
<a name="l00600"></a>00600 <span class="keyword">inline</span> <span class="keywordtype">int</span> <span class="keyword">const</span> &amp;
<a name="l00601"></a><a class="code" href="class_w_t___x_a_m_l___file.html#d2a751ffdb2546fefb90fc7e6d1a73fd">00601</a> <a class="code" href="class_w_t___x_a_m_l___file.html#d2a751ffdb2546fefb90fc7e6d1a73fd">WT_XAML_File::nameIndex</a>()<span class="keyword"> const</span>
<a name="l00602"></a>00602 <span class="keyword"></span>{
<a name="l00603"></a>00603     <span class="keywordflow">return</span> _nNameIndex; 
<a name="l00604"></a>00604 }
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 <span class="keyword">inline</span> <span class="keywordtype">int</span>&amp;
<a name="l00607"></a><a class="code" href="class_w_t___x_a_m_l___file.html#5a4582f8c9b73c26acd2a9c571a654a7">00607</a> <a class="code" href="class_w_t___x_a_m_l___file.html#d2a751ffdb2546fefb90fc7e6d1a73fd">WT_XAML_File::nameIndex</a>()
<a name="l00608"></a>00608 {
<a name="l00609"></a>00609     <span class="keywordflow">return</span> _nNameIndex; 
<a name="l00610"></a>00610 }
<a name="l00611"></a>00611 
<a name="l00612"></a>00612 <span class="keyword">inline</span> WT_Rendition &amp;
<a name="l00613"></a><a class="code" href="class_w_t___x_a_m_l___file.html#274b9f8878ed3986bcea28954b48a1a6">00613</a> <a class="code" href="class_w_t___x_a_m_l___file.html#274b9f8878ed3986bcea28954b48a1a6">WT_XAML_File::desired_rendition</a>()
<a name="l00614"></a>00614 {
<a name="l00615"></a>00615     <span class="keywordflow">return</span> _oDesiredRendition; 
<a name="l00616"></a>00616 }
<a name="l00617"></a>00617 
<a name="l00618"></a>00618 <span class="keyword">inline</span> WT_Rendition &amp;
<a name="l00619"></a><a class="code" href="class_w_t___x_a_m_l___file.html#d5873a7b765441946d25519e9c9a3a55">00619</a> <a class="code" href="class_w_t___x_a_m_l___file.html#d5873a7b765441946d25519e9c9a3a55">WT_XAML_File::rendition</a>()
<a name="l00620"></a>00620 {
<a name="l00621"></a>00621     <span class="keywordflow">return</span> *_pRendition; 
<a name="l00622"></a>00622 }
<a name="l00623"></a>00623 
<a name="l00624"></a>00624 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00625"></a>00625 WT_XAML_File::isWriteMode()<span class="keyword"> const  </span>
<a name="l00626"></a>00626 <span class="keyword"></span>{ 
<a name="l00627"></a>00627     <span class="keywordflow">return</span> file_mode() != WT_File::File_Read &amp;&amp; file_mode() != WT_File::Block_Read; 
<a name="l00628"></a>00628 }
<a name="l00629"></a>00629 
<a name="l00630"></a>00630 <span class="keyword">inline</span> <a class="code" href="class_w_t___opc_resource_serializer.html">WT_OpcResourceSerializer</a>*&amp;   
<a name="l00631"></a><a class="code" href="class_w_t___x_a_m_l___file.html#7277c7608b0b0c84b9c5b28328f8a470">00631</a> <a class="code" href="class_w_t___x_a_m_l___file.html#7277c7608b0b0c84b9c5b28328f8a470">WT_XAML_File::opcResourceSerializer</a>()
<a name="l00632"></a>00632 {
<a name="l00633"></a>00633     <span class="keywordflow">return</span> _pOpcResourceSerializer;
<a name="l00634"></a>00634 }
<a name="l00635"></a>00635 
<a name="l00636"></a>00636 <span class="keyword">inline</span> <a class="code" href="class_w_t___opc_resource_materializer.html">WT_OpcResourceMaterializer</a>*&amp; 
<a name="l00637"></a><a class="code" href="class_w_t___x_a_m_l___file.html#3166c0db6d183b37d326a5a41f663f5e">00637</a> <a class="code" href="class_w_t___x_a_m_l___file.html#3166c0db6d183b37d326a5a41f663f5e">WT_XAML_File::opcResourceMaterializer</a>()
<a name="l00638"></a>00638 {
<a name="l00639"></a>00639     <span class="keywordflow">return</span> _pOpcResourceMaterializer;
<a name="l00640"></a>00640 }
<a name="l00641"></a>00641 
<a name="l00642"></a>00642 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00643"></a><a class="code" href="class_w_t___x_a_m_l___file.html#2a1248c6883bf3d06506dcd3ef0bc79c">00643</a> <a class="code" href="class_w_t___x_a_m_l___file.html#2a1248c6883bf3d06506dcd3ef0bc79c">WT_XAML_File::isRenditionSyncStarted</a>()
<a name="l00644"></a>00644 {
<a name="l00645"></a>00645     <span class="keywordflow">return</span> _bIsRenditionSyncStarted;
<a name="l00646"></a>00646 }
<a name="l00647"></a>00647 
<a name="l00648"></a>00648 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00649"></a><a class="code" href="class_w_t___x_a_m_l___file.html#bf149b21a9531254a82d4542ac24283a">00649</a> <a class="code" href="class_w_t___x_a_m_l___file.html#bf149b21a9531254a82d4542ac24283a">WT_XAML_File::setRenditionSyncStarted</a>(<span class="keywordtype">bool</span> bRenditionSyncStarted)
<a name="l00650"></a>00650 {
<a name="l00651"></a>00651     _bIsRenditionSyncStarted = bRenditionSyncStarted;
<a name="l00652"></a>00652 }
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp;
<a name="l00655"></a><a class="code" href="class_w_t___x_a_m_l___file.html#8dde9794c4e478e27da3bb20c23023d7">00655</a> <a class="code" href="class_w_t___x_a_m_l___file.html#8dde9794c4e478e27da3bb20c23023d7">WT_XAML_File::obfuscate_embedded_fonts</a>()<span class="keyword"> const</span>
<a name="l00656"></a>00656 <span class="keyword"></span>{
<a name="l00657"></a>00657     <span class="keywordflow">return</span> _bIsObfuscateEmbeddedFonts;
<a name="l00658"></a>00658 }
<a name="l00659"></a>00659 
<a name="l00660"></a>00660 <span class="keyword">inline</span> <span class="keywordtype">bool</span>&amp;
<a name="l00661"></a><a class="code" href="class_w_t___x_a_m_l___file.html#2425b5e9dd51196d00be9c7eea22c28b">00661</a> <a class="code" href="class_w_t___x_a_m_l___file.html#8dde9794c4e478e27da3bb20c23023d7">WT_XAML_File::obfuscate_embedded_fonts</a>()
<a name="l00662"></a>00662 {
<a name="l00663"></a>00663     <span class="keywordflow">return</span> _bIsObfuscateEmbeddedFonts;
<a name="l00664"></a>00664 }
<a name="l00665"></a>00665 
<a name="l00666"></a>00666 <span class="keyword">inline</span> <a class="code" href="class_w_t___x_a_m_l___file.html#ccc9fa7e87a4488956268e6a3b0bcc92">WT_XAML_File::tCachedTTFFontMap</a>&amp;
<a name="l00667"></a><a class="code" href="class_w_t___x_a_m_l___file.html#3d24aa097769e8ff552fbd9ff96cde7c">00667</a> <a class="code" href="class_w_t___x_a_m_l___file.html#3d24aa097769e8ff552fbd9ff96cde7c">WT_XAML_File::cached_ttf_fonts</a>()
<a name="l00668"></a>00668 {
<a name="l00669"></a>00669     <span class="keywordflow">return</span> _oCachedTTFFontMap;
<a name="l00670"></a>00670 }
<a name="l00671"></a>00671 
<a name="l00672"></a>00672 <span class="keyword">inline</span> <span class="keywordtype">bool</span>&amp;
<a name="l00673"></a><a class="code" href="class_w_t___x_a_m_l___file.html#c7fd503caeeb8897a8be5bacfa51de19">00673</a> <a class="code" href="class_w_t___x_a_m_l___file.html#c7fd503caeeb8897a8be5bacfa51de19">WT_XAML_File::serializingAsW2DContent</a>()
<a name="l00674"></a>00674 {
<a name="l00675"></a>00675     <span class="keywordflow">return</span> _bSerializingMacroDefinition;
<a name="l00676"></a>00676 }
<a name="l00677"></a>00677 
<a name="l00678"></a>00678 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp;
<a name="l00679"></a><a class="code" href="class_w_t___x_a_m_l___file.html#49632a67cfc73ea74997b1029faaaeb5">00679</a> <a class="code" href="class_w_t___x_a_m_l___file.html#c7fd503caeeb8897a8be5bacfa51de19">WT_XAML_File::serializingAsW2DContent</a>()<span class="keyword"> const</span>
<a name="l00680"></a>00680 <span class="keyword"></span>{
<a name="l00681"></a>00681     <span class="keywordflow">return</span> _bSerializingMacroDefinition;
<a name="l00682"></a>00682 }
<a name="l00683"></a>00683 
<a name="l00684"></a>00684 <span class="keyword">inline</span> WT_File* &amp;
<a name="l00685"></a><a class="code" href="class_w_t___x_a_m_l___file.html#cb773609600709356c222f375da0b667">00685</a> <a class="code" href="class_w_t___x_a_m_l___file.html#cb773609600709356c222f375da0b667">WT_XAML_File::w2dContentFile</a>()
<a name="l00686"></a>00686 {
<a name="l00687"></a>00687     <span class="keywordflow">return</span> _pMacroDefinitionFile;
<a name="l00688"></a>00688 }
<a name="l00689"></a>00689 
<a name="l00690"></a>00690 <span class="keyword">inline</span>  WT_File* <span class="keyword">const</span> &amp;
<a name="l00691"></a><a class="code" href="class_w_t___x_a_m_l___file.html#c8b855c844a562fcdb22ef6fb350d166">00691</a> <a class="code" href="class_w_t___x_a_m_l___file.html#cb773609600709356c222f375da0b667">WT_XAML_File::w2dContentFile</a>()<span class="keyword"> const</span>
<a name="l00692"></a>00692 <span class="keyword"></span>{
<a name="l00693"></a>00693     <span class="keywordflow">return</span> _pMacroDefinitionFile;
<a name="l00694"></a>00694 }
<a name="l00695"></a>00695 
<a name="l00696"></a>00696 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00697"></a><a class="code" href="class_w_t___x_a_m_l___file.html#1e9904d707889c17173c74bad0d811e2">00697</a> <a class="code" href="class_w_t___x_a_m_l___file.html#1e9904d707889c17173c74bad0d811e2">WT_XAML_File::toolkit_major_revision</a>()<span class="keyword"> const    </span>
<a name="l00698"></a>00698 <span class="keyword"></span>{    
<a name="l00699"></a>00699     <span class="keywordflow">return</span> <a class="code" href="xversion_8h.html#e6dd8acfc6e18d8497d57495bda69782">WD_XAML_Toolkit_Major_Revision</a>;    
<a name="l00700"></a>00700 }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00703"></a><a class="code" href="class_w_t___x_a_m_l___file.html#6b0c951908848d6e3ebf50181e7f28bf">00703</a> <a class="code" href="class_w_t___x_a_m_l___file.html#6b0c951908848d6e3ebf50181e7f28bf">WT_XAML_File::toolkit_minor_revision</a>()<span class="keyword"> const</span>
<a name="l00704"></a>00704 <span class="keyword"></span>{    
<a name="l00705"></a>00705     <span class="keywordflow">return</span> <a class="code" href="xversion_8h.html#6b73ddda12f078f95e3dae56fdcf393b">WD_XAML_Toolkit_Minor_Revision</a>;    
<a name="l00706"></a>00706 }
<a name="l00707"></a>00707 
<a name="l00708"></a>00708 <span class="preprocessor">#endif // WT_XAML_FILE_HEADER</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 6 22:40:05 2009 for Autodesk DWF Toolkit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
