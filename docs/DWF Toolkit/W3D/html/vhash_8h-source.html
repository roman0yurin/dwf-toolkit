<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<TITLE>Autodesk DWF Core Library</TITLE>
</HEAD>
<BODY>
<table border="0" cellpadding="0" cellspacing="0" width="100%" height="140">
	<tr>
		<td background="header.png">&nbsp;</td>
	</tr>
</table>
<!--
	<div class="headingImgcontainer"><img class="headingImg" src="header.png" alt="Autodesk DWF Core Library" title="Autodesk DWF Core Library" border="0" hspace="0" vspace="0"></div>
-->
</BODY>
</HTML>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2F.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2Fdwf_2F.html">dwf</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2Fdwf_2Fw3dtk_2F.html">w3dtk</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2Fdwf_2Fw3dtk_2Futility_2F.html">utility</a></div>
<h1>vhash.h</h1><a href="vhash_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00008"></a>00008 <span class="preprocessor">#ifndef VHASH_H</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#define VHASH_H</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include "<a class="code" href="vlist_8h.html">vlist.h</a>"</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#ifdef _WIN32_WCE</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#define VHASH_CDECL __cdecl</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00018"></a><a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">00018</a> <span class="preprocessor"></span><span class="preprocessor">#define VHASH_CDECL </span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00024"></a>00024 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
<a name="l00025"></a>00025 
<a name="l00039"></a><a class="code" href="vhash_8h.html#f24560a755c5080d2d883cae3e17c064">00039</a> <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *<a class="code" href="vhash_8h.html#f24560a755c5080d2d883cae3e17c064">vmalloc_t</a>) (size_t);
<a name="l00040"></a>00040 <span class="keyword">typedef</span> void (<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *vfree_t) (<span class="keywordtype">void</span>*);
<a name="l00041"></a><a class="code" href="structvhash__s.html">00041</a> <span class="keyword">typedef</span> <span class="keyword">struct</span> <a class="code" href="structvhash__s.html">vhash_s</a> {
<a name="l00042"></a><a class="code" href="structvhash__s.html#aab9e1de16f38176f86d7a92ba337a8d">00042</a>     <span class="keyword">struct</span> hash_node_s * table;
<a name="l00043"></a><a class="code" href="structvhash__s.html#e2942a04780e223b215eb8b663cf5353">00043</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> count;
<a name="l00044"></a><a class="code" href="structvhash__s.html#7b4e15655711b788adbeaeef09676207">00044</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> table_size;
<a name="l00045"></a><a class="code" href="structvhash__s.html#8c1c3ec39779d7aae2e66166e4bf3980">00045</a>     <span class="keywordtype">long</span> key_length;
<a name="l00046"></a><a class="code" href="structvhash__s.html#472a9d99d6c07a144bed2c9f8d528dde">00046</a>     <span class="keywordtype">char</span> * key_string;
<a name="l00047"></a>00047 #<span class="keywordflow">if</span> 0
<a name="l00048"></a>00048     <span class="keywordtype">void</span> *(<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *malloc) (size_t);
<a name="l00049"></a>00049     <span class="keywordtype">void</span> (<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *free) (<span class="keywordtype">void</span>*);
<a name="l00050"></a>00050 #<span class="keywordflow">else</span>
<a name="l00051"></a><a class="code" href="structvhash__s.html#224eda3dc1d26b208edcc3a08d3175f2">00051</a>         <a class="code" href="vhash_8h.html#f24560a755c5080d2d883cae3e17c064">vmalloc_t</a> malloc;
<a name="l00052"></a><a class="code" href="structvhash__s.html#aa2d6e4f578eb0cfaba23beef76c2194">00052</a>         vfree_t free;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 #endif
<a name="l00055"></a>00055 } <a class="code" href="structvhash__s.html">vhash_t</a>;
<a name="l00056"></a>00056 
<a name="l00060"></a><a class="code" href="vhash_8h.html#589a903ae9eeab6d487dac14ea7a00a1">00060</a> #define <a class="code" href="vhash_8h.html#589a903ae9eeab6d487dac14ea7a00a1">VHASH_STATUS_FAILED</a> 0
<a name="l00064"></a><a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">00064</a> #define <a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> 1
<a name="l00068"></a><a class="code" href="vhash_8h.html#eb154b44569ba794c0523edd247dbc5f">00068</a> #define <a class="code" href="vhash_8h.html#eb154b44569ba794c0523edd247dbc5f">VHASH_STATUS_INSERTED</a> 2
<a name="l00069"></a>00069 
<a name="l00073"></a><a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">00073</a> <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a>;
<a name="l00074"></a>00074 
<a name="l00082"></a>00082 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="structvhash__s.html">vhash_t</a> * <a class="code" href="vhash_8h.html#3221c2a4051d45cd60e395478ecd57e7">new_vhash</a>(
<a name="l00083"></a>00083     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> table_size,
<a name="l00084"></a>00084         <a class="code" href="vhash_8h.html#f24560a755c5080d2d883cae3e17c064">vmalloc_t</a> vmalloc,
<a name="l00085"></a>00085         vfree_t vfree);
<a name="l00086"></a>00086         
<a name="l00087"></a>00087 <span class="preprocessor">#if 0</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span>    <span class="keywordtype">void</span> *(<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *vhash_malloc) (size_t),
<a name="l00089"></a>00089     void (<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *vhash_free) (<span class="keywordtype">void</span> *));
<a name="l00090"></a>00090 <span class="preprocessor">#endif</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span>
<a name="l00096"></a>00096 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> <a class="code" href="vhash_8h.html#3e9795d4c7109008d57735f9e24252f0">delete_vhash</a>(<a class="code" href="structvhash__s.html">vhash_t</a> * vhash);
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> vhash_flush(<a class="code" href="structvhash__s.html">vhash_t</a> * vhash);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#f24560a755c5080d2d883cae3e17c064">vmalloc_t</a> vhash_malloc(<a class="code" href="structvhash__s.html">vhash_t</a> * vhash);
<a name="l00103"></a>00103 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> vfree_t vhash_free(<a class="code" href="structvhash__s.html">vhash_t</a> * vhash);
<a name="l00110"></a>00110 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#ae4d09b9f02b5faa9a2f5521a0c7d1d2">vhash_rebuild_table</a>(
<a name="l00111"></a>00111     <a class="code" href="structvhash__s.html">vhash_t</a> * vhash,
<a name="l00112"></a>00112     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> table_size);
<a name="l00113"></a>00113 
<a name="l00119"></a>00119 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="vhash_8h.html#cb2c24579e3596b8f572f5965e12006d">vhash_count</a>(<a class="code" href="structvhash__s.html">vhash_t</a>* vhash);
<a name="l00120"></a>00120 
<a name="l00129"></a>00129 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> <a class="code" href="vhash_8h.html#3e8eb0a73094155ebecada1dd8aacbc7">vhash_map_function</a>(
<a name="l00130"></a>00130     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00131"></a>00131     <span class="keywordtype">void</span>(*function)(<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*),
<a name="l00132"></a>00132     <span class="keywordtype">void</span> * user_data);
<a name="l00133"></a>00133 
<a name="l00137"></a><a class="code" href="structvhash__pair__s.html">00137</a> <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvhash__pair__s.html">vhash_pair_s</a> {
<a name="l00138"></a><a class="code" href="structvhash__pair__s.html#3c6e0b8a9c15224a8228b9a98ca1531d">00138</a>     <span class="keywordtype">void</span> * <a class="code" href="structvhash__pair__s.html#3c6e0b8a9c15224a8228b9a98ca1531d">key</a>;
<a name="l00139"></a><a class="code" href="structvhash__pair__s.html#447b7147e84be512208dcc0995d67ebc">00139</a>     <span class="keywordtype">void</span> * <a class="code" href="structvhash__pair__s.html#447b7147e84be512208dcc0995d67ebc">item</a>;
<a name="l00140"></a>00140 } vhash_pair_t;
<a name="l00141"></a>00141 
<a name="l00145"></a><a class="code" href="structvhash__string__key__pair__s.html">00145</a> <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvhash__string__key__pair__s.html">vhash_string_key_pair_s</a> {
<a name="l00146"></a><a class="code" href="structvhash__string__key__pair__s.html#3c6e0b8a9c15224a8228b9a98ca1531d">00146</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structvhash__string__key__pair__s.html#3c6e0b8a9c15224a8228b9a98ca1531d">key</a>;
<a name="l00147"></a><a class="code" href="structvhash__string__key__pair__s.html#447b7147e84be512208dcc0995d67ebc">00147</a>     <span class="keywordtype">void</span> * <a class="code" href="structvhash__string__key__pair__s.html#447b7147e84be512208dcc0995d67ebc">item</a>;
<a name="l00148"></a>00148 } vhash_string_key_pair_t;
<a name="l00149"></a>00149 
<a name="l00157"></a>00157 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#98a4e1c78c44d800928eb67f941a25a3">vhash_to_vlist</a>(
<a name="l00158"></a>00158     <a class="code" href="structvhash__s.html">vhash_t</a> * vhash,
<a name="l00159"></a>00159     <a class="code" href="structvlist__s.html">vlist_t</a> * vlist,
<a name="l00160"></a>00160     <span class="keywordtype">void</span> *(<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *vhash_pair_malloc) (size_t));
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">int</span> vhash_item_set_to_vlist(
<a name="l00163"></a>00163         <a class="code" href="structvhash__s.html">vhash_t</a> * vhash,
<a name="l00164"></a>00164         <a class="code" href="structvlist__s.html">vlist_t</a> * vlist,
<a name="l00165"></a>00165         <span class="keywordtype">void</span> * in_key);
<a name="l00166"></a>00166 
<a name="l00175"></a>00175 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#98e5fae77c555f0e101654951a1933c5">vhash_replace_item</a>(
<a name="l00176"></a>00176     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00177"></a>00177     <span class="keywordtype">void</span> * in_key, 
<a name="l00178"></a>00178     <span class="keywordtype">void</span> * new_item,
<a name="l00179"></a>00179     <span class="keywordtype">void</span> ** replaced_item);
<a name="l00180"></a>00180 
<a name="l00188"></a>00188 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#7afb95c0228c8c2ef4b5fe13fc163e38">vhash_insert_item</a>(
<a name="l00189"></a>00189     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00190"></a>00190     <span class="keywordtype">void</span> * in_key,
<a name="l00191"></a>00191     <span class="keywordtype">void</span> * item);
<a name="l00192"></a>00192 
<a name="l00200"></a>00200 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#95fd88bd49da0256a0e3d3304a371234">vhash_remove_item</a>(
<a name="l00201"></a>00201     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00202"></a>00202     <span class="keywordtype">void</span> * in_key,
<a name="l00203"></a>00203     <span class="keywordtype">void</span> ** removed_item);
<a name="l00204"></a>00204 
<a name="l00212"></a>00212 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#27a94e1b2db28ee0f1ed70f1ab432d75">vhash_lookup_item</a>(
<a name="l00213"></a>00213     <span class="keyword">const</span> <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00214"></a>00214     <span class="keywordtype">void</span> * in_key,
<a name="l00215"></a>00215     <span class="keywordtype">void</span> ** out_item);
<a name="l00216"></a>00216 
<a name="l00227"></a>00227 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#849ce726cc3709548d2345e41d557eef">vhash_lookup_nth_item</a>(
<a name="l00228"></a>00228     <span class="keyword">const</span> <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00229"></a>00229     <span class="keywordtype">void</span> * in_key,
<a name="l00230"></a>00230     <span class="keywordtype">int</span> n,
<a name="l00231"></a>00231     <span class="keywordtype">void</span> ** out_item);
<a name="l00232"></a>00232 
<a name="l00242"></a>00242 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> <a class="code" href="vhash_8h.html#2dcd779c6a52f16779de5fbabdd63951">vhash_string_key_map_function</a>(
<a name="l00243"></a>00243     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00244"></a>00244     <span class="keywordtype">void</span>(*function)(<span class="keywordtype">void</span>*, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">void</span>*),
<a name="l00245"></a>00245     <span class="keywordtype">void</span> * user_data);
<a name="l00246"></a>00246 
<a name="l00258"></a>00258 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#5bd923ba90a51a3585278452365d0182">vhash_replace_string_key_item</a>(
<a name="l00259"></a>00259     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00260"></a>00260     <span class="keyword">const</span> <span class="keywordtype">char</span> * string_key, 
<a name="l00261"></a>00261     <span class="keywordtype">void</span> * new_item,
<a name="l00262"></a>00262     <span class="keywordtype">void</span> ** replaced_item);
<a name="l00263"></a>00263 
<a name="l00272"></a>00272 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#589255371ecd5e027350bd0ad25d097b">vhash_insert_string_key_item</a>(
<a name="l00273"></a>00273     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00274"></a>00274     <span class="keyword">const</span> <span class="keywordtype">char</span> * string_key, 
<a name="l00275"></a>00275     <span class="keywordtype">void</span> * item);
<a name="l00276"></a>00276 
<a name="l00285"></a>00285 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#7b9c07d735e9822d0d7d3279314ed882">vhash_remove_string_key_item</a>(
<a name="l00286"></a>00286     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00287"></a>00287     <span class="keyword">const</span> <span class="keywordtype">char</span> * string_key,
<a name="l00288"></a>00288     <span class="keywordtype">void</span> ** removed_item);
<a name="l00289"></a>00289 
<a name="l00298"></a>00298 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#c98b43e2f2286365351be9634e1ebd66">vhash_lookup_string_key_item</a>(
<a name="l00299"></a>00299     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00300"></a>00300     <span class="keyword">const</span> <span class="keywordtype">char</span> * string_key,
<a name="l00301"></a>00301     <span class="keywordtype">void</span> ** out_item);
<a name="l00302"></a>00302 
<a name="l00314"></a>00314 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#4434aea6427747979d7f039f6fe8f432">vhash_lookup_nth_string_key_item</a>(
<a name="l00315"></a>00315     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00316"></a>00316     <span class="keyword">const</span> <span class="keywordtype">char</span> * string_key,
<a name="l00317"></a>00317     <span class="keywordtype">int</span> n,
<a name="l00318"></a>00318     <span class="keywordtype">void</span> ** out_item);
<a name="l00319"></a>00319 
<a name="l00320"></a>00320 
<a name="l00328"></a>00328 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> <a class="code" href="vhash_8h.html#560db9cae8951f3f3f933855a77c6fee">vhash_string_keys_to_vlist</a>(
<a name="l00329"></a>00329     <a class="code" href="structvhash__s.html">vhash_t</a> * vhash,
<a name="l00330"></a>00330     <a class="code" href="structvlist__s.html">vlist_t</a> * vlist,
<a name="l00331"></a>00331     <span class="keywordtype">void</span> *(<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *vhash_pair_malloc) (size_t));
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="comment">/*THIS IS OBSOLETE*/</span>
<a name="l00335"></a>00335 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> vhash_insert(
<a name="l00336"></a>00336     <a class="code" href="structvhash__s.html">vhash_t</a> * vhash,
<a name="l00337"></a>00337     <span class="keywordtype">void</span> * key, <span class="keywordtype">void</span> * item);
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 <span class="comment">/*THIS IS OBSOLETE*/</span>
<a name="l00340"></a>00340 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> * vhash_remove(
<a name="l00341"></a>00341     <a class="code" href="structvhash__s.html">vhash_t</a> * vhash,
<a name="l00342"></a>00342     <span class="keywordtype">void</span> * key);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 <span class="comment">/*THIS IS OBSOLETE*/</span>
<a name="l00345"></a>00345 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> * vhash_lookup(
<a name="l00346"></a>00346     <a class="code" href="structvhash__s.html">vhash_t</a> * vhash,
<a name="l00347"></a>00347     <span class="keywordtype">void</span> * key);
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 
<a name="l00350"></a>00350 <span class="comment">/*THIS IS OBSOLETE*/</span>
<a name="l00351"></a>00351 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> vhash_insert_string_key(
<a name="l00352"></a>00352     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00353"></a>00353     <span class="keyword">const</span> <span class="keywordtype">char</span> * string, 
<a name="l00354"></a>00354     <span class="keywordtype">void</span> * item);
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 <span class="comment">/*THIS IS OBSOLETE*/</span>
<a name="l00357"></a>00357 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> * vhash_remove_string_key(
<a name="l00358"></a>00358     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00359"></a>00359     <span class="keyword">const</span> <span class="keywordtype">char</span> * string);
<a name="l00360"></a>00360 
<a name="l00361"></a>00361 <span class="comment">/*THIS IS OBSOLETE*/</span>
<a name="l00362"></a>00362 <a class="code" href="vlist_8h.html#392a112e37b6d7f709a70a9bd982e05b">_W3DTK_API</a> <span class="keywordtype">void</span> * vhash_lookup_string_key(
<a name="l00363"></a>00363     <a class="code" href="structvhash__s.html">vhash_t</a> * v,
<a name="l00364"></a>00364     <span class="keyword">const</span> <span class="keywordtype">char</span> * string);
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00367"></a>00367 <span class="preprocessor"></span>} <span class="comment">/* extern "C" */</span>
<a name="l00368"></a>00368 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 <span class="comment">/* template wrapper */</span>
<a name="l00371"></a>00371 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C++"</span> {
<a name="l00373"></a>00373         
<a name="l00374"></a>00374 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt; <span class="keyword">class </span>VHash {
<a name="l00375"></a>00375 
<a name="l00376"></a>00376 <span class="keyword">public</span>:
<a name="l00377"></a>00377 
<a name="l00378"></a>00378         <span class="keyword">class </span>Pair {
<a name="l00379"></a>00379                 <span class="keyword">public</span>:
<a name="l00380"></a>00380                         T1 Key() {<span class="keywordflow">return</span> (T1)(<a class="code" href="vlist_8h.html#001813bbbe344f42aa5fa0f8ea6839a1">V_POINTER_SIZED_INT</a>)vpair.key;};
<a name="l00381"></a>00381                         T2 Item() {<span class="keywordflow">return</span> (T2)(<a class="code" href="vlist_8h.html#001813bbbe344f42aa5fa0f8ea6839a1">V_POINTER_SIZED_INT</a>)vpair.item;};
<a name="l00382"></a>00382                 <span class="keyword">private</span>:
<a name="l00383"></a>00383                         vhash_pair_t vpair;
<a name="l00384"></a>00384         };
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 
<a name="l00387"></a>00387         <span class="keyword">typedef</span> VList&lt;Pair*&gt; PairList;
<a name="l00388"></a>00388 
<a name="l00389"></a>00389     VHash(<span class="keywordtype">int</span> initial_size=16)
<a name="l00390"></a>00390         { m_vhash = <a class="code" href="vhash_8h.html#3221c2a4051d45cd60e395478ecd57e7">new_vhash</a>(initial_size,malloc,free); size_assert(); };
<a name="l00391"></a>00391 
<a name="l00392"></a>00392     VHash(<span class="keywordtype">void</span> * (<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *  vhash_malloc) (size_t), <span class="keywordtype">void</span> (<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *vhash_free) (<span class="keywordtype">void</span> *))
<a name="l00393"></a>00393         {m_vhash = <a class="code" href="vhash_8h.html#3221c2a4051d45cd60e395478ecd57e7">new_vhash</a>(16, vhash_malloc,vhash_free); size_assert(); };
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     ~VHash() {<a class="code" href="vhash_8h.html#3e9795d4c7109008d57735f9e24252f0">delete_vhash</a>(m_vhash);};
<a name="l00396"></a>00396 
<a name="l00397"></a>00397     <span class="keywordtype">void</span> Flush() { vhash_flush(m_vhash); };
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Count() { <span class="keywordflow">return</span> (<a class="code" href="vhash_8h.html#cb2c24579e3596b8f572f5965e12006d">vhash_count</a>(m_vhash)); };
<a name="l00400"></a>00400 
<a name="l00401"></a>00401         PairList * GetPairList() {
<a name="l00402"></a>00402 
<a name="l00403"></a>00403                 <span class="keyword">struct </span><a class="code" href="structvlist__s.html">vlist_s</a> *lv = <a class="code" href="vlist_8h.html#625bbaf451b603de69f401e72c0b2dde">new_vlist</a>(vhash_malloc(m_vhash),vhash_free(m_vhash));
<a name="l00404"></a>00404 
<a name="l00405"></a>00405                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#589a903ae9eeab6d487dac14ea7a00a1">VHASH_STATUS_FAILED</a> == <a class="code" href="vhash_8h.html#98a4e1c78c44d800928eb67f941a25a3">vhash_to_vlist</a>(m_vhash, lv, vhash_malloc(m_vhash))) {
<a name="l00406"></a>00406                         <a class="code" href="vlist_8h.html#382ef750ce0312f9f0b22e88e0ee8178">delete_vlist</a>(lv);
<a name="l00407"></a>00407                         <span class="keywordflow">return</span> 0;
<a name="l00408"></a>00408                 }
<a name="l00409"></a>00409                 PairList * pl = <span class="keyword">new</span> PairList(lv);
<a name="l00410"></a>00410                 pl-&gt;SetFreeItemsOnDelete();
<a name="l00411"></a>00411                 <span class="keywordflow">return</span> pl;
<a name="l00412"></a>00412         };
<a name="l00413"></a>00413         
<a name="l00414"></a>00414         <span class="keywordtype">void</span> MapFunction(<span class="keywordtype">void</span>(*function)(T1, T2, <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span>), <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span> user_data) {
<a name="l00415"></a>00415                 MapFunctionData <a class="code" href="jpeglib_8h.html#8d777f385d3dfec8815d20f7496026dc">data</a>(function,user_data);
<a name="l00416"></a>00416                 <a class="code" href="vhash_8h.html#3e8eb0a73094155ebecada1dd8aacbc7">vhash_map_function</a>(m_vhash, &amp;map_function_helper, (<span class="keywordtype">void</span>*)&amp;<a class="code" href="jpeglib_8h.html#8d777f385d3dfec8815d20f7496026dc">data</a>);
<a name="l00417"></a>00417         };
<a name="l00418"></a>00418 
<a name="l00419"></a>00419     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> ReplaceItem(T1 key, T2 item, T2 *replaced_item){
<a name="l00420"></a>00420                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00421"></a>00421                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#98e5fae77c555f0e101654951a1933c5">vhash_replace_item</a>(m_vhash, (<span class="keywordtype">void</span>*)(<a class="code" href="vlist_8h.html#001813bbbe344f42aa5fa0f8ea6839a1">V_POINTER_SIZED_INT</a>)key, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)item, &amp;tmp_item);
<a name="l00422"></a>00422                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00423"></a>00423                         *replaced_item = (T2)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00424"></a>00424                 <span class="keywordflow">return</span> retval;
<a name="l00425"></a>00425         };
<a name="l00426"></a>00426 
<a name="l00427"></a>00427     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> InsertItem(T1 key, T2 item){
<a name="l00428"></a>00428                 <span class="keywordflow">return</span> <a class="code" href="vhash_8h.html#7afb95c0228c8c2ef4b5fe13fc163e38">vhash_insert_item</a>(m_vhash, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)key, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)item);
<a name="l00429"></a>00429         };
<a name="l00430"></a>00430 
<a name="l00431"></a>00431     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> LookupItem(T1 key, T2 *looked_up_item){
<a name="l00432"></a>00432                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00433"></a>00433                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#27a94e1b2db28ee0f1ed70f1ab432d75">vhash_lookup_item</a>(m_vhash, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)key, &amp;tmp_item);
<a name="l00434"></a>00434                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00435"></a>00435                         *looked_up_item = (T2)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00436"></a>00436                 <span class="keywordflow">return</span> retval;
<a name="l00437"></a>00437         };
<a name="l00438"></a>00438 
<a name="l00439"></a>00439     T2 Lookup(T1 key)
<a name="l00440"></a>00440         {<span class="keywordflow">return</span> (T2)(V_POINTER_SIZED_INT)vhash_lookup(m_vhash, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)key); };
<a name="l00441"></a>00441         
<a name="l00442"></a>00442         
<a name="l00443"></a>00443     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> RemoveItem(T1 key, T2 *removed_item){
<a name="l00444"></a>00444                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00445"></a>00445                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#95fd88bd49da0256a0e3d3304a371234">vhash_remove_item</a>(m_vhash, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)key, &amp;tmp_item);
<a name="l00446"></a>00446                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00447"></a>00447                         *removed_item = (T2)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00448"></a>00448                 <span class="keywordflow">return</span> retval;
<a name="l00449"></a>00449         };
<a name="l00450"></a>00450                 
<a name="l00451"></a>00451 
<a name="l00452"></a>00452         <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> LookupNthItem(T1 key,<span class="keywordtype">int</span> n, T2 *out_item){
<a name="l00453"></a>00453                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00454"></a>00454                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#849ce726cc3709548d2345e41d557eef">vhash_lookup_nth_item</a>(m_vhash, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)key, n, &amp;tmp_item);
<a name="l00455"></a>00455                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00456"></a>00456                         *out_item = (T2)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00457"></a>00457                 <span class="keywordflow">return</span> retval;
<a name="l00458"></a>00458         };
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 <span class="keyword">private</span>:
<a name="l00461"></a>00461     <span class="keyword">struct </span><a class="code" href="structvhash__s.html">vhash_s</a> *m_vhash;
<a name="l00462"></a>00462 
<a name="l00463"></a>00463         <span class="keyword">typedef</span>  void(*MapFunctionType)(T1, T2, <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span>);
<a name="l00464"></a>00464         
<a name="l00465"></a>00465         <span class="keyword">class</span> MapFunctionData {
<a name="l00466"></a>00466                 <span class="keyword">public</span>: 
<a name="l00467"></a>00467                 MapFunctionData(MapFunctionType function=0, <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span> <a class="code" href="jpeglib_8h.html#8d777f385d3dfec8815d20f7496026dc">data</a>=0) {
<a name="l00468"></a>00468                         m_function=function;
<a name="l00469"></a>00469                         m_data=(<span class="keywordtype">void</span>*)<a class="code" href="jpeglib_8h.html#8d777f385d3dfec8815d20f7496026dc">data</a>;
<a name="l00470"></a>00470                 };
<a name="l00471"></a>00471                 MapFunctionType m_function;
<a name="l00472"></a>00472                 <span class="keywordtype">void</span> * m_data;
<a name="l00473"></a>00473         };
<a name="l00474"></a>00474 
<a name="l00475"></a>00475         <span class="keyword">static</span> <span class="keywordtype">void</span> map_function_helper(<span class="keywordtype">void</span>* in_a, <span class="keywordtype">void</span>* in_b, <span class="keywordtype">void</span>*in_data) {
<a name="l00476"></a>00476                 MapFunctionData *<a class="code" href="jpeglib_8h.html#8d777f385d3dfec8815d20f7496026dc">data</a> = (MapFunctionData *)in_data;
<a name="l00477"></a>00477                 T1 a = (T1)(V_POINTER_SIZED_INT)in_a;
<a name="l00478"></a>00478                 T2 <a class="code" href="jpegint_8h.html#92eb5ffee6ae2fec3ad71c777531578f">b</a> = (T2)(V_POINTER_SIZED_INT)in_b;
<a name="l00479"></a>00479                 data-&gt;m_function(a,<a class="code" href="jpegint_8h.html#92eb5ffee6ae2fec3ad71c777531578f">b</a>,data-&gt;m_data);
<a name="l00480"></a>00480         };
<a name="l00481"></a>00481 
<a name="l00482"></a>00482     <span class="comment">/* VHash cannot use any type that cannot be converted to and from a (void *) */</span>
<a name="l00483"></a>00483     <span class="keywordtype">void</span> size_assert() {
<a name="l00484"></a>00484         VLIST_COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(T1) &lt;= <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *));
<a name="l00485"></a>00485         VLIST_COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(T2) &lt;= <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *));
<a name="l00486"></a>00486     };
<a name="l00487"></a>00487 };
<a name="l00488"></a>00488 
<a name="l00489"></a>00489 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1&gt; <span class="keyword">class </span>VStringHash {
<a name="l00490"></a>00490 <span class="keyword">public</span>:
<a name="l00491"></a>00491 
<a name="l00492"></a>00492         <span class="keyword">class </span>Pair {
<a name="l00493"></a>00493                 <span class="keyword">public</span>:
<a name="l00494"></a>00494                         <span class="keyword">const</span> <span class="keywordtype">char</span> * Key() {<span class="keywordflow">return</span> vpair.key;};
<a name="l00495"></a>00495                         T1 Item() {<span class="keywordflow">return</span> (T1)(V_POINTER_SIZED_INT)vpair.item;};
<a name="l00496"></a>00496                 <span class="keyword">private</span>:
<a name="l00497"></a>00497                         vhash_string_key_pair_t vpair;
<a name="l00498"></a>00498         };
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 
<a name="l00501"></a>00501         <span class="keyword">typedef</span> VList&lt;Pair*&gt; PairList;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503     VStringHash(<span class="keywordtype">int</span> initial_size=16)
<a name="l00504"></a>00504         { m_vhash = <a class="code" href="vhash_8h.html#3221c2a4051d45cd60e395478ecd57e7">new_vhash</a>(initial_size,malloc,free); size_assert(); };
<a name="l00505"></a>00505 
<a name="l00506"></a>00506     VStringHash(<span class="keywordtype">void</span> * (<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *  vhash_malloc) (size_t), <span class="keywordtype">void</span> (<a class="code" href="vhash_8h.html#0a5a9a2c25c901bd7981a7fa2cd12595">VHASH_CDECL</a> *vhash_free) (<span class="keywordtype">void</span> *))
<a name="l00507"></a>00507         {m_vhash = <a class="code" href="vhash_8h.html#3221c2a4051d45cd60e395478ecd57e7">new_vhash</a>(16, vhash_malloc,vhash_free); size_assert(); };
<a name="l00508"></a>00508 
<a name="l00509"></a>00509     ~VStringHash() {<a class="code" href="vhash_8h.html#3e9795d4c7109008d57735f9e24252f0">delete_vhash</a>(m_vhash);};
<a name="l00510"></a>00510 
<a name="l00511"></a>00511     <span class="keywordtype">void</span> Flush() { vhash_flush(m_vhash); };
<a name="l00512"></a>00512 
<a name="l00513"></a>00513     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Count() { <span class="keywordflow">return</span> (<a class="code" href="vhash_8h.html#cb2c24579e3596b8f572f5965e12006d">vhash_count</a>(m_vhash)); };
<a name="l00514"></a>00514         
<a name="l00515"></a>00515     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> ReplaceItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *key, T1 item, T1 *replaced_item){
<a name="l00516"></a>00516                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00517"></a>00517                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#5bd923ba90a51a3585278452365d0182">vhash_replace_string_key_item</a>(m_vhash, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)key, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)item, &amp;tmp_item);
<a name="l00518"></a>00518                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00519"></a>00519                         *replaced_item = (T1)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00520"></a>00520                 <span class="keywordflow">return</span> retval;
<a name="l00521"></a>00521         };
<a name="l00522"></a>00522 
<a name="l00523"></a>00523     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> InsertItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *key, T1 item)
<a name="l00524"></a>00524         {<span class="keywordflow">return</span> <a class="code" href="vhash_8h.html#589255371ecd5e027350bd0ad25d097b">vhash_insert_string_key_item</a>(m_vhash, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)key, (<span class="keywordtype">void</span>*)(V_POINTER_SIZED_INT)item); };
<a name="l00525"></a>00525         
<a name="l00526"></a>00526     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> LookupItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *key, T1 *looked_up_item){
<a name="l00527"></a>00527                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00528"></a>00528                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#c98b43e2f2286365351be9634e1ebd66">vhash_lookup_string_key_item</a>(m_vhash, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)key, &amp;tmp_item);
<a name="l00529"></a>00529                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00530"></a>00530                         *looked_up_item = (T1)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00531"></a>00531                 <span class="keywordflow">return</span> retval;  };
<a name="l00532"></a>00532 
<a name="l00533"></a>00533     T1 Lookup(<span class="keyword">const</span> <span class="keywordtype">char</span> *key)
<a name="l00534"></a>00534                 {<span class="keywordflow">return</span> (T1)(V_POINTER_SIZED_INT)vhash_lookup_string_key(m_vhash, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)key); };
<a name="l00535"></a>00535         
<a name="l00536"></a>00536         
<a name="l00537"></a>00537     <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> RemoveItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *key, T1 *removed_item){
<a name="l00538"></a>00538                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00539"></a>00539                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#7b9c07d735e9822d0d7d3279314ed882">vhash_remove_string_key_item</a>(m_vhash, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)key, &amp;tmp_item);
<a name="l00540"></a>00540                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00541"></a>00541                         *removed_item = (T1)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00542"></a>00542                 <span class="keywordflow">return</span> retval;
<a name="l00543"></a>00543         };
<a name="l00544"></a>00544 
<a name="l00545"></a>00545         
<a name="l00546"></a>00546         <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> LookupItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *key, <span class="keywordtype">int</span> n, T1 *out_item){
<a name="l00547"></a>00547                 <span class="keywordtype">void</span> * tmp_item = 0;
<a name="l00548"></a>00548                 <a class="code" href="vhash_8h.html#d3acb90fb56a05dae3c9bfa0306560e4">vhash_status_t</a> retval = <a class="code" href="vhash_8h.html#4434aea6427747979d7f039f6fe8f432">vhash_lookup_nth_string_key_item</a>(m_vhash, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)key, n, &amp;tmp_item);
<a name="l00549"></a>00549                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#15cf44bd3cd27cc6377fc1f9e963b038">VHASH_STATUS_SUCCESS</a> == retval)
<a name="l00550"></a>00550                         *out_item = (T1)(V_POINTER_SIZED_INT)tmp_item;
<a name="l00551"></a>00551                 <span class="keywordflow">return</span> retval;
<a name="l00552"></a>00552         };
<a name="l00553"></a>00553 
<a name="l00554"></a>00554         PairList * GetPairList() {
<a name="l00555"></a>00555 
<a name="l00556"></a>00556                 <span class="keyword">struct </span><a class="code" href="structvlist__s.html">vlist_s</a> *lv = <a class="code" href="vlist_8h.html#625bbaf451b603de69f401e72c0b2dde">new_vlist</a>(vhash_malloc(m_vhash),vhash_free(m_vhash));
<a name="l00557"></a>00557 
<a name="l00558"></a>00558                 <span class="keywordflow">if</span> (<a class="code" href="vhash_8h.html#589a903ae9eeab6d487dac14ea7a00a1">VHASH_STATUS_FAILED</a> == <a class="code" href="vhash_8h.html#560db9cae8951f3f3f933855a77c6fee">vhash_string_keys_to_vlist</a>(m_vhash, lv, vhash_malloc(m_vhash))) {
<a name="l00559"></a>00559                         <a class="code" href="vlist_8h.html#382ef750ce0312f9f0b22e88e0ee8178">delete_vlist</a>(lv);
<a name="l00560"></a>00560                         <span class="keywordflow">return</span> 0;
<a name="l00561"></a>00561                 }
<a name="l00562"></a>00562                 PairList * pl = <span class="keyword">new</span> PairList(lv);
<a name="l00563"></a>00563                 pl-&gt;SetFreeItemsOnDelete();
<a name="l00564"></a>00564                 <span class="keywordflow">return</span> pl;
<a name="l00565"></a>00565         };
<a name="l00566"></a>00566         
<a name="l00567"></a>00567         <span class="keywordtype">void</span> MapFunction(<span class="keywordtype">void</span>(*function)(T1, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span>), <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span> user_data) {
<a name="l00568"></a>00568                 MapFunctionData <a class="code" href="jpeglib_8h.html#8d777f385d3dfec8815d20f7496026dc">data</a>(function,user_data);
<a name="l00569"></a>00569                 <a class="code" href="vhash_8h.html#2dcd779c6a52f16779de5fbabdd63951">vhash_string_key_map_function</a>(m_vhash, &amp;map_function_helper, (<span class="keywordtype">void</span>*)&amp;data);
<a name="l00570"></a>00570         };
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 <span class="keyword">private</span>:
<a name="l00573"></a>00573     <span class="keyword">struct </span><a class="code" href="structvhash__s.html">vhash_s</a> *m_vhash;
<a name="l00574"></a>00574 
<a name="l00575"></a>00575         <span class="keyword">typedef</span>  void(*MapFunctionType)(T1, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span>);
<a name="l00576"></a>00576         
<a name="l00577"></a>00577         <span class="keyword">class</span> MapFunctionData {
<a name="l00578"></a>00578                 <span class="keyword">public</span>: 
<a name="l00579"></a>00579                 MapFunctionData(MapFunctionType function=0, <span class="keywordtype">void</span> <span class="keyword">const</span> * <span class="keyword">const</span> data=0) {
<a name="l00580"></a>00580                         m_function=function;
<a name="l00581"></a>00581                         m_data=(<span class="keywordtype">void</span>*)data;
<a name="l00582"></a>00582                 };
<a name="l00583"></a>00583                 MapFunctionType m_function;
<a name="l00584"></a>00584                 <span class="keywordtype">void</span> * m_data;
<a name="l00585"></a>00585         };
<a name="l00586"></a>00586 
<a name="l00587"></a>00587         <span class="keyword">static</span> <span class="keywordtype">void</span> map_function_helper(<span class="keywordtype">void</span>* in_a, <span class="keyword">const</span> <span class="keywordtype">char</span> * in_b, <span class="keywordtype">void</span>*in_data) {
<a name="l00588"></a>00588                 MapFunctionData *data = (MapFunctionData *)in_data;
<a name="l00589"></a>00589                 T1 a = (T1)(V_POINTER_SIZED_INT)in_a;
<a name="l00590"></a>00590                 data-&gt;m_function(a,in_b,data-&gt;m_data);
<a name="l00591"></a>00591         };
<a name="l00592"></a>00592 
<a name="l00593"></a>00593     <span class="comment">/* VHash cannot use any type that cannot be converted to and from a (void *) */</span>
<a name="l00594"></a>00594     <span class="keywordtype">void</span> size_assert() {
<a name="l00595"></a>00595         VLIST_COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(T1) &lt;= <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *));
<a name="l00596"></a>00596     };
<a name="l00597"></a>00597 };
<a name="l00598"></a>00598 } <span class="comment">/* extern "C++" */</span>
<a name="l00599"></a>00599 <span class="preprocessor">#endif</span>
<a name="l00600"></a>00600 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/*VHASH_H*/</span>
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 6 22:41:37 2009 for Autodesk DWF 3D Toolkit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
