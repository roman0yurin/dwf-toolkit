<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<TITLE>Autodesk DWF Core Library</TITLE>
</HEAD>
<BODY>
<table border="0" cellpadding="0" cellspacing="0" width="100%" height="140">
	<tr>
		<td background="header.png">&nbsp;</td>
	</tr>
</table>
<!--
	<div class="headingImgcontainer"><img class="headingImg" src="header.png" alt="Autodesk DWF Core Library" title="Autodesk DWF Core Library" border="0" hspace="0" vspace="0"></div>
-->
</BODY>
</HTML>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2F.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_D_3A_2FStage_2FComponents76_5FC052_5Fstage_2Fdevelop_2Fglobal_2Fsrc_2Fdwfcore_2F.html">dwfcore</a></div>
<h1>SkipList.h</h1><a href="_skip_list_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//</span>
<a name="l00002"></a>00002 <span class="comment">//  Copyright (c) 2003-2006 by Autodesk, Inc.</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">//  By using this code, you are agreeing to the terms and conditions of</span>
<a name="l00005"></a>00005 <span class="comment">//  the License Agreement included in the documentation for this code.</span>
<a name="l00006"></a>00006 <span class="comment">//</span>
<a name="l00007"></a>00007 <span class="comment">//  AUTODESK MAKES NO WARRANTIES, EXPRESS OR IMPLIED,</span>
<a name="l00008"></a>00008 <span class="comment">//  AS TO THE CORRECTNESS OF THIS CODE OR ANY DERIVATIVE</span>
<a name="l00009"></a>00009 <span class="comment">//  WORKS WHICH INCORPORATE IT.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">//  AUTODESK PROVIDES THE CODE ON AN "AS-IS" BASIS</span>
<a name="l00012"></a>00012 <span class="comment">//  AND EXPLICITLY DISCLAIMS ANY LIABILITY, INCLUDING</span>
<a name="l00013"></a>00013 <span class="comment">//  CONSEQUENTIAL AND INCIDENTAL DAMAGES FOR ERRORS,</span>
<a name="l00014"></a>00014 <span class="comment">//  OMISSIONS, AND OTHER PROBLEMS IN THE CODE.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">//  Use, duplication, or disclosure by the U.S. Government is subject to</span>
<a name="l00017"></a>00017 <span class="comment">//  restrictions set forth in FAR 52.227-19 (Commercial Computer Software</span>
<a name="l00018"></a>00018 <span class="comment">//  Restricted Rights) and DFAR 252.227-7013(c)(1)(ii) (Rights in Technical</span>
<a name="l00019"></a>00019 <span class="comment">//  Data and Computer Software), as applicable.</span>
<a name="l00020"></a>00020 <span class="comment">//</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef _DWFCORE_SKIPLIST_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define _DWFCORE_SKIPLIST_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="_s_t_l_8h.html">dwfcore/STL.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="_hash_8h.html">dwfcore/Hash.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include "<a class="code" href="_timer_8h.html">dwfcore/Timer.h</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include "<a class="code" href="_iterator_8h.html">dwfcore/Iterator.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include "<a class="code" href="_comparator_8h.html">dwfcore/Comparator.h</a>"</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 
<a name="l00040"></a>00040     
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="preprocessor">#ifndef DWFCORE_SKIPLIST_PROBABILITY_DISTRIB</span>
<a name="l00054"></a><a class="code" href="group___external_macros.html#g01131bce6a29bc7c7995b4ac21a6b262">00054</a> <span class="preprocessor">#define DWFCORE_SKIPLIST_PROBABILITY_DISTRIB    0.5f</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 <span class="preprocessor">#ifndef DWFCORE_SKIPLIST_MAX_NODE_LEVEL</span>
<a name="l00065"></a><a class="code" href="group___external_macros.html#g7d9f1d00ad1ebff63c1d390cfc142893">00065</a> <span class="preprocessor">#define DWFCORE_SKIPLIST_MAX_NODE_LEVEL         31</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 <span class="preprocessor">#ifndef DWFCORE_SKIPLIST_INITIAL_HEIGHT</span>
<a name="l00077"></a><a class="code" href="group___external_macros.html#gc2e279e78f195422b09b257d22eb2ae2">00077</a> <span class="preprocessor">#define DWFCORE_SKIPLIST_INITIAL_HEIGHT        5</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span>
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="keyword">namespace </span>DWFCore
<a name="l00082"></a>00082 {
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00105"></a>00105 <span class="keyword">template</span> &lt; <span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> E = tDWFCompareEqual&lt;K&gt;, <span class="keyword">class</span> L = tDWFCompareLess&lt;K&gt;, <span class="keyword">class</span> Z = tDWFDefinedEmpty&lt;K&gt; &gt;
<a name="l00106"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html">00106</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html">DWFSkipList</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_core_memory.html">DWFCoreMemory</a>
<a name="l00107"></a>00107 {
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="keyword">public</span>:
<a name="l00110"></a>00110 
<a name="l00114"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#82fb9ae964edf56d073d1025ace051f5">00114</a>     <span class="keyword">typedef</span> K       <a class="code" href="class_d_w_f_core_1_1_d_w_f_string.html">KeyType</a>;
<a name="l00118"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#ed8819d3d6597312c0619016462c3640">00118</a>     <span class="keyword">typedef</span> V       <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#ed8819d3d6597312c0619016462c3640">ValueType</a>;
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="keyword">public</span>:
<a name="l00121"></a>00121 
<a name="l00127"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#c4427a276719cff1cd0948c523efa296">00127</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#c4427a276719cff1cd0948c523efa296">DWFSkipList</a>()
<a name="l00128"></a>00128         throw( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a> )
<a name="l00129"></a>00129         : _pHeader( NULL )
<a name="l00130"></a>00130         , _nMaxHeight( <a class="code" href="group___external_macros.html#gc2e279e78f195422b09b257d22eb2ae2">DWFCORE_SKIPLIST_INITIAL_HEIGHT</a> )
<a name="l00131"></a>00131         , _nMaxLevel( 0 )
<a name="l00132"></a>00132         , _nCount( 0 )
<a name="l00133"></a>00133     {
<a name="l00134"></a>00134         _pHeader = <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( _Node(<a class="code" href="group___external_macros.html#g7d9f1d00ad1ebff63c1d390cfc142893">DWFCORE_SKIPLIST_MAX_NODE_LEVEL</a>) );
<a name="l00135"></a>00135         <span class="keywordflow">if</span> (_pHeader == NULL)
<a name="l00136"></a>00136         {
<a name="l00137"></a>00137             <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Failed to allocate header node"</span> );
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139     }
<a name="l00140"></a>00140 
<a name="l00146"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#e84792c6c8be7a6672660c1edceb4b81">00146</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#e84792c6c8be7a6672660c1edceb4b81">~DWFSkipList</a>()
<a name="l00147"></a>00147         throw()
<a name="l00148"></a>00148     {
<a name="l00149"></a>00149         _Node* pNext = NULL;
<a name="l00150"></a>00150         <span class="keyword">typename</span> _Node::_Iterator iNode( _pHeader-&gt;forward(0) );
<a name="l00151"></a>00151 
<a name="l00152"></a>00152         <span class="keywordflow">while</span> (iNode.valid())
<a name="l00153"></a>00153         {
<a name="l00154"></a>00154             pNext = iNode.get();
<a name="l00155"></a>00155             iNode.next();
<a name="l00156"></a>00156 
<a name="l00157"></a>00157             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( pNext );
<a name="l00158"></a>00158         }
<a name="l00159"></a>00159 
<a name="l00160"></a>00160         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pHeader );
<a name="l00161"></a>00161     }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     <span class="comment">//</span>
<a name="l00164"></a>00164     <span class="comment">// Inner class definitions</span>
<a name="l00165"></a>00165     <span class="comment">//</span>
<a name="l00166"></a>00166 <span class="keyword">private</span>:
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <span class="keyword">class </span>_Node : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l00169"></a>00169     {
<a name="l00170"></a>00170 
<a name="l00171"></a>00171     <span class="keyword">public</span>:
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html">00173</a>         <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html">_Iterator</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_iterator.html">DWFIterator</a>&lt;_Node*&gt;
<a name="l00174"></a>00174                         , <span class="keyword">virtual</span> <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_core_memory.html">DWFCoreMemory</a>
<a name="l00175"></a>00175         {
<a name="l00176"></a>00176         
<a name="l00177"></a>00177         <span class="keyword">public</span>:
<a name="l00178"></a>00178 
<a name="l00179"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html#09d7dc2d415b74d89b84fc5c73d4e0a3">00179</a>             <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html">_Iterator</a>( _Node* pFirst )
<a name="l00180"></a>00180                 <span class="keywordflow">throw</span>()
<a name="l00181"></a>00181                 : _pFirst( pFirst )
<a name="l00182"></a>00182                 , _pNext( pFirst )
<a name="l00183"></a>00183             {;}
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html#383bb0534d42b4928b1caf234c3afd04">00185</a>             <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html">_Iterator</a>()
<a name="l00186"></a>00186                 throw()
<a name="l00187"></a>00187             {;}
<a name="l00188"></a>00188 
<a name="l00189"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html#15e877c7c2b34db941e7672437bbe2e5">00189</a>             <span class="keywordtype">void</span> reset()
<a name="l00190"></a>00190                 throw()
<a name="l00191"></a>00191             {
<a name="l00192"></a>00192                 _pNext = _pFirst;
<a name="l00193"></a>00193             }
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html#dac7c210467ca8936aedcaafffb21dee">00195</a>             <span class="keywordtype">bool</span> valid()
<a name="l00196"></a>00196                 throw()
<a name="l00197"></a>00197             {
<a name="l00198"></a>00198                 <span class="keywordflow">return</span> (_pNext != NULL);
<a name="l00199"></a>00199             }
<a name="l00200"></a>00200 
<a name="l00201"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html#664f8784e379383402f73aeb98bca97f">00201</a>             <span class="keywordtype">bool</span> next()
<a name="l00202"></a>00202                 throw()
<a name="l00203"></a>00203             {
<a name="l00204"></a>00204                 _pNext = _pNext-&gt;forward( 0 );
<a name="l00205"></a>00205                 
<a name="l00206"></a>00206                 <span class="keywordflow">return</span> valid();
<a name="l00207"></a>00207             }
<a name="l00208"></a>00208             
<a name="l00209"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html#712109514c51d8578a1a5952b71603f1">00209</a>             _Node*&amp; get()
<a name="l00210"></a>00210                 throw()
<a name="l00211"></a>00211             {
<a name="l00212"></a>00212                 <span class="keywordflow">return</span> _pNext;
<a name="l00213"></a>00213             }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215         <span class="keyword">private</span>:
<a name="l00216"></a>00216 
<a name="l00217"></a>00217             _Node* _pFirst;
<a name="l00218"></a>00218             _Node* _pNext;
<a name="l00219"></a>00219         };
<a name="l00220"></a>00220 
<a name="l00221"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html">00221</a>         <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html">_ConstIterator</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_iterator.html">DWFIterator</a>&lt;_Node const*&gt;
<a name="l00222"></a>00222                              , <span class="keyword">virtual</span> <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_core_memory.html">DWFCoreMemory</a>
<a name="l00223"></a>00223         {
<a name="l00224"></a>00224         
<a name="l00225"></a>00225         <span class="keyword">public</span>:
<a name="l00226"></a>00226 
<a name="l00227"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html#7feee5fee6ecbc40cb489d9943769c73">00227</a>             <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html">_ConstIterator</a>( _Node <span class="keyword">const</span>* pFirst )
<a name="l00228"></a>00228                 <span class="keywordflow">throw</span>()
<a name="l00229"></a>00229                 : _pFirst( pFirst )
<a name="l00230"></a>00230                 , _pNext( pFirst )
<a name="l00231"></a>00231             {;}
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html#1c1a03f045e85addf70406cc3d1cfd0e">00233</a>             <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html">_ConstIterator</a>()
<a name="l00234"></a>00234                 throw()
<a name="l00235"></a>00235             {;}
<a name="l00236"></a>00236 
<a name="l00237"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html#15e877c7c2b34db941e7672437bbe2e5">00237</a>             <span class="keywordtype">void</span> reset()
<a name="l00238"></a>00238                 throw()
<a name="l00239"></a>00239             {
<a name="l00240"></a>00240                 _pNext = _pFirst;
<a name="l00241"></a>00241             }
<a name="l00242"></a>00242 
<a name="l00243"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html#dac7c210467ca8936aedcaafffb21dee">00243</a>             <span class="keywordtype">bool</span> valid()
<a name="l00244"></a>00244                 throw()
<a name="l00245"></a>00245             {
<a name="l00246"></a>00246                 <span class="keywordflow">return</span> (_pNext != NULL);
<a name="l00247"></a>00247             }
<a name="l00248"></a>00248 
<a name="l00249"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html#664f8784e379383402f73aeb98bca97f">00249</a>             <span class="keywordtype">bool</span> next()
<a name="l00250"></a>00250                 throw()
<a name="l00251"></a>00251             {
<a name="l00252"></a>00252                 _pNext = _pNext-&gt;forward( 0 );
<a name="l00253"></a>00253                 
<a name="l00254"></a>00254                 <span class="keywordflow">return</span> valid();
<a name="l00255"></a>00255             }
<a name="l00256"></a>00256             
<a name="l00257"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html#712109514c51d8578a1a5952b71603f1">00257</a>             _Node <span class="keyword">const</span>*&amp; get()
<a name="l00258"></a>00258                 throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00259"></a>00259             {
<a name="l00260"></a>00260                 <span class="keywordflow">return</span> _pNext;
<a name="l00261"></a>00261             }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263         <span class="keyword">private</span>:
<a name="l00264"></a>00264 
<a name="l00265"></a>00265             _Node <span class="keyword">const</span>* _pFirst;
<a name="l00266"></a>00266             _Node <span class="keyword">const</span>* _pNext;
<a name="l00267"></a>00267         };
<a name="l00268"></a>00268 
<a name="l00269"></a>00269     <span class="keyword">public</span>:
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         _Node( <span class="keywordtype">int</span> nHeight )
<a name="l00272"></a>00272             <span class="keywordflow">throw</span>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a> )
<a name="l00273"></a>00273             : _ppForward( NULL )
<a name="l00274"></a>00274         {
<a name="l00275"></a>00275             _ppForward = <a class="code" href="group___memory_macros.html#gcf3b6ed00a738026684d1a964fd9a221">DWFCORE_ALLOC_MEMORY</a>( _Node*, (nHeight + 1) );
<a name="l00276"></a>00276 
<a name="l00277"></a>00277             <span class="keywordflow">if</span> (_ppForward == NULL)
<a name="l00278"></a>00278             {
<a name="l00279"></a>00279                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Failed to allocate array"</span> );
<a name="l00280"></a>00280             }
<a name="l00281"></a>00281 
<a name="l00282"></a>00282             <a class="code" href="group___memory_macros.html#g2f21fa2fa985e6a06f96f04ab9d8b0d1">DWFCORE_ZERO_MEMORY</a>( _ppForward, <span class="keyword">sizeof</span>(_Node*) * (nHeight + 1) );
<a name="l00283"></a>00283 
<a name="l00284"></a>00284             Z fNull;
<a name="l00285"></a>00285             _Key = fNull();
<a name="l00286"></a>00286         }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288         _Node( <span class="keywordtype">int</span>      nHeight,
<a name="l00289"></a>00289                <span class="keyword">const</span> K&amp; rKey,
<a name="l00290"></a>00290                <span class="keyword">const</span> V&amp; rValue )
<a name="l00291"></a>00291             <span class="keywordflow">throw</span>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a> )
<a name="l00292"></a>00292             : _ppForward( NULL )
<a name="l00293"></a>00293             , _Key( rKey )
<a name="l00294"></a>00294             , _Value( rValue )
<a name="l00295"></a>00295         {
<a name="l00296"></a>00296             _ppForward = <a class="code" href="group___memory_macros.html#gcf3b6ed00a738026684d1a964fd9a221">DWFCORE_ALLOC_MEMORY</a>( _Node*, (nHeight + 1) );
<a name="l00297"></a>00297 
<a name="l00298"></a>00298             <span class="keywordflow">if</span> (_ppForward == NULL)
<a name="l00299"></a>00299             {
<a name="l00300"></a>00300                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Failed to allocate array"</span> );
<a name="l00301"></a>00301             }
<a name="l00302"></a>00302 
<a name="l00303"></a>00303             <a class="code" href="group___memory_macros.html#g2f21fa2fa985e6a06f96f04ab9d8b0d1">DWFCORE_ZERO_MEMORY</a>( _ppForward, <span class="keyword">sizeof</span>(_Node*) * (nHeight + 1) );
<a name="l00304"></a>00304         }
<a name="l00305"></a>00305 
<a name="l00306"></a>00306         ~_Node()
<a name="l00307"></a>00307             throw()
<a name="l00308"></a>00308         {
<a name="l00309"></a>00309             <span class="keywordflow">if</span> (_ppForward)
<a name="l00310"></a>00310             {
<a name="l00311"></a>00311                 <a class="code" href="group___memory_macros.html#gc0ffe72f4a11f4e3cd050dceca87ae46">DWFCORE_FREE_MEMORY</a>( _ppForward );
<a name="l00312"></a>00312             }
<a name="l00313"></a>00313         }
<a name="l00314"></a>00314 
<a name="l00315"></a>00315         _Node* forward( <a class="code" href="group___type_macros_int.html#gd174686007bc95283207bd896b19ffbb">uint16_t</a> iLevel )
<a name="l00316"></a>00316             <span class="keywordflow">throw</span>()
<a name="l00317"></a>00317         {
<a name="l00318"></a>00318             <span class="keywordflow">return</span> (_ppForward ? _ppForward[iLevel] : NULL);
<a name="l00319"></a>00319         }
<a name="l00320"></a>00320 
<a name="l00321"></a>00321         _Node <span class="keyword">const</span>* forward( <a class="code" href="group___type_macros_int.html#gd174686007bc95283207bd896b19ffbb">uint16_t</a> iLevel ) <span class="keyword">const</span>
<a name="l00322"></a>00322             <span class="keywordflow">throw</span>()
<a name="l00323"></a>00323         {
<a name="l00324"></a>00324             <span class="keywordflow">return</span> (_ppForward ? _ppForward[iLevel] : NULL);
<a name="l00325"></a>00325         }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327         <span class="keywordtype">void</span> forward( <a class="code" href="group___type_macros_int.html#gd174686007bc95283207bd896b19ffbb">uint16_t</a> iLevel, _Node* pNode )
<a name="l00328"></a>00328             <span class="keywordflow">throw</span>()
<a name="l00329"></a>00329         {
<a name="l00330"></a>00330             _ppForward[iLevel] = pNode;
<a name="l00331"></a>00331         }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333         K&amp; key()
<a name="l00334"></a>00334             <span class="keywordflow">throw</span>()
<a name="l00335"></a>00335         {
<a name="l00336"></a>00336             <span class="keywordflow">return</span> _Key;
<a name="l00337"></a>00337         }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339         <span class="keyword">const</span> K&amp; key() <span class="keyword">const</span>
<a name="l00340"></a>00340             <span class="keywordflow">throw</span>()
<a name="l00341"></a>00341         {
<a name="l00342"></a>00342             <span class="keywordflow">return</span> _Key;
<a name="l00343"></a>00343         }
<a name="l00344"></a>00344 
<a name="l00345"></a>00345         <span class="keywordtype">void</span> key( <span class="keyword">const</span> K&amp; rKey )
<a name="l00346"></a>00346             <span class="keywordflow">throw</span>()
<a name="l00347"></a>00347         {
<a name="l00348"></a>00348             _Key = rKey;
<a name="l00349"></a>00349         }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351         V&amp; value()
<a name="l00352"></a>00352             <span class="keywordflow">throw</span>()
<a name="l00353"></a>00353         {
<a name="l00354"></a>00354             <span class="keywordflow">return</span> _Value;
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357         <span class="keyword">const</span> V&amp; value() <span class="keyword">const</span>
<a name="l00358"></a>00358             <span class="keywordflow">throw</span>()
<a name="l00359"></a>00359         {
<a name="l00360"></a>00360             <span class="keywordflow">return</span> _Value;
<a name="l00361"></a>00361         }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363         <span class="keywordtype">void</span> value( <span class="keyword">const</span> V&amp; rValue )
<a name="l00364"></a>00364             <span class="keywordflow">throw</span>()
<a name="l00365"></a>00365         {
<a name="l00366"></a>00366             _Value = rValue;
<a name="l00367"></a>00367         }
<a name="l00368"></a>00368 
<a name="l00369"></a>00369     <span class="keyword">private</span>:
<a name="l00370"></a>00370 
<a name="l00371"></a>00371         _Node** _ppForward;
<a name="l00372"></a>00372         K       _Key;
<a name="l00373"></a>00373         V       _Value;
<a name="l00374"></a>00374     };
<a name="l00375"></a>00375 
<a name="l00376"></a>00376 <span class="keyword">public</span>:
<a name="l00377"></a>00377 
<a name="l00383"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">00383</a>     <span class="keyword">class</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">Iterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_core_memory.html">DWFCoreMemory</a>
<a name="l00384"></a>00384                    , <span class="keyword">public</span> DWFKVIterator&lt;K,V&gt;
<a name="l00385"></a>00385     {
<a name="l00386"></a>00386     
<a name="l00387"></a>00387     <span class="keyword">public</span>:
<a name="l00388"></a>00388 
<a name="l00394"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#f68587ccf3aeb9e4797493f2de522a02">00394</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">Iterator</a>()
<a name="l00395"></a>00395             <span class="keywordflow">throw</span>()
<a name="l00396"></a>00396             : _pNodeIterator( NULL )
<a name="l00397"></a>00397             , _pCurrent( NULL )
<a name="l00398"></a>00398         {;}      
<a name="l00399"></a>00399 
<a name="l00405"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#4e1ff033cd5bd745d5bad457fc3ab4ed">00405</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">Iterator</a>( <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html">_Node::_Iterator</a>* pNodeIterator )
<a name="l00406"></a>00406             <span class="keywordflow">throw</span>()
<a name="l00407"></a>00407             : _pNodeIterator( pNodeIterator )
<a name="l00408"></a>00408             , _pCurrent( NULL )
<a name="l00409"></a>00409         {;}      
<a name="l00410"></a>00410 
<a name="l00416"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#4fb2e1af8c4f5a1d4e783b4bd6b9e0bb">00416</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">Iterator</a>()
<a name="l00417"></a>00417             throw()
<a name="l00418"></a>00418         {
<a name="l00419"></a>00419             <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00420"></a>00420             {
<a name="l00421"></a>00421                 <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pNodeIterator );
<a name="l00422"></a>00422             }
<a name="l00423"></a>00423         }
<a name="l00424"></a>00424 
<a name="l00425"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#15e877c7c2b34db941e7672437bbe2e5">00425</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l00426"></a>00426             throw()
<a name="l00427"></a>00427         {
<a name="l00428"></a>00428             _pCurrent = NULL;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430             <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00431"></a>00431             {
<a name="l00432"></a>00432                 _pNodeIterator-&gt;reset();
<a name="l00433"></a>00433             }
<a name="l00434"></a>00434         }
<a name="l00435"></a>00435 
<a name="l00436"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#dac7c210467ca8936aedcaafffb21dee">00436</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid()
<a name="l00437"></a>00437             throw()
<a name="l00438"></a>00438         {
<a name="l00439"></a>00439             <span class="keywordflow">return</span> (_pNodeIterator ? _pNodeIterator-&gt;valid() : <span class="keyword">false</span>);
<a name="l00440"></a>00440         }
<a name="l00441"></a>00441 
<a name="l00442"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#664f8784e379383402f73aeb98bca97f">00442</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l00443"></a>00443             <span class="keywordflow">throw</span>()
<a name="l00444"></a>00444         {
<a name="l00445"></a>00445             _pCurrent = NULL;
<a name="l00446"></a>00446 
<a name="l00447"></a>00447             <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00448"></a>00448             {
<a name="l00449"></a>00449                 <span class="keywordflow">return</span> _pNodeIterator-&gt;next();
<a name="l00450"></a>00450             }
<a name="l00451"></a>00451             <span class="keywordflow">else</span>
<a name="l00452"></a>00452             {
<a name="l00453"></a>00453                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00454"></a>00454             }
<a name="l00455"></a>00455         }
<a name="l00456"></a>00456         
<a name="l00457"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#87ef31d54f81072952c331d5c7339d8e">00457</a>         <span class="keyword">virtual</span> K&amp; key()
<a name="l00458"></a>00458             throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00459"></a>00459         {
<a name="l00460"></a>00460             <span class="keywordflow">if</span> (_pCurrent == NULL)
<a name="l00461"></a>00461             {
<a name="l00462"></a>00462                 <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00463"></a>00463                 {
<a name="l00464"></a>00464                     _pCurrent = _pNodeIterator-&gt;get();
<a name="l00465"></a>00465                 }
<a name="l00466"></a>00466             }
<a name="l00467"></a>00467             
<a name="l00468"></a>00468             <span class="keywordflow">if</span> (_pCurrent)
<a name="l00469"></a>00469             {
<a name="l00470"></a>00470                 <span class="keywordflow">return</span> _pCurrent-&gt;key();
<a name="l00471"></a>00471             }
<a name="l00472"></a>00472             <span class="keywordflow">else</span>
<a name="l00473"></a>00473             {
<a name="l00474"></a>00474                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_illegal_state_exception.html">DWFIllegalStateException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Cannot get key from iterator"</span> );
<a name="l00475"></a>00475             }
<a name="l00476"></a>00476         }
<a name="l00477"></a>00477 
<a name="l00478"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#a33d6f23213683fb11562ed71da60e15">00478</a>         <span class="keyword">virtual</span> V&amp; value()
<a name="l00479"></a>00479             throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00480"></a>00480         {
<a name="l00481"></a>00481             <span class="keywordflow">if</span> (_pCurrent == NULL)
<a name="l00482"></a>00482             {
<a name="l00483"></a>00483                 <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00484"></a>00484                 {
<a name="l00485"></a>00485                     _pCurrent = _pNodeIterator-&gt;get();
<a name="l00486"></a>00486                 }
<a name="l00487"></a>00487             }
<a name="l00488"></a>00488             
<a name="l00489"></a>00489             <span class="keywordflow">if</span> (_pCurrent)
<a name="l00490"></a>00490             {
<a name="l00491"></a>00491                 <span class="keywordflow">return</span> _pCurrent-&gt;value();
<a name="l00492"></a>00492             }
<a name="l00493"></a>00493             <span class="keywordflow">else</span>
<a name="l00494"></a>00494             {
<a name="l00495"></a>00495                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_illegal_state_exception.html">DWFIllegalStateException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Cannot get value from iterator"</span> );
<a name="l00496"></a>00496             }
<a name="l00497"></a>00497         }
<a name="l00498"></a>00498 
<a name="l00499"></a>00499     <span class="keyword">private</span>:
<a name="l00500"></a>00500 
<a name="l00501"></a>00501         <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___iterator.html">_Node::_Iterator</a>*  _pNodeIterator;
<a name="l00502"></a>00502         _Node*                      _pCurrent;
<a name="l00503"></a>00503     };
<a name="l00504"></a>00504 
<a name="l00510"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">00510</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">ConstIterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l00511"></a>00511                         , <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_k_v_const_iterator.html">DWFKVConstIterator</a>&lt;K,V&gt;
<a name="l00512"></a>00512     {
<a name="l00513"></a>00513     
<a name="l00514"></a>00514     <span class="keyword">public</span>:
<a name="l00515"></a>00515 
<a name="l00521"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#b952ab60017a5cd9b999558149302837">00521</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">ConstIterator</a>()
<a name="l00522"></a>00522             throw()
<a name="l00523"></a>00523             : _pNodeIterator( NULL )
<a name="l00524"></a>00524             , _pCurrent( NULL )
<a name="l00525"></a>00525         {;}      
<a name="l00526"></a>00526 
<a name="l00532"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#c2746f89ea5c7b06bb181b2444f49d08">00532</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">ConstIterator</a>( <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html">_Node::_ConstIterator</a>* pNodeIterator )
<a name="l00533"></a>00533             <span class="keywordflow">throw</span>()
<a name="l00534"></a>00534             : _pNodeIterator( pNodeIterator )
<a name="l00535"></a>00535             , _pCurrent( NULL )
<a name="l00536"></a>00536         {;}      
<a name="l00537"></a>00537 
<a name="l00543"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#fb951e92eac2e1d1d5e1d2faec62bccb">00543</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">ConstIterator</a>()
<a name="l00544"></a>00544             throw()
<a name="l00545"></a>00545         {
<a name="l00546"></a>00546             <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00547"></a>00547             {
<a name="l00548"></a>00548                 <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pNodeIterator );
<a name="l00549"></a>00549             }
<a name="l00550"></a>00550         }
<a name="l00551"></a>00551 
<a name="l00552"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#15e877c7c2b34db941e7672437bbe2e5">00552</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l00553"></a>00553             throw()
<a name="l00554"></a>00554         {
<a name="l00555"></a>00555             _pCurrent = NULL;
<a name="l00556"></a>00556 
<a name="l00557"></a>00557             <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00558"></a>00558             {
<a name="l00559"></a>00559                 _pNodeIterator-&gt;reset();
<a name="l00560"></a>00560             }
<a name="l00561"></a>00561         }
<a name="l00562"></a>00562 
<a name="l00563"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#dac7c210467ca8936aedcaafffb21dee">00563</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid()
<a name="l00564"></a>00564             throw()
<a name="l00565"></a>00565         {
<a name="l00566"></a>00566             <span class="keywordflow">return</span> (_pNodeIterator ? _pNodeIterator-&gt;valid() : <span class="keyword">false</span>);
<a name="l00567"></a>00567         }
<a name="l00568"></a>00568 
<a name="l00569"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#664f8784e379383402f73aeb98bca97f">00569</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l00570"></a>00570             <span class="keywordflow">throw</span>()
<a name="l00571"></a>00571         {
<a name="l00572"></a>00572             _pCurrent = NULL;
<a name="l00573"></a>00573 
<a name="l00574"></a>00574             <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00575"></a>00575             {
<a name="l00576"></a>00576                 <span class="keywordflow">return</span> _pNodeIterator-&gt;next();
<a name="l00577"></a>00577             }
<a name="l00578"></a>00578             <span class="keywordflow">else</span>
<a name="l00579"></a>00579             {
<a name="l00580"></a>00580                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00581"></a>00581             }
<a name="l00582"></a>00582         }
<a name="l00583"></a>00583         
<a name="l00584"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#87ef31d54f81072952c331d5c7339d8e">00584</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> K&amp; key()
<a name="l00585"></a>00585             throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00586"></a>00586         {
<a name="l00587"></a>00587             <span class="keywordflow">if</span> (_pCurrent == NULL)
<a name="l00588"></a>00588             {
<a name="l00589"></a>00589                 <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00590"></a>00590                 {
<a name="l00591"></a>00591                     _pCurrent = _pNodeIterator-&gt;get();
<a name="l00592"></a>00592                 }
<a name="l00593"></a>00593             }
<a name="l00594"></a>00594             
<a name="l00595"></a>00595             <span class="keywordflow">if</span> (_pCurrent)
<a name="l00596"></a>00596             {
<a name="l00597"></a>00597                 <span class="keywordflow">return</span> _pCurrent-&gt;key();
<a name="l00598"></a>00598             }
<a name="l00599"></a>00599             <span class="keywordflow">else</span>
<a name="l00600"></a>00600             {
<a name="l00601"></a>00601                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_illegal_state_exception.html">DWFIllegalStateException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Cannot get key from iterator"</span> );
<a name="l00602"></a>00602             }
<a name="l00603"></a>00603         }
<a name="l00604"></a>00604 
<a name="l00605"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#a33d6f23213683fb11562ed71da60e15">00605</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> V&amp; value()
<a name="l00606"></a>00606             throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00607"></a>00607         {
<a name="l00608"></a>00608             <span class="keywordflow">if</span> (_pCurrent == NULL)
<a name="l00609"></a>00609             {
<a name="l00610"></a>00610                 <span class="keywordflow">if</span> (_pNodeIterator)
<a name="l00611"></a>00611                 {
<a name="l00612"></a>00612                     _pCurrent = _pNodeIterator-&gt;get();
<a name="l00613"></a>00613                 }
<a name="l00614"></a>00614             }
<a name="l00615"></a>00615             
<a name="l00616"></a>00616             <span class="keywordflow">if</span> (_pCurrent)
<a name="l00617"></a>00617             {
<a name="l00618"></a>00618                 <span class="keywordflow">return</span> _pCurrent-&gt;value();
<a name="l00619"></a>00619             }
<a name="l00620"></a>00620             <span class="keywordflow">else</span>
<a name="l00621"></a>00621             {
<a name="l00622"></a>00622                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_illegal_state_exception.html">DWFIllegalStateException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Cannot get value from iterator"</span> );
<a name="l00623"></a>00623             }
<a name="l00624"></a>00624         }
<a name="l00625"></a>00625 
<a name="l00626"></a>00626     <span class="keyword">private</span>:
<a name="l00627"></a>00627 
<a name="l00628"></a>00628         <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1___node_1_1___const_iterator.html">_Node::_ConstIterator</a>*  _pNodeIterator;
<a name="l00629"></a>00629         _Node <span class="keyword">const</span>*                     _pCurrent;
<a name="l00630"></a>00630     };
<a name="l00631"></a>00631 
<a name="l00632"></a>00632 <span class="keyword">public</span>:
<a name="l00633"></a>00633 
<a name="l00639"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#3616b8000a015689fed4b46c19c06ea2">00639</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear()
<a name="l00640"></a>00640         throw( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a> )
<a name="l00641"></a>00641     {
<a name="l00642"></a>00642         _Node* pNext = NULL;
<a name="l00643"></a>00643         <span class="keyword">typename</span> _Node::_Iterator iNode( _pHeader-&gt;forward(0) );
<a name="l00644"></a>00644 
<a name="l00645"></a>00645         <span class="keywordflow">while</span> (iNode.valid())
<a name="l00646"></a>00646         {
<a name="l00647"></a>00647             pNext = iNode.get();
<a name="l00648"></a>00648             iNode.next();
<a name="l00649"></a>00649 
<a name="l00650"></a>00650             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( pNext );
<a name="l00651"></a>00651         }
<a name="l00652"></a>00652 
<a name="l00653"></a>00653         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pHeader );
<a name="l00654"></a>00654 
<a name="l00655"></a>00655         <span class="comment">//</span>
<a name="l00656"></a>00656         <span class="comment">// Reset the maximum level and the initial maximum height.</span>
<a name="l00657"></a>00657         <span class="comment">//</span>
<a name="l00658"></a>00658         _nMaxLevel  = 0;
<a name="l00659"></a>00659         _nMaxHeight = <a class="code" href="group___external_macros.html#gc2e279e78f195422b09b257d22eb2ae2">DWFCORE_SKIPLIST_INITIAL_HEIGHT</a>;
<a name="l00660"></a>00660         
<a name="l00661"></a>00661         <span class="comment">//</span>
<a name="l00662"></a>00662         <span class="comment">// Reset the element count to 0.</span>
<a name="l00663"></a>00663         <span class="comment">//</span>
<a name="l00664"></a>00664         _nCount = 0;
<a name="l00665"></a>00665 
<a name="l00666"></a>00666         <span class="comment">//</span>
<a name="l00667"></a>00667         <span class="comment">// rebuild the header node</span>
<a name="l00668"></a>00668         <span class="comment">//</span>
<a name="l00669"></a>00669         _pHeader = <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( _Node(<a class="code" href="group___external_macros.html#g7d9f1d00ad1ebff63c1d390cfc142893">DWFCORE_SKIPLIST_MAX_NODE_LEVEL</a>) );
<a name="l00670"></a>00670         <span class="keywordflow">if</span> (_pHeader == NULL)
<a name="l00671"></a>00671         {
<a name="l00672"></a>00672             <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Failed to allocate header node"</span> );
<a name="l00673"></a>00673         }
<a name="l00674"></a>00674     }
<a name="l00675"></a>00675 
<a name="l00682"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#5a9421972c178b3c37b99f953470c6f6">00682</a>     <span class="keyword">virtual</span> size_t size() const
<a name="l00683"></a>00683         throw()
<a name="l00684"></a>00684     {
<a name="l00685"></a>00685         <span class="keywordflow">return</span> _nCount;
<a name="l00686"></a>00686     }
<a name="l00687"></a>00687 
<a name="l00696"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#c49f9eff2ae38470827eedc5b90f1eb1">00696</a>     <span class="keyword">virtual</span> Iterator* iterator()
<a name="l00697"></a>00697         throw()
<a name="l00698"></a>00698     {
<a name="l00699"></a>00699         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(Iterator(<a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(<span class="keyword">typename</span> _Node::_Iterator(_pHeader-&gt;forward(0)))));
<a name="l00700"></a>00700     }
<a name="l00701"></a>00701 
<a name="l00711"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#831da934eb42ae3a53bdf543b3c3e267">00711</a>     <span class="keyword">virtual</span> ConstIterator* constIterator() const
<a name="l00712"></a>00712         throw()
<a name="l00713"></a>00713     {
<a name="l00714"></a>00714         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(ConstIterator(<a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(<span class="keyword">typename</span> _Node::_ConstIterator(_pHeader-&gt;forward(0)))));
<a name="l00715"></a>00715     }
<a name="l00716"></a>00716 
<a name="l00726"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#80f03c5732a8a62b021e7b037188bd63">00726</a>     <span class="keyword">virtual</span> Iterator* iterator( <span class="keyword">const</span> K&amp; rKey )
<a name="l00727"></a>00727         <span class="keywordflow">throw</span>()
<a name="l00728"></a>00728     {
<a name="l00729"></a>00729         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(Iterator(<a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(<span class="keyword">typename</span> _Node::_Iterator(_search(rKey)))));
<a name="l00730"></a>00730     }
<a name="l00731"></a>00731 
<a name="l00742"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#1a8cb8681bc345dcd82c655e5d92f5f1">00742</a>     <span class="keyword">virtual</span> ConstIterator* constIterator( <span class="keyword">const</span> K&amp; rKey ) <span class="keyword">const</span>
<a name="l00743"></a>00743         <span class="keywordflow">throw</span>()
<a name="l00744"></a>00744     {
<a name="l00745"></a>00745         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(ConstIterator(<a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(<span class="keyword">typename</span> _Node::_ConstIterator(_search(rKey)))));
<a name="l00746"></a>00746     }
<a name="l00747"></a>00747 
<a name="l00755"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#de0ea53a79cfdd776f7bc6d8107fb41a">00755</a>     <span class="keyword">virtual</span> V* find( <span class="keyword">const</span> K&amp; rKey ) <span class="keyword">const</span>
<a name="l00756"></a>00756         <span class="keywordflow">throw</span>()
<a name="l00757"></a>00757     {    
<a name="l00758"></a>00758         _Node* pSearch = _search( rKey );
<a name="l00759"></a>00759           
<a name="l00760"></a>00760             <span class="comment">//</span>
<a name="l00761"></a>00761             <span class="comment">// If the node was found then return the value. </span>
<a name="l00762"></a>00762             <span class="comment">//</span>
<a name="l00763"></a>00763         <span class="keywordflow">if</span> (pSearch)
<a name="l00764"></a>00764         {
<a name="l00765"></a>00765             <span class="keywordflow">return</span> &amp;(pSearch-&gt;value());
<a name="l00766"></a>00766         }
<a name="l00767"></a>00767         <span class="keywordflow">else</span>
<a name="l00768"></a>00768         {
<a name="l00769"></a>00769             <span class="keywordflow">return</span> NULL;
<a name="l00770"></a>00770         }
<a name="l00771"></a>00771     }
<a name="l00772"></a>00772 
<a name="l00780"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#31b5bfae9b9f2c222150f87ec6d7cffe">00780</a>     <span class="keyword">virtual</span> K* key( <a class="code" href="group___type_macros_int.html#gd667826d9ab05c9e36a7ec04b54f6ad9">uint64_t</a> iPos )
<a name="l00781"></a>00781         <span class="keywordflow">throw</span>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00782"></a>00782     {
<a name="l00783"></a>00783         <span class="keywordflow">if</span> (iPos &gt;= _nCount)
<a name="l00784"></a>00784         {
<a name="l00785"></a>00785             <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_overflow_exception.html">DWFOverflowException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Index exceeds list size"</span> );
<a name="l00786"></a>00786         }
<a name="l00787"></a>00787 
<a name="l00788"></a>00788         _Node* pNode = _pHeader-&gt;forward( 0 );
<a name="l00789"></a>00789 
<a name="l00790"></a>00790         <span class="keywordflow">for</span> (; iPos &gt; 0; iPos--)
<a name="l00791"></a>00791         {
<a name="l00792"></a>00792             pNode = pNode-&gt;forward( 0 );
<a name="l00793"></a>00793         }
<a name="l00794"></a>00794 
<a name="l00795"></a>00795         <span class="keywordflow">return</span> &amp;(pNode-&gt;key());
<a name="l00796"></a>00796     }
<a name="l00797"></a>00797 
<a name="l00805"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#1f381f5816f0abffe995fc1581af3fb1">00805</a>     <span class="keyword">virtual</span> V* value( <a class="code" href="group___type_macros_int.html#gd667826d9ab05c9e36a7ec04b54f6ad9">uint64_t</a> iPos )
<a name="l00806"></a>00806         <span class="keywordflow">throw</span>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00807"></a>00807     {
<a name="l00808"></a>00808         <span class="keywordflow">if</span> (iPos &gt;= _nCount)
<a name="l00809"></a>00809         {
<a name="l00810"></a>00810             <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_overflow_exception.html">DWFOverflowException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Index exceeds list size"</span> );
<a name="l00811"></a>00811         }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813         _Node* pNode = _pHeader-&gt;forward( 0 );
<a name="l00814"></a>00814 
<a name="l00815"></a>00815         <span class="keywordflow">for</span> (; iPos &gt; 0; iPos--)
<a name="l00816"></a>00816         {
<a name="l00817"></a>00817             pNode = pNode-&gt;forward( 0 );
<a name="l00818"></a>00818         }
<a name="l00819"></a>00819 
<a name="l00820"></a>00820         <span class="keywordflow">return</span> &amp;(pNode-&gt;value());
<a name="l00821"></a>00821     }
<a name="l00822"></a>00822 
<a name="l00830"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#4a5363e13c33ac2a34f188890bdcff18">00830</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> erase( <span class="keyword">const</span> K&amp; rKey )
<a name="l00831"></a>00831         <span class="keywordflow">throw</span>()
<a name="l00832"></a>00832     {
<a name="l00833"></a>00833         <span class="comment">//</span>
<a name="l00834"></a>00834         <span class="comment">// refresh _ppUpdate</span>
<a name="l00835"></a>00835         <span class="comment">//</span>
<a name="l00836"></a>00836         <a class="code" href="group___memory_macros.html#g2f21fa2fa985e6a06f96f04ab9d8b0d1">DWFCORE_ZERO_MEMORY</a>( _ppUpdate, <span class="keyword">sizeof</span>(_Node*) * (<a class="code" href="group___external_macros.html#g7d9f1d00ad1ebff63c1d390cfc142893">DWFCORE_SKIPLIST_MAX_NODE_LEVEL</a> + 1) );
<a name="l00837"></a>00837 
<a name="l00838"></a>00838         _Node*  pCurrentNode = _pHeader;
<a name="l00839"></a>00839         _Node*  pAlreadyChecked = NULL;
<a name="l00840"></a>00840             
<a name="l00841"></a>00841         <span class="comment">//</span>
<a name="l00842"></a>00842         <span class="comment">// Locate key of value immediately to the left of the key in rank.  During</span>
<a name="l00843"></a>00843         <span class="comment">// the loop skip first using the largest steps possible and then proceed</span>
<a name="l00844"></a>00844         <span class="comment">// with successively smaller steps (levels).   At each level maintain the</span>
<a name="l00845"></a>00845         <span class="comment">// last visited node of that level (used for updating later).</span>
<a name="l00846"></a>00846         <span class="comment">//</span>
<a name="l00847"></a>00847         <a class="code" href="group___type_macros_int.html#g040dfd371c3a09526cfa43f3c5eda172">int16_t</a> iLevel = _nMaxLevel;
<a name="l00848"></a>00848         <span class="keywordflow">for</span> (; iLevel &gt;= 0; iLevel--)
<a name="l00849"></a>00849         {
<a name="l00850"></a>00850             <span class="keywordflow">while</span> ((pCurrentNode-&gt;forward(iLevel) != NULL) &amp;&amp; 
<a name="l00851"></a>00851                    (pCurrentNode-&gt;forward(iLevel) != pAlreadyChecked) &amp;&amp;
<a name="l00852"></a>00852                    (_tLessThan(pCurrentNode-&gt;forward(iLevel)-&gt;key(), rKey)))
<a name="l00853"></a>00853             {
<a name="l00854"></a>00854                 pCurrentNode = pCurrentNode-&gt;forward( iLevel );
<a name="l00855"></a>00855             }
<a name="l00856"></a>00856                 
<a name="l00857"></a>00857             pAlreadyChecked = pCurrentNode-&gt;forward( iLevel );
<a name="l00858"></a>00858             _ppUpdate[iLevel] = pCurrentNode;
<a name="l00859"></a>00859         }
<a name="l00860"></a>00860         
<a name="l00861"></a>00861         <span class="comment">//</span>
<a name="l00862"></a>00862         <span class="comment">// Get the next node.</span>
<a name="l00863"></a>00863         <span class="comment">//</span>
<a name="l00864"></a>00864         pCurrentNode = pCurrentNode-&gt;forward( 0 );
<a name="l00865"></a>00865           
<a name="l00866"></a>00866 
<a name="l00867"></a>00867             <span class="comment">//</span>
<a name="l00868"></a>00868             <span class="comment">// If the current key is equal to that supplied then just update the value</span>
<a name="l00869"></a>00869             <span class="comment">// and we are done.</span>
<a name="l00870"></a>00870             <span class="comment">//</span>
<a name="l00871"></a>00871         <span class="keywordflow">if</span> ((pCurrentNode != NULL) &amp;&amp; _tEquals(pCurrentNode-&gt;key(), rKey))
<a name="l00872"></a>00872         {
<a name="l00873"></a>00873                 <span class="comment">//</span>
<a name="l00874"></a>00874                 <span class="comment">// Iterate through all previously last-visited nodes of each level and update</span>
<a name="l00875"></a>00875                 <span class="comment">// their forward references to be the same of the deleted nodes level-equivalent</span>
<a name="l00876"></a>00876                 <span class="comment">// forward references.</span>
<a name="l00877"></a>00877                 <span class="comment">//</span>
<a name="l00878"></a>00878             <span class="keywordflow">for</span> (iLevel = 0; iLevel &lt;= _nMaxLevel; iLevel++)
<a name="l00879"></a>00879             {
<a name="l00880"></a>00880                 <span class="keywordflow">if</span> (_ppUpdate[iLevel]-&gt;forward(iLevel) != pCurrentNode)
<a name="l00881"></a>00881                 {
<a name="l00882"></a>00882                     <span class="keywordflow">break</span>;
<a name="l00883"></a>00883                 }
<a name="l00884"></a>00884                     
<a name="l00885"></a>00885                 _ppUpdate[iLevel]-&gt;forward( iLevel, pCurrentNode-&gt;forward(iLevel) );
<a name="l00886"></a>00886             }
<a name="l00887"></a>00887 
<a name="l00888"></a>00888                 <span class="comment">//</span>
<a name="l00889"></a>00889                 <span class="comment">// Readjust the maximum level in the skip-list if necessary by iterating through the</span>
<a name="l00890"></a>00890                 <span class="comment">// header's forward references and checking for null references at the highest levels back.</span>
<a name="l00891"></a>00891                 <span class="comment">//</span>
<a name="l00892"></a>00892             <span class="keywordflow">while</span>((_nMaxLevel&gt;0) &amp;&amp; (_pHeader-&gt;forward(_nMaxLevel) == NULL))
<a name="l00893"></a>00893             {
<a name="l00894"></a>00894                 _nMaxLevel--;
<a name="l00895"></a>00895             }
<a name="l00896"></a>00896         
<a name="l00897"></a>00897             _nCount--;
<a name="l00898"></a>00898         
<a name="l00899"></a>00899             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( pCurrentNode );
<a name="l00900"></a>00900 
<a name="l00901"></a>00901             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00902"></a>00902         } 
<a name="l00903"></a>00903         <span class="keywordflow">else</span>
<a name="l00904"></a>00904         {
<a name="l00905"></a>00905             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00906"></a>00906         }
<a name="l00907"></a>00907     }
<a name="l00908"></a>00908 
<a name="l00920"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#91415a32c489b316b4bde801e79c131e">00920</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> insert( <span class="keyword">const</span> K&amp; rKey, <span class="keyword">const</span> V&amp; rValue, <span class="keywordtype">bool</span> bReplace = <span class="keyword">true</span> )
<a name="l00921"></a>00921         throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l00922"></a>00922     {
<a name="l00923"></a>00923         <span class="comment">//</span>
<a name="l00924"></a>00924         <span class="comment">// refresh _ppUpdate</span>
<a name="l00925"></a>00925         <span class="comment">//</span>
<a name="l00926"></a>00926         <a class="code" href="group___memory_macros.html#g2f21fa2fa985e6a06f96f04ab9d8b0d1">DWFCORE_ZERO_MEMORY</a>( _ppUpdate, <span class="keyword">sizeof</span>(_Node*) * (<a class="code" href="group___external_macros.html#g7d9f1d00ad1ebff63c1d390cfc142893">DWFCORE_SKIPLIST_MAX_NODE_LEVEL</a> + 1) );
<a name="l00927"></a>00927 
<a name="l00928"></a>00928         _Node*  pCurrentNode = _pHeader;
<a name="l00929"></a>00929         _Node*  pAlreadyChecked = NULL;
<a name="l00930"></a>00930             
<a name="l00931"></a>00931         <span class="comment">//</span>
<a name="l00932"></a>00932         <span class="comment">// Locate key of value immediately to the left of the key in rank.  During</span>
<a name="l00933"></a>00933         <span class="comment">// the loop skip first using the largest steps possible and then proceed</span>
<a name="l00934"></a>00934         <span class="comment">// with successively smaller steps (levels).   At each level maintain the</span>
<a name="l00935"></a>00935         <span class="comment">// last visited node of that level (used for updating later).</span>
<a name="l00936"></a>00936         <span class="comment">//</span>
<a name="l00937"></a>00937         <a class="code" href="group___type_macros_int.html#g040dfd371c3a09526cfa43f3c5eda172">int16_t</a> iLevel = _nMaxLevel;
<a name="l00938"></a>00938         <span class="keywordflow">for</span> (; iLevel &gt;= 0; iLevel--)
<a name="l00939"></a>00939         {
<a name="l00940"></a>00940             <span class="keywordflow">while</span> ((pCurrentNode-&gt;forward(iLevel) != NULL) &amp;&amp; 
<a name="l00941"></a>00941                    (pCurrentNode-&gt;forward(iLevel) != pAlreadyChecked) &amp;&amp;
<a name="l00942"></a>00942                    (_tLessThan(pCurrentNode-&gt;forward(iLevel)-&gt;key(), rKey)))
<a name="l00943"></a>00943             {
<a name="l00944"></a>00944                 pCurrentNode = pCurrentNode-&gt;forward( iLevel );
<a name="l00945"></a>00945             }
<a name="l00946"></a>00946                 
<a name="l00947"></a>00947             pAlreadyChecked = pCurrentNode-&gt;forward( iLevel );
<a name="l00948"></a>00948             _ppUpdate[iLevel] = pCurrentNode;
<a name="l00949"></a>00949         }
<a name="l00950"></a>00950             
<a name="l00951"></a>00951         <span class="comment">//</span>
<a name="l00952"></a>00952         <span class="comment">// Get the next node.</span>
<a name="l00953"></a>00953         <span class="comment">//</span>
<a name="l00954"></a>00954         pCurrentNode = pCurrentNode-&gt;forward( 0 );
<a name="l00955"></a>00955           
<a name="l00956"></a>00956             <span class="comment">//</span>
<a name="l00957"></a>00957             <span class="comment">// If the current key is equal to that supplied then just update the value</span>
<a name="l00958"></a>00958             <span class="comment">// and we are done.</span>
<a name="l00959"></a>00959             <span class="comment">//</span>
<a name="l00960"></a>00960         <span class="keywordflow">if</span> ((pCurrentNode != NULL) &amp;&amp; (_tEquals(pCurrentNode-&gt;key(), rKey)))
<a name="l00961"></a>00961         {                  
<a name="l00962"></a>00962             <span class="keywordflow">if</span> (bReplace)
<a name="l00963"></a>00963             {
<a name="l00964"></a>00964                 pCurrentNode-&gt;key( rKey );
<a name="l00965"></a>00965                 pCurrentNode-&gt;value( rValue );
<a name="l00966"></a>00966             }
<a name="l00967"></a>00967 
<a name="l00968"></a>00968             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00969"></a>00969         }
<a name="l00970"></a>00970         <span class="keywordflow">else</span>
<a name="l00971"></a>00971         {
<a name="l00972"></a>00972             <span class="comment">//</span>
<a name="l00973"></a>00973             <span class="comment">// Generate a random level (height) for the new node.</span>
<a name="l00974"></a>00974             <span class="comment">//</span>
<a name="l00975"></a>00975             <a class="code" href="group___type_macros_int.html#gd174686007bc95283207bd896b19ffbb">uint16_t</a> nNewLevel = _random();
<a name="l00976"></a>00976               
<a name="l00977"></a>00977                 <span class="comment">//</span>
<a name="l00978"></a>00978                 <span class="comment">// Update the maximum level height if this level is now larger.  (Could only be one greater!)</span>
<a name="l00979"></a>00979                 <span class="comment">//</span>
<a name="l00980"></a>00980             <span class="keywordflow">if</span> (nNewLevel &gt;= _nMaxHeight)
<a name="l00981"></a>00981             {
<a name="l00982"></a>00982                 _nMaxHeight = nNewLevel + 1;
<a name="l00983"></a>00983             }
<a name="l00984"></a>00984                 
<a name="l00985"></a>00985                 <span class="comment">//</span>
<a name="l00986"></a>00986                 <span class="comment">// If this level is the largest level so far selected in the skip-list then extend the</span>
<a name="l00987"></a>00987                 <span class="comment">// list of maintain "update" pointers (of previously visited nodes of each level) for the</span>
<a name="l00988"></a>00988                 <span class="comment">// intermediate levels between the previous maximum and the new maximum.</span>
<a name="l00989"></a>00989                 <span class="comment">//</span>
<a name="l00990"></a>00990                 <span class="comment">// Also checks to see that the absolute maximum has been reached and restricts the height increase.</span>
<a name="l00991"></a>00991                 <span class="comment">//</span>
<a name="l00992"></a>00992             <span class="keywordflow">if</span> (nNewLevel &gt; _nMaxLevel)
<a name="l00993"></a>00993             {
<a name="l00994"></a>00994                 <span class="keywordflow">for</span>(iLevel = _nMaxLevel + 1; iLevel &lt;= nNewLevel; iLevel++)
<a name="l00995"></a>00995                 {
<a name="l00996"></a>00996                     _ppUpdate[iLevel] = _pHeader;
<a name="l00997"></a>00997                 }
<a name="l00998"></a>00998                  
<a name="l00999"></a>00999                 <span class="comment">//</span>
<a name="l01000"></a>01000                 <span class="comment">// Update the skip-list maximum level from here on.</span>
<a name="l01001"></a>01001                 <span class="comment">//</span>
<a name="l01002"></a>01002                 _nMaxLevel = nNewLevel;
<a name="l01003"></a>01003             }
<a name="l01004"></a>01004                 
<a name="l01005"></a>01005             <span class="comment">//</span>
<a name="l01006"></a>01006             <span class="comment">// Create a new node.</span>
<a name="l01007"></a>01007             <span class="comment">//</span>
<a name="l01008"></a>01008             pCurrentNode = <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( _Node(nNewLevel, rKey, rValue) );
<a name="l01009"></a>01009 
<a name="l01010"></a>01010             <span class="keywordflow">if</span> (pCurrentNode == NULL)
<a name="l01011"></a>01011             {
<a name="l01012"></a>01012                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Failed to allocate node"</span> );
<a name="l01013"></a>01013             }
<a name="l01014"></a>01014               
<a name="l01015"></a>01015                 <span class="comment">//</span>
<a name="l01016"></a>01016                 <span class="comment">// Update all forward references of previous skip-list nodes to reference the new value and </span>
<a name="l01017"></a>01017                 <span class="comment">// set the forward references of the new node to those of the previous update nodes at each level.</span>
<a name="l01018"></a>01018                 <span class="comment">//</span>
<a name="l01019"></a>01019             <span class="keywordflow">for</span> (iLevel = 0; iLevel &lt;= nNewLevel; iLevel++)
<a name="l01020"></a>01020             {
<a name="l01021"></a>01021                 pCurrentNode-&gt;forward( iLevel, _ppUpdate[iLevel]-&gt;forward(iLevel) );
<a name="l01022"></a>01022                 _ppUpdate[iLevel]-&gt;forward( iLevel, pCurrentNode );
<a name="l01023"></a>01023             }                            
<a name="l01024"></a>01024                 
<a name="l01025"></a>01025             _nCount++;
<a name="l01026"></a>01026 
<a name="l01027"></a>01027             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01028"></a>01028         }
<a name="l01029"></a>01029     }
<a name="l01030"></a>01030 
<a name="l01031"></a>01031 <span class="keyword">private</span>:
<a name="l01032"></a>01032 
<a name="l01033"></a>01033     <span class="comment">//</span>
<a name="l01034"></a>01034     <span class="comment">//</span>
<a name="l01035"></a>01035     <span class="comment">//</span>
<a name="l01036"></a>01036     _Node* _search( <span class="keyword">const</span> K&amp; rKey ) <span class="keyword">const</span>
<a name="l01037"></a>01037         <span class="keywordflow">throw</span>()
<a name="l01038"></a>01038     {    
<a name="l01039"></a>01039         _Node*  pCurrentNode = _pHeader;
<a name="l01040"></a>01040         _Node*  pAlreadyChecked = NULL;
<a name="l01041"></a>01041 
<a name="l01042"></a>01042         <span class="comment">//</span>
<a name="l01043"></a>01043         <span class="comment">// Locate key of value immediately to the left of the key in rank.  During</span>
<a name="l01044"></a>01044         <span class="comment">// the loop skip first using the largest steps possible and then proceed</span>
<a name="l01045"></a>01045         <span class="comment">// with successively smaller steps (levels).   At each level maintain the</span>
<a name="l01046"></a>01046         <span class="comment">// last visited node of that level (used for updating later).</span>
<a name="l01047"></a>01047         <span class="comment">//</span>
<a name="l01048"></a>01048         <a class="code" href="group___type_macros_int.html#g040dfd371c3a09526cfa43f3c5eda172">int16_t</a> iLevel = _nMaxLevel;
<a name="l01049"></a>01049         <span class="keywordflow">for</span> (; iLevel &gt;= 0; iLevel--)
<a name="l01050"></a>01050         {
<a name="l01051"></a>01051             <span class="keywordflow">while</span> ((pCurrentNode-&gt;forward(iLevel) != NULL) &amp;&amp; 
<a name="l01052"></a>01052                    (pCurrentNode-&gt;forward(iLevel) != pAlreadyChecked) &amp;&amp;
<a name="l01053"></a>01053                    (_tLessThan(pCurrentNode-&gt;forward(iLevel)-&gt;key(), rKey)))
<a name="l01054"></a>01054             {
<a name="l01055"></a>01055                 pCurrentNode = pCurrentNode-&gt;forward( iLevel );
<a name="l01056"></a>01056             }
<a name="l01057"></a>01057                 
<a name="l01058"></a>01058             pAlreadyChecked = pCurrentNode-&gt;forward( iLevel );
<a name="l01059"></a>01059         }
<a name="l01060"></a>01060 
<a name="l01061"></a>01061         <span class="comment">//</span>
<a name="l01062"></a>01062         <span class="comment">// Get the next node.</span>
<a name="l01063"></a>01063         <span class="comment">//</span>
<a name="l01064"></a>01064         pCurrentNode = pCurrentNode-&gt;forward( 0 );
<a name="l01065"></a>01065           
<a name="l01066"></a>01066             <span class="comment">//</span>
<a name="l01067"></a>01067             <span class="comment">// If the node was found then return the value. </span>
<a name="l01068"></a>01068             <span class="comment">//</span>
<a name="l01069"></a>01069         <span class="keywordflow">if</span> ((pCurrentNode != NULL) &amp;&amp; (_tEquals(pCurrentNode-&gt;key(), rKey)))
<a name="l01070"></a>01070         {
<a name="l01071"></a>01071             <span class="keywordflow">return</span> pCurrentNode;
<a name="l01072"></a>01072         }
<a name="l01073"></a>01073         <span class="keywordflow">else</span>
<a name="l01074"></a>01074         {
<a name="l01075"></a>01075             <span class="keywordflow">return</span> NULL;
<a name="l01076"></a>01076         }
<a name="l01077"></a>01077     }
<a name="l01078"></a>01078 
<a name="l01079"></a>01079     <a class="code" href="group___type_macros_int.html#gd174686007bc95283207bd896b19ffbb">uint16_t</a> _random()
<a name="l01080"></a>01080         <span class="keywordflow">throw</span>()
<a name="l01081"></a>01081     {
<a name="l01082"></a>01082         uint16_t nLevel = 1;
<a name="l01083"></a>01083         <span class="keyword">static</span> <span class="keywordtype">bool</span> bSeed = <span class="keyword">true</span>;
<a name="l01084"></a>01084 
<a name="l01085"></a>01085         <span class="keywordflow">if</span> (bSeed)
<a name="l01086"></a>01086         {
<a name="l01087"></a>01087             ::srand( DWFTimer::Tick32() );
<a name="l01088"></a>01088             bSeed = <span class="keyword">false</span>;
<a name="l01089"></a>01089         }
<a name="l01090"></a>01090 
<a name="l01091"></a>01091 
<a name="l01092"></a>01092         <span class="keywordflow">while</span> ((::rand() &lt; (RAND_MAX * <a class="code" href="group___external_macros.html#g01131bce6a29bc7c7995b4ac21a6b262">DWFCORE_SKIPLIST_PROBABILITY_DISTRIB</a>)) &amp;&amp;
<a name="l01093"></a>01093                (nLevel &lt;= _nMaxHeight) &amp;&amp;
<a name="l01094"></a>01094                (nLevel &lt; <a class="code" href="group___external_macros.html#g7d9f1d00ad1ebff63c1d390cfc142893">DWFCORE_SKIPLIST_MAX_NODE_LEVEL</a>))
<a name="l01095"></a>01095         {
<a name="l01096"></a>01096             nLevel++;
<a name="l01097"></a>01097         }
<a name="l01098"></a>01098 
<a name="l01099"></a>01099         <span class="keywordflow">return</span> nLevel;
<a name="l01100"></a>01100     }
<a name="l01101"></a>01101 
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 <span class="keyword">private</span>:
<a name="l01104"></a>01104 
<a name="l01105"></a>01105         <span class="comment">//</span>
<a name="l01106"></a>01106         <span class="comment">// First node in the list ... does not represent a key.</span>
<a name="l01107"></a>01107         <span class="comment">//</span>
<a name="l01108"></a>01108     _Node*      _pHeader;   
<a name="l01109"></a>01109 
<a name="l01110"></a>01110         <span class="comment">//</span>
<a name="l01111"></a>01111         <span class="comment">// Update node array used in _insert and _delete</span>
<a name="l01112"></a>01112         <span class="comment">// Keep it here and use the maximum node level size</span>
<a name="l01113"></a>01113         <span class="comment">// to eliminate allocations</span>
<a name="l01114"></a>01114         <span class="comment">//</span>
<a name="l01115"></a>01115     _Node*      _ppUpdate[<a class="code" href="group___external_macros.html#g7d9f1d00ad1ebff63c1d390cfc142893">DWFCORE_SKIPLIST_MAX_NODE_LEVEL</a> + 1];
<a name="l01116"></a>01116 
<a name="l01117"></a>01117         <span class="comment">//</span>
<a name="l01118"></a>01118         <span class="comment">// Current maximum height of a node allowed.</span>
<a name="l01119"></a>01119         <span class="comment">//</span>
<a name="l01120"></a>01120     uint16_t    _nMaxHeight;
<a name="l01121"></a>01121 
<a name="l01122"></a>01122         <span class="comment">//</span>
<a name="l01123"></a>01123         <span class="comment">// Current maximum level used in any node.</span>
<a name="l01124"></a>01124         <span class="comment">//</span>
<a name="l01125"></a>01125     uint16_t    _nMaxLevel;
<a name="l01126"></a>01126 
<a name="l01127"></a>01127         <span class="comment">//</span>
<a name="l01128"></a>01128         <span class="comment">// Current count of items in the list.</span>
<a name="l01129"></a>01129         <span class="comment">//</span>
<a name="l01130"></a>01130     <a class="code" href="group___type_macros_int.html#g5dfbd6eff5c1f986c25fa49a6d36b842">uint32_t</a>    _nCount;
<a name="l01131"></a>01131 
<a name="l01132"></a>01132     <span class="comment">//</span>
<a name="l01133"></a>01133     <span class="comment">// Comparators</span>
<a name="l01134"></a>01134     <span class="comment">//</span>
<a name="l01135"></a>01135     E           _tEquals;
<a name="l01136"></a>01136     L           _tLessThan;
<a name="l01137"></a>01137 
<a name="l01138"></a>01138 <span class="keyword">private</span>:
<a name="l01139"></a>01139 
<a name="l01140"></a>01140     DWFSkipList( <span class="keyword">const</span> DWFSkipList&amp; );
<a name="l01141"></a>01141     DWFSkipList&amp; operator=( <span class="keyword">const</span> DWFSkipList&amp; );
<a name="l01142"></a>01142 };
<a name="l01143"></a>01143 
<a name="l01154"></a>01154 <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;
<a name="l01155"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">01155</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">DWFCharKeySkipList</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html">DWFSkipList</a>&lt;const char*, V, tDWFCharCompareEqual, tDWFCharCompareLess&gt;
<a name="l01156"></a>01156                          , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01157"></a>01157 {
<a name="l01158"></a>01158 <span class="keyword">public</span>:
<a name="l01159"></a>01159 
<a name="l01165"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html#48507cb0f1f67a0336c8caa8e068f07d">01165</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">DWFCharKeySkipList</a>() throw() {;}
<a name="l01166"></a>01166 
<a name="l01172"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html#1a290d0d296acf1caed0b712baaa5640">01172</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">DWFCharKeySkipList</a>() throw() {;}
<a name="l01173"></a>01173 
<a name="l01174"></a>01174 <span class="keyword">private</span>:
<a name="l01175"></a>01175 
<a name="l01176"></a>01176     <span class="comment">//</span>
<a name="l01177"></a>01177     <span class="comment">// Not Implemented</span>
<a name="l01178"></a>01178     <span class="comment">//</span>
<a name="l01179"></a>01179     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">DWFCharKeySkipList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">DWFCharKeySkipList</a>&amp; );
<a name="l01180"></a>01180     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">DWFCharKeySkipList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_skip_list.html">DWFCharKeySkipList</a>&amp; );
<a name="l01181"></a>01181 };
<a name="l01182"></a>01182 
<a name="l01217"></a>01217 <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;
<a name="l01218"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">01218</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">DWFWCharKeySkipList</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html">DWFSkipList</a>&lt;const wchar_t*, V, tDWFWCharCompareEqual, tDWFWCharCompareLess&gt;
<a name="l01219"></a>01219                           , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01220"></a>01220 {
<a name="l01221"></a>01221 <span class="keyword">public</span>:
<a name="l01222"></a>01222 
<a name="l01228"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html#2f68442157ed66d96a93cd0c0cc722c7">01228</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">DWFWCharKeySkipList</a>() throw() {;}
<a name="l01229"></a>01229 
<a name="l01235"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html#465bb02c329b06d39b406233d0b434dc">01235</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">DWFWCharKeySkipList</a>() throw() {;}
<a name="l01236"></a>01236 
<a name="l01237"></a>01237 <span class="keyword">private</span>:
<a name="l01238"></a>01238 
<a name="l01239"></a>01239     <span class="comment">//</span>
<a name="l01240"></a>01240     <span class="comment">// Not Implemented</span>
<a name="l01241"></a>01241     <span class="comment">//</span>
<a name="l01242"></a>01242     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">DWFWCharKeySkipList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">DWFWCharKeySkipList</a>&amp; );
<a name="l01243"></a>01243     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">DWFWCharKeySkipList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_skip_list.html">DWFWCharKeySkipList</a>&amp; );
<a name="l01244"></a>01244 };
<a name="l01245"></a>01245 
<a name="l01253"></a>01253 <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;
<a name="l01254"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">01254</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">DWFStringKeySkipList</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html">DWFSkipList</a>&lt;DWFString, V, tDWFCompareEqual&lt;DWFString&gt;, tDWFCompareLess&lt;DWFString&gt;, tDWFStringDefinedEmpty&gt;
<a name="l01255"></a>01255                            , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01256"></a>01256 {
<a name="l01257"></a>01257 <span class="keyword">public</span>:
<a name="l01258"></a>01258 
<a name="l01264"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html#f372c3c5047dea487eb51291f0f49bd3">01264</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">DWFStringKeySkipList</a>() throw() {;}
<a name="l01265"></a>01265 
<a name="l01271"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html#41e500f3e6f981cc1f66c28414a37aa5">01271</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">DWFStringKeySkipList</a>() throw() {;}
<a name="l01272"></a>01272 
<a name="l01273"></a>01273 <span class="keyword">private</span>:
<a name="l01274"></a>01274 
<a name="l01275"></a>01275     <span class="comment">//</span>
<a name="l01276"></a>01276     <span class="comment">// Not Implemented</span>
<a name="l01277"></a>01277     <span class="comment">//</span>
<a name="l01278"></a>01278     <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">DWFStringKeySkipList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">DWFStringKeySkipList</a>&amp; );
<a name="l01279"></a>01279     <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">DWFStringKeySkipList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_skip_list.html">DWFStringKeySkipList</a>&amp; );
<a name="l01280"></a>01280 };
<a name="l01281"></a>01281 
<a name="l01282"></a>01282 
<a name="l01293"></a>01293 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E = tDWFCompareEqual&lt;T&gt;, <span class="keyword">class</span> L = tDWFCompareLess&lt;T&gt;, <span class="keyword">class</span> Z = tDWFDefinedEmpty&lt;T&gt; &gt;
<a name="l01294"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">01294</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">DWFSortedList</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01295"></a>01295 {
<a name="l01296"></a>01296 
<a name="l01297"></a>01297 <span class="keyword">private</span>:
<a name="l01298"></a>01298 
<a name="l01299"></a>01299     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">DWFSkipList&lt;T, T, E, L, Z&gt;::Iterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>;
<a name="l01300"></a>01300     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">DWFSkipList&lt;T, T, E, L, Z&gt;::ConstIterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>;
<a name="l01301"></a>01301 
<a name="l01302"></a>01302 <span class="keyword">public</span>:
<a name="l01303"></a>01303 
<a name="l01309"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">01309</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">Iterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01310"></a>01310                    , <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_iterator.html">DWFIterator</a>&lt;T&gt;
<a name="l01311"></a>01311     {
<a name="l01312"></a>01312         
<a name="l01313"></a>01313     <span class="keyword">public</span>:
<a name="l01314"></a>01314 
<a name="l01321"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html#e791d89b43c1562c2d5fb793d242eed8">01321</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">Iterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>* pIterator )
<a name="l01322"></a>01322             <span class="keywordflow">throw</span>()
<a name="l01323"></a>01323             : _pIterator( pIterator )
<a name="l01324"></a>01324         {;}
<a name="l01325"></a>01325 
<a name="l01331"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html#4fb2e1af8c4f5a1d4e783b4bd6b9e0bb">01331</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">Iterator</a>()
<a name="l01332"></a>01332             throw()
<a name="l01333"></a>01333         {
<a name="l01334"></a>01334             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pIterator );
<a name="l01335"></a>01335         }
<a name="l01336"></a>01336 
<a name="l01337"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html#15e877c7c2b34db941e7672437bbe2e5">01337</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l01338"></a>01338             throw()
<a name="l01339"></a>01339         {
<a name="l01340"></a>01340             _pIterator-&gt;reset();
<a name="l01341"></a>01341         }
<a name="l01342"></a>01342 
<a name="l01343"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html#dac7c210467ca8936aedcaafffb21dee">01343</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid()
<a name="l01344"></a>01344             throw()
<a name="l01345"></a>01345         {
<a name="l01346"></a>01346             <span class="keywordflow">return</span> _pIterator-&gt;valid();
<a name="l01347"></a>01347         }
<a name="l01348"></a>01348 
<a name="l01349"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html#664f8784e379383402f73aeb98bca97f">01349</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l01350"></a>01350             throw()
<a name="l01351"></a>01351         {
<a name="l01352"></a>01352             <span class="keywordflow">return</span> _pIterator-&gt;next();
<a name="l01353"></a>01353         }
<a name="l01354"></a>01354             
<a name="l01355"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html#712109514c51d8578a1a5952b71603f1">01355</a>         <span class="keyword">virtual</span> T&amp; get()
<a name="l01356"></a>01356             throw()
<a name="l01357"></a>01357         {
<a name="l01358"></a>01358             <span class="keywordflow">return</span> _pIterator-&gt;key();
<a name="l01359"></a>01359         }
<a name="l01360"></a>01360 
<a name="l01361"></a>01361     <span class="keyword">private</span>:
<a name="l01362"></a>01362 
<a name="l01363"></a>01363         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>* _pIterator;
<a name="l01364"></a>01364     };
<a name="l01365"></a>01365 
<a name="l01371"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">01371</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">ConstIterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01372"></a>01372                         , <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_const_iterator.html">DWFConstIterator</a>&lt;T&gt;
<a name="l01373"></a>01373     {
<a name="l01374"></a>01374         
<a name="l01375"></a>01375     <span class="keyword">public</span>:
<a name="l01376"></a>01376 
<a name="l01383"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html#2c494a582befd14d43bf8828370cde6c">01383</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">ConstIterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>* pConstIterator )
<a name="l01384"></a>01384             <span class="keywordflow">throw</span>()
<a name="l01385"></a>01385             : _pConstIterator( pConstIterator )
<a name="l01386"></a>01386         {;}
<a name="l01387"></a>01387 
<a name="l01393"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html#fb951e92eac2e1d1d5e1d2faec62bccb">01393</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">ConstIterator</a>()
<a name="l01394"></a>01394             throw()
<a name="l01395"></a>01395         {
<a name="l01396"></a>01396             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pConstIterator );
<a name="l01397"></a>01397         }
<a name="l01398"></a>01398 
<a name="l01399"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html#15e877c7c2b34db941e7672437bbe2e5">01399</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l01400"></a>01400             throw()
<a name="l01401"></a>01401         {
<a name="l01402"></a>01402             _pConstIterator-&gt;reset();
<a name="l01403"></a>01403         }
<a name="l01404"></a>01404 
<a name="l01405"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html#cfa93fbcb5eee79e48b3ee26576c69d3">01405</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid() const
<a name="l01406"></a>01406             throw()
<a name="l01407"></a>01407         {
<a name="l01408"></a>01408             <span class="keywordflow">return</span> _pConstIterator-&gt;valid();
<a name="l01409"></a>01409         }
<a name="l01410"></a>01410 
<a name="l01411"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html#664f8784e379383402f73aeb98bca97f">01411</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l01412"></a>01412             throw()
<a name="l01413"></a>01413         {
<a name="l01414"></a>01414             <span class="keywordflow">return</span> _pConstIterator-&gt;next();
<a name="l01415"></a>01415         }
<a name="l01416"></a>01416             
<a name="l01417"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html#99d9f62c661abdd8db0f4279a7c05d72">01417</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> T&amp; get() const
<a name="l01418"></a>01418             throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l01419"></a>01419         {
<a name="l01420"></a>01420             <span class="keywordflow">return</span> _pConstIterator-&gt;key();
<a name="l01421"></a>01421         }
<a name="l01422"></a>01422 
<a name="l01423"></a>01423     <span class="keyword">private</span>:
<a name="l01424"></a>01424 
<a name="l01425"></a>01425         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>* _pConstIterator;
<a name="l01426"></a>01426     };
<a name="l01427"></a>01427 
<a name="l01428"></a>01428 <span class="keyword">public</span>:
<a name="l01429"></a>01429 
<a name="l01435"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#dca00ab964a730de431a1b42cffbe62a">01435</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">DWFSortedList</a>()
<a name="l01436"></a>01436         throw()
<a name="l01437"></a>01437     {;}
<a name="l01438"></a>01438 
<a name="l01444"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#5230cbb23d78c88c75e199ef9bf4609d">01444</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">DWFSortedList</a>()
<a name="l01445"></a>01445         throw()
<a name="l01446"></a>01446     {;}
<a name="l01447"></a>01447 
<a name="l01451"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#3616b8000a015689fed4b46c19c06ea2">01451</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear()
<a name="l01452"></a>01452         throw()
<a name="l01453"></a>01453     {
<a name="l01454"></a>01454         _oList.clear();
<a name="l01455"></a>01455     }
<a name="l01456"></a>01456 
<a name="l01460"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#5a9421972c178b3c37b99f953470c6f6">01460</a>     <span class="keyword">virtual</span> size_t size() const
<a name="l01461"></a>01461         throw()
<a name="l01462"></a>01462     {
<a name="l01463"></a>01463         <span class="keywordflow">return</span> _oList.size();
<a name="l01464"></a>01464     }
<a name="l01465"></a>01465     
<a name="l01469"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#c49f9eff2ae38470827eedc5b90f1eb1">01469</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">Iterator</a>* iterator()
<a name="l01470"></a>01470         throw()
<a name="l01471"></a>01471     {
<a name="l01472"></a>01472         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">Iterator</a>(_oList.iterator()) );
<a name="l01473"></a>01473     }
<a name="l01474"></a>01474 
<a name="l01478"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#831da934eb42ae3a53bdf543b3c3e267">01478</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">ConstIterator</a>* constIterator() const
<a name="l01479"></a>01479         throw()
<a name="l01480"></a>01480     {
<a name="l01481"></a>01481         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">ConstIterator</a>(_oList.constIterator()) );
<a name="l01482"></a>01482     }
<a name="l01483"></a>01483 
<a name="l01493"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#928b0aabda2151d8e3cfb51c38c3a3c9">01493</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">Iterator</a>* iterator( <span class="keyword">const</span> T&amp; rT )
<a name="l01494"></a>01494         <span class="keywordflow">throw</span>()
<a name="l01495"></a>01495     {
<a name="l01496"></a>01496         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_iterator.html">Iterator</a>(_oList.iterator(rT)) );
<a name="l01497"></a>01497     }
<a name="l01498"></a>01498 
<a name="l01509"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#9b0bf9a41c90c7918ce7d326b2319e49">01509</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">ConstIterator</a>* constIterator( <span class="keyword">const</span> T&amp; rT ) <span class="keyword">const</span>
<a name="l01510"></a>01510         <span class="keywordflow">throw</span>()
<a name="l01511"></a>01511     {
<a name="l01512"></a>01512         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list_1_1_const_iterator.html">ConstIterator</a>(_oList.constIterator(rT)) );
<a name="l01513"></a>01513     }
<a name="l01514"></a>01514 
<a name="l01522"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#7427425cdc2a8f4d0a07fce75df75344">01522</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> exists( <span class="keyword">const</span> T&amp; rT ) <span class="keyword">const</span>
<a name="l01523"></a>01523         <span class="keywordflow">throw</span>()
<a name="l01524"></a>01524     {    
<a name="l01525"></a>01525         <span class="keywordflow">return</span> (_oList.find(rT) != NULL);
<a name="l01526"></a>01526     }
<a name="l01527"></a>01527 
<a name="l01535"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#dfe3ee6b31472a0f860bd04ce6c1c9e2">01535</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> erase( <span class="keyword">const</span> T&amp; rT )
<a name="l01536"></a>01536         <span class="keywordflow">throw</span>()
<a name="l01537"></a>01537     {
<a name="l01538"></a>01538         <span class="keywordflow">return</span> _oList.erase( rT );
<a name="l01539"></a>01539     }
<a name="l01540"></a>01540  
<a name="l01551"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html#e39dcc199c213d3f78736eebac4a1b64">01551</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> insert( <span class="keyword">const</span> T&amp; rT, <span class="keywordtype">bool</span> bReplace = <span class="keyword">true</span> )
<a name="l01552"></a>01552         throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l01553"></a>01553     {
<a name="l01554"></a>01554         <span class="keywordflow">return</span> _oList.insert( rT, rT, bReplace );
<a name="l01555"></a>01555     }
<a name="l01556"></a>01556 
<a name="l01557"></a>01557 <span class="keyword">private</span>:
<a name="l01558"></a>01558 
<a name="l01559"></a>01559     DWFSkipList&lt;T, T&gt;   _oList;
<a name="l01560"></a>01560 
<a name="l01561"></a>01561 <span class="keyword">private</span>:
<a name="l01562"></a>01562 
<a name="l01563"></a>01563     <span class="comment">//</span>
<a name="l01564"></a>01564     <span class="comment">// Not Implemented</span>
<a name="l01565"></a>01565     <span class="comment">//</span>
<a name="l01566"></a>01566     <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">DWFSortedList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">DWFSortedList</a>&amp; );
<a name="l01567"></a>01567     <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">DWFSortedList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_sorted_list.html">DWFSortedList</a>&amp; );
<a name="l01568"></a>01568 };
<a name="l01569"></a>01569 
<a name="l01573"></a>01573 
<a name="l01574"></a>01574 
<a name="l01590"></a>01590 <span class="keyword">template</span>&lt; <span class="keyword">class</span> T, <span class="keyword">class</span> H = tDWFFNV1A32HashKernel&lt;const <span class="keywordtype">char</span>&gt; &gt;
<a name="l01591"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">01591</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">DWFCharKeyHashList</a>    : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01592"></a>01592 {
<a name="l01593"></a>01593 
<a name="l01594"></a>01594 <span class="keyword">private</span>:
<a name="l01595"></a>01595 
<a name="l01596"></a>01596     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">DWFSkipList&lt;uint32_t, T&gt;::Iterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>;
<a name="l01597"></a>01597     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">DWFSkipList&lt;uint32_t, T&gt;::ConstIterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>;
<a name="l01598"></a>01598 
<a name="l01599"></a>01599 <span class="keyword">public</span>:
<a name="l01600"></a>01600 
<a name="l01606"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">01606</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">Iterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01607"></a>01607                    , <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_iterator.html">DWFIterator</a>&lt;T&gt;
<a name="l01608"></a>01608     {
<a name="l01609"></a>01609         
<a name="l01610"></a>01610     <span class="keyword">public</span>:
<a name="l01611"></a>01611 
<a name="l01618"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html#e791d89b43c1562c2d5fb793d242eed8">01618</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">Iterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>* pIterator )
<a name="l01619"></a>01619             <span class="keywordflow">throw</span>()
<a name="l01620"></a>01620             : _pIterator( pIterator )
<a name="l01621"></a>01621         {;}
<a name="l01622"></a>01622 
<a name="l01628"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html#4fb2e1af8c4f5a1d4e783b4bd6b9e0bb">01628</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">Iterator</a>()
<a name="l01629"></a>01629             throw()
<a name="l01630"></a>01630         {
<a name="l01631"></a>01631             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pIterator );
<a name="l01632"></a>01632         }
<a name="l01633"></a>01633 
<a name="l01634"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html#15e877c7c2b34db941e7672437bbe2e5">01634</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l01635"></a>01635             throw()
<a name="l01636"></a>01636         {
<a name="l01637"></a>01637             _pIterator-&gt;reset();
<a name="l01638"></a>01638         }
<a name="l01639"></a>01639 
<a name="l01640"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html#dac7c210467ca8936aedcaafffb21dee">01640</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid()
<a name="l01641"></a>01641             throw()
<a name="l01642"></a>01642         {
<a name="l01643"></a>01643             <span class="keywordflow">return</span> _pIterator-&gt;valid();
<a name="l01644"></a>01644         }
<a name="l01645"></a>01645 
<a name="l01646"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html#664f8784e379383402f73aeb98bca97f">01646</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l01647"></a>01647             throw()
<a name="l01648"></a>01648         {
<a name="l01649"></a>01649             <span class="keywordflow">return</span> _pIterator-&gt;next();
<a name="l01650"></a>01650         }
<a name="l01651"></a>01651             
<a name="l01652"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html#712109514c51d8578a1a5952b71603f1">01652</a>         <span class="keyword">virtual</span> T&amp; get()
<a name="l01653"></a>01653             throw()
<a name="l01654"></a>01654         {
<a name="l01655"></a>01655             <span class="keywordflow">return</span> _pIterator-&gt;value();
<a name="l01656"></a>01656         }
<a name="l01657"></a>01657 
<a name="l01658"></a>01658     <span class="keyword">private</span>:
<a name="l01659"></a>01659 
<a name="l01660"></a>01660         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>* _pIterator;
<a name="l01661"></a>01661     };    
<a name="l01662"></a>01662 
<a name="l01668"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">01668</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01669"></a>01669                         , <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_const_iterator.html">DWFConstIterator</a>&lt;T&gt;
<a name="l01670"></a>01670     {
<a name="l01671"></a>01671         
<a name="l01672"></a>01672     <span class="keyword">public</span>:
<a name="l01673"></a>01673 
<a name="l01680"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html#2c494a582befd14d43bf8828370cde6c">01680</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>* pConstIterator )
<a name="l01681"></a>01681             <span class="keywordflow">throw</span>()
<a name="l01682"></a>01682             : _pConstIterator( pConstIterator )
<a name="l01683"></a>01683         {;}
<a name="l01684"></a>01684 
<a name="l01690"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html#fb951e92eac2e1d1d5e1d2faec62bccb">01690</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>()
<a name="l01691"></a>01691             throw()
<a name="l01692"></a>01692         {
<a name="l01693"></a>01693             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pConstIterator );
<a name="l01694"></a>01694         }
<a name="l01695"></a>01695 
<a name="l01696"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html#15e877c7c2b34db941e7672437bbe2e5">01696</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l01697"></a>01697             throw()
<a name="l01698"></a>01698         {
<a name="l01699"></a>01699             _pConstIterator-&gt;reset();
<a name="l01700"></a>01700         }
<a name="l01701"></a>01701 
<a name="l01702"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html#cfa93fbcb5eee79e48b3ee26576c69d3">01702</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid() const
<a name="l01703"></a>01703             throw()
<a name="l01704"></a>01704         {
<a name="l01705"></a>01705             <span class="keywordflow">return</span> _pConstIterator-&gt;valid();
<a name="l01706"></a>01706         }
<a name="l01707"></a>01707 
<a name="l01708"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html#664f8784e379383402f73aeb98bca97f">01708</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l01709"></a>01709             throw()
<a name="l01710"></a>01710         {
<a name="l01711"></a>01711             <span class="keywordflow">return</span> _pConstIterator-&gt;next();
<a name="l01712"></a>01712         }
<a name="l01713"></a>01713             
<a name="l01714"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html#99d9f62c661abdd8db0f4279a7c05d72">01714</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> T&amp; get() const
<a name="l01715"></a>01715             throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l01716"></a>01716         {
<a name="l01717"></a>01717             <span class="keywordflow">return</span> _pConstIterator-&gt;value();
<a name="l01718"></a>01718         }
<a name="l01719"></a>01719 
<a name="l01720"></a>01720     <span class="keyword">private</span>:
<a name="l01721"></a>01721 
<a name="l01722"></a>01722         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>* _pConstIterator;
<a name="l01723"></a>01723     };    
<a name="l01724"></a>01724 
<a name="l01725"></a>01725 <span class="keyword">public</span>:
<a name="l01726"></a>01726 
<a name="l01732"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#84ea787e0dd2761780790e2c977a7e17">01732</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">DWFCharKeyHashList</a>()
<a name="l01733"></a>01733         throw()
<a name="l01734"></a>01734         : _tHash()
<a name="l01735"></a>01735     {;}
<a name="l01736"></a>01736 
<a name="l01742"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#babcfb1fbd44235a14108bc018a27fe7">01742</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">DWFCharKeyHashList</a>()
<a name="l01743"></a>01743         throw()
<a name="l01744"></a>01744     {;}
<a name="l01745"></a>01745 
<a name="l01749"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#3616b8000a015689fed4b46c19c06ea2">01749</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear()
<a name="l01750"></a>01750         throw()
<a name="l01751"></a>01751     {
<a name="l01752"></a>01752         <span class="comment">//</span>
<a name="l01753"></a>01753         <span class="comment">// clear base</span>
<a name="l01754"></a>01754         <span class="comment">//</span>
<a name="l01755"></a>01755         _oList.clear();
<a name="l01756"></a>01756     }
<a name="l01757"></a>01757 
<a name="l01761"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#5a9421972c178b3c37b99f953470c6f6">01761</a>     <span class="keyword">virtual</span> size_t size() const
<a name="l01762"></a>01762         throw()
<a name="l01763"></a>01763     {
<a name="l01764"></a>01764         <span class="keywordflow">return</span> _oList.size();
<a name="l01765"></a>01765     }
<a name="l01766"></a>01766 
<a name="l01770"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#c49f9eff2ae38470827eedc5b90f1eb1">01770</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">Iterator</a>* iterator()
<a name="l01771"></a>01771         throw()
<a name="l01772"></a>01772     {
<a name="l01773"></a>01773         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">Iterator</a>(_oList.iterator()) );
<a name="l01774"></a>01774     }
<a name="l01775"></a>01775 
<a name="l01779"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#831da934eb42ae3a53bdf543b3c3e267">01779</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>* constIterator() const
<a name="l01780"></a>01780         throw()
<a name="l01781"></a>01781     {
<a name="l01782"></a>01782         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>(_oList.constIterator()) );
<a name="l01783"></a>01783     }
<a name="l01784"></a>01784 
<a name="l01788"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#464feb2f3ad1eb6fdc03a6dd6775c67c">01788</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">Iterator</a>* iterator( <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; rKey )
<a name="l01789"></a>01789         <span class="keywordflow">throw</span>()
<a name="l01790"></a>01790     {
<a name="l01791"></a>01791         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_iterator.html">Iterator</a>(_oList.iterator(_tHash(rKey))) );
<a name="l01792"></a>01792     }
<a name="l01793"></a>01793 
<a name="l01797"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#7f91e24de984cf0a3996ea5a34fce088">01797</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>* constIterator( <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; rKey ) <span class="keyword">const</span>
<a name="l01798"></a>01798         <span class="keywordflow">throw</span>()
<a name="l01799"></a>01799     {
<a name="l01800"></a>01800         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>(_oList.constIterator(_tHash(rKey))) );
<a name="l01801"></a>01801     }
<a name="l01802"></a>01802 
<a name="l01806"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#2ca4fc09c16587f5d53eda97debcf4fd">01806</a>     <span class="keyword">virtual</span> T* find( <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; rKey ) <span class="keyword">const</span>
<a name="l01807"></a>01807         <span class="keywordflow">throw</span>()
<a name="l01808"></a>01808     {
<a name="l01809"></a>01809         <span class="keywordflow">return</span> _oList.find( _tHash(rKey) );
<a name="l01810"></a>01810     }
<a name="l01811"></a>01811 
<a name="l01815"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#c92043676dd65642b2f0a91cc18e592e">01815</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> erase( <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; rKey )
<a name="l01816"></a>01816         <span class="keywordflow">throw</span>()
<a name="l01817"></a>01817     {
<a name="l01818"></a>01818         <span class="keywordflow">return</span> _oList.erase( _tHash(rKey) );
<a name="l01819"></a>01819     }
<a name="l01820"></a>01820 
<a name="l01824"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html#74cfb6a31b5b6ad76cfdbbf1af483533">01824</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> insert( <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; rKey, <span class="keyword">const</span> T&amp; rValue, <span class="keywordtype">bool</span> bReplace = <span class="keyword">true</span> )
<a name="l01825"></a>01825         throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l01826"></a>01826     {
<a name="l01827"></a>01827         <span class="keywordflow">return</span> _oList.insert( _tHash(rKey), rValue, bReplace );
<a name="l01828"></a>01828     }
<a name="l01829"></a>01829 
<a name="l01830"></a>01830 <span class="keyword">private</span>:
<a name="l01831"></a>01831 
<a name="l01832"></a>01832     H                        _tHash;
<a name="l01833"></a>01833     DWFSkipList&lt;uint32_t, T&gt; _oList;
<a name="l01834"></a>01834 
<a name="l01835"></a>01835 <span class="keyword">private</span>:
<a name="l01836"></a>01836 
<a name="l01837"></a>01837     <span class="comment">//</span>
<a name="l01838"></a>01838     <span class="comment">// Not Implemented</span>
<a name="l01839"></a>01839     <span class="comment">//</span>
<a name="l01840"></a>01840     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">DWFCharKeyHashList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">DWFCharKeyHashList</a>&amp; );
<a name="l01841"></a>01841     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">DWFCharKeyHashList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_hash_list.html">DWFCharKeyHashList</a>&amp; );
<a name="l01842"></a>01842 };
<a name="l01843"></a>01843 
<a name="l01847"></a>01847 
<a name="l01863"></a>01863 <span class="keyword">template</span>&lt; <span class="keyword">class</span> T, <span class="keyword">class</span> H = tDWFFNV1A32HashKernel&lt;const <span class="keywordtype">wchar_t</span>&gt; &gt;
<a name="l01864"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">01864</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">DWFWCharKeyHashList</a>   : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01865"></a>01865 {
<a name="l01866"></a>01866 
<a name="l01867"></a>01867 <span class="keyword">private</span>:
<a name="l01868"></a>01868 
<a name="l01869"></a>01869     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">DWFSkipList&lt;uint32_t, T&gt;::Iterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>;
<a name="l01870"></a>01870     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">DWFSkipList&lt;uint32_t, T&gt;::ConstIterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>;
<a name="l01871"></a>01871 
<a name="l01872"></a>01872 <span class="keyword">public</span>:
<a name="l01873"></a>01873 
<a name="l01879"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">01879</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">Iterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01880"></a>01880                    , <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_iterator.html">DWFIterator</a>&lt;T&gt;
<a name="l01881"></a>01881     {
<a name="l01882"></a>01882         
<a name="l01883"></a>01883     <span class="keyword">public</span>:
<a name="l01884"></a>01884 
<a name="l01891"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html#e791d89b43c1562c2d5fb793d242eed8">01891</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">Iterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>* pIterator )
<a name="l01892"></a>01892             <span class="keywordflow">throw</span>()
<a name="l01893"></a>01893             : _pIterator( pIterator )
<a name="l01894"></a>01894         {;}
<a name="l01895"></a>01895 
<a name="l01901"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html#4fb2e1af8c4f5a1d4e783b4bd6b9e0bb">01901</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">Iterator</a>()
<a name="l01902"></a>01902             throw()
<a name="l01903"></a>01903         {
<a name="l01904"></a>01904             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pIterator );
<a name="l01905"></a>01905         }
<a name="l01906"></a>01906 
<a name="l01907"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html#15e877c7c2b34db941e7672437bbe2e5">01907</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l01908"></a>01908             throw()
<a name="l01909"></a>01909         {
<a name="l01910"></a>01910             _pIterator-&gt;reset();
<a name="l01911"></a>01911         }
<a name="l01912"></a>01912 
<a name="l01913"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html#dac7c210467ca8936aedcaafffb21dee">01913</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid()
<a name="l01914"></a>01914             throw()
<a name="l01915"></a>01915         {
<a name="l01916"></a>01916             <span class="keywordflow">return</span> _pIterator-&gt;valid();
<a name="l01917"></a>01917         }
<a name="l01918"></a>01918 
<a name="l01919"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html#664f8784e379383402f73aeb98bca97f">01919</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l01920"></a>01920             throw()
<a name="l01921"></a>01921         {
<a name="l01922"></a>01922             <span class="keywordflow">return</span> _pIterator-&gt;next();
<a name="l01923"></a>01923         }
<a name="l01924"></a>01924             
<a name="l01925"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html#712109514c51d8578a1a5952b71603f1">01925</a>         <span class="keyword">virtual</span> T&amp; get()
<a name="l01926"></a>01926             throw()
<a name="l01927"></a>01927         {
<a name="l01928"></a>01928             <span class="keywordflow">return</span> _pIterator-&gt;value();
<a name="l01929"></a>01929         }
<a name="l01930"></a>01930 
<a name="l01931"></a>01931     <span class="keyword">private</span>:
<a name="l01932"></a>01932 
<a name="l01933"></a>01933         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">tListIterator</a>* _pIterator;
<a name="l01934"></a>01934     };    
<a name="l01935"></a>01935 
<a name="l01941"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">01941</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a> : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l01942"></a>01942                         , <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_const_iterator.html">DWFConstIterator</a>&lt;T&gt;
<a name="l01943"></a>01943     {
<a name="l01944"></a>01944         
<a name="l01945"></a>01945     <span class="keyword">public</span>:
<a name="l01946"></a>01946 
<a name="l01953"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html#2c494a582befd14d43bf8828370cde6c">01953</a>         <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>* pConstIterator )
<a name="l01954"></a>01954             <span class="keywordflow">throw</span>()
<a name="l01955"></a>01955             : _pConstIterator( pConstIterator )
<a name="l01956"></a>01956         {;}
<a name="l01957"></a>01957 
<a name="l01963"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html#fb951e92eac2e1d1d5e1d2faec62bccb">01963</a>         <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>()
<a name="l01964"></a>01964             throw()
<a name="l01965"></a>01965         {
<a name="l01966"></a>01966             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _pConstIterator );
<a name="l01967"></a>01967         }
<a name="l01968"></a>01968 
<a name="l01969"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html#15e877c7c2b34db941e7672437bbe2e5">01969</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset()
<a name="l01970"></a>01970             throw()
<a name="l01971"></a>01971         {
<a name="l01972"></a>01972             _pConstIterator-&gt;reset();
<a name="l01973"></a>01973         }
<a name="l01974"></a>01974 
<a name="l01975"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html#cfa93fbcb5eee79e48b3ee26576c69d3">01975</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid() const
<a name="l01976"></a>01976             throw()
<a name="l01977"></a>01977         {
<a name="l01978"></a>01978             <span class="keywordflow">return</span> _pConstIterator-&gt;valid();
<a name="l01979"></a>01979         }
<a name="l01980"></a>01980 
<a name="l01981"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html#664f8784e379383402f73aeb98bca97f">01981</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> next()
<a name="l01982"></a>01982             throw()
<a name="l01983"></a>01983         {
<a name="l01984"></a>01984             <span class="keywordflow">return</span> _pConstIterator-&gt;next();
<a name="l01985"></a>01985         }
<a name="l01986"></a>01986             
<a name="l01987"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html#99d9f62c661abdd8db0f4279a7c05d72">01987</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> T&amp; get() const
<a name="l01988"></a>01988             throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l01989"></a>01989         {
<a name="l01990"></a>01990             <span class="keywordflow">return</span> _pConstIterator-&gt;value();
<a name="l01991"></a>01991         }
<a name="l01992"></a>01992 
<a name="l01993"></a>01993     <span class="keyword">private</span>:
<a name="l01994"></a>01994 
<a name="l01995"></a>01995         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">tListConstIterator</a>* _pConstIterator;
<a name="l01996"></a>01996     };    
<a name="l01997"></a>01997 
<a name="l01998"></a>01998 <span class="keyword">public</span>:
<a name="l01999"></a>01999 
<a name="l02005"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#2c08d03ff4f6e6af2724db4055f81247">02005</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">DWFWCharKeyHashList</a>()
<a name="l02006"></a>02006         throw()
<a name="l02007"></a>02007     {;}
<a name="l02008"></a>02008 
<a name="l02014"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#ae329b0256b7cd4386a1760779a5c419">02014</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">DWFWCharKeyHashList</a>()
<a name="l02015"></a>02015         throw()
<a name="l02016"></a>02016     {;}
<a name="l02017"></a>02017 
<a name="l02021"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#3616b8000a015689fed4b46c19c06ea2">02021</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear()
<a name="l02022"></a>02022         throw()
<a name="l02023"></a>02023     {
<a name="l02024"></a>02024         <span class="comment">//</span>
<a name="l02025"></a>02025         <span class="comment">// clear base</span>
<a name="l02026"></a>02026         <span class="comment">//</span>
<a name="l02027"></a>02027         _oList.clear();
<a name="l02028"></a>02028     }
<a name="l02029"></a>02029 
<a name="l02033"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#5a9421972c178b3c37b99f953470c6f6">02033</a>     <span class="keyword">virtual</span> size_t size() const
<a name="l02034"></a>02034         throw()
<a name="l02035"></a>02035     {
<a name="l02036"></a>02036         <span class="keywordflow">return</span> _oList.size();
<a name="l02037"></a>02037     }
<a name="l02038"></a>02038 
<a name="l02042"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#c49f9eff2ae38470827eedc5b90f1eb1">02042</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">Iterator</a>* iterator()
<a name="l02043"></a>02043         throw()
<a name="l02044"></a>02044     {
<a name="l02045"></a>02045         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">Iterator</a>(_oList.iterator()) );
<a name="l02046"></a>02046     }
<a name="l02047"></a>02047 
<a name="l02051"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#831da934eb42ae3a53bdf543b3c3e267">02051</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>* constIterator() const
<a name="l02052"></a>02052         throw()
<a name="l02053"></a>02053     {
<a name="l02054"></a>02054         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>(_oList.constIterator()) );
<a name="l02055"></a>02055     }
<a name="l02056"></a>02056 
<a name="l02060"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#bdb10dcc7cefcf443652fee63ba24276">02060</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">Iterator</a>* iterator( <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>*&amp; rKey )
<a name="l02061"></a>02061         <span class="keywordflow">throw</span>()
<a name="l02062"></a>02062     {
<a name="l02063"></a>02063         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_iterator.html">Iterator</a>(_oList.iterator(_tHash(rKey))) );
<a name="l02064"></a>02064     }
<a name="l02065"></a>02065 
<a name="l02069"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#f21e590e2d4e6ea99143336127d24c78">02069</a>     <span class="keyword">virtual</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>* constIterator( <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>*&amp; rKey ) <span class="keyword">const</span>
<a name="l02070"></a>02070         <span class="keywordflow">throw</span>()
<a name="l02071"></a>02071     {
<a name="l02072"></a>02072         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list_1_1_const_iterator.html">ConstIterator</a>(_oList.constIterator(_tHash(rKey))) );
<a name="l02073"></a>02073     }
<a name="l02074"></a>02074 
<a name="l02078"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#48f98da8cdc8ca12e2ba13bd622f8066">02078</a>     <span class="keyword">virtual</span> T* find( <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>*&amp; rKey ) <span class="keyword">const</span>
<a name="l02079"></a>02079         <span class="keywordflow">throw</span>()
<a name="l02080"></a>02080     {
<a name="l02081"></a>02081         <span class="keywordflow">return</span> _oList.find( _tHash(rKey) );
<a name="l02082"></a>02082     }
<a name="l02083"></a>02083 
<a name="l02087"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#7c7a657a3043868cb87cac5fb1305de0">02087</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> erase( <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>*&amp; rKey )
<a name="l02088"></a>02088         <span class="keywordflow">throw</span>()
<a name="l02089"></a>02089     {
<a name="l02090"></a>02090         <span class="keywordflow">return</span> _oList.erase( _tHash(rKey) );
<a name="l02091"></a>02091     }
<a name="l02092"></a>02092 
<a name="l02096"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html#c6d11caca857edc7d44ae43eaec9974e">02096</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> insert( <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>*&amp; rKey, <span class="keyword">const</span> T&amp; rValue, <span class="keywordtype">bool</span> bReplace = <span class="keyword">true</span> )
<a name="l02097"></a>02097         throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l02098"></a>02098     {
<a name="l02099"></a>02099         <span class="keywordflow">return</span> _oList.insert( _tHash(rKey), rValue, bReplace );
<a name="l02100"></a>02100     }
<a name="l02101"></a>02101 
<a name="l02102"></a>02102 <span class="keyword">private</span>:
<a name="l02103"></a>02103 
<a name="l02104"></a>02104     H                        _tHash;
<a name="l02105"></a>02105     DWFSkipList&lt;uint32_t, T&gt; _oList;
<a name="l02106"></a>02106 
<a name="l02107"></a>02107 <span class="keyword">private</span>:
<a name="l02108"></a>02108 
<a name="l02109"></a>02109     <span class="comment">//</span>
<a name="l02110"></a>02110     <span class="comment">// Not Implemented</span>
<a name="l02111"></a>02111     <span class="comment">//</span>
<a name="l02112"></a>02112     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">DWFWCharKeyHashList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">DWFWCharKeyHashList</a>&amp; );
<a name="l02113"></a>02113     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">DWFWCharKeyHashList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_hash_list.html">DWFWCharKeyHashList</a>&amp; );
<a name="l02114"></a>02114 };
<a name="l02115"></a>02115 
<a name="l02116"></a>02116 
<a name="l02133"></a>02133 <span class="keyword">template</span>&lt;<span class="keyword">class </span>PK, <span class="keyword">class </span>SK, <span class="keyword">class </span>V, 
<a name="l02134"></a>02134          <span class="keyword">class </span>PE = tDWFCompareEqual&lt;PK&gt;, <span class="keyword">class </span>SE = tDWFCompareEqual&lt;SK&gt;, 
<a name="l02135"></a>02135          <span class="keyword">class </span>PL = tDWFCompareLess&lt;PK&gt;, <span class="keyword">class </span>SL = tDWFCompareLess&lt;SK&gt;, 
<a name="l02136"></a>02136          <span class="keyword">class </span>PZ = tDWFDefinedEmpty&lt;PK&gt;, <span class="keyword">class </span>SZ = tDWFDefinedEmpty&lt;SK&gt; &gt;
<a name="l02137"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html">02137</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html">DWFChainedSkipList</a>    : <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l02138"></a>02138 {
<a name="l02139"></a>02139 
<a name="l02140"></a>02140     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">DWFSkipList&lt;SK, V, SE, SL, SZ&gt;::Iterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tChainIterator</a>;
<a name="l02141"></a>02141     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">DWFSkipList&lt;SK, V, SE, SL, SZ&gt;::ConstIterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tChainConstIterator</a>;
<a name="l02142"></a>02142     <span class="keyword">typedef</span> <span class="keyword">typename</span> DWFSkipList&lt;PK, DWFSkipList&lt;SK, V, SE, SL, SZ&gt;*, PE, PL, PZ&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">::Iterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tListIterator</a>;
<a name="l02143"></a>02143     <span class="keyword">typedef</span> <span class="keyword">typename</span> DWFSkipList&lt;PK, DWFSkipList&lt;SK, V, SE, SL, SZ&gt;*, PE, PL, PZ&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">::ConstIterator</a> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tListConstIterator</a>;
<a name="l02144"></a>02144 
<a name="l02145"></a>02145 <span class="keyword">public</span>:
<a name="l02146"></a>02146 
<a name="l02152"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">02152</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">Iterator</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html">DWFSkipList</a>&lt;SK, V, SE, SL, SZ&gt;::<a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">Iterator</a>
<a name="l02153"></a>02153                    , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l02154"></a>02154     {
<a name="l02155"></a>02155         <span class="keyword">public</span>:
<a name="l02156"></a>02156 
<a name="l02157"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#f719cefc5dc980916949215f06021edb">02157</a>             <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">Iterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tChainIterator</a>* piChain )
<a name="l02158"></a>02158                 <span class="keywordflow">throw</span>()
<a name="l02159"></a>02159                 : _piList( NULL )
<a name="l02160"></a>02160                 , _piChain( piChain )
<a name="l02161"></a>02161             {;}
<a name="l02162"></a>02162 
<a name="l02163"></a>02163     <span class="comment">//</span>
<a name="l02164"></a>02164     <span class="comment">// The MSVC 7.0 pre-processor cannot resolve the difference</span>
<a name="l02165"></a>02165     <span class="comment">// between  typedef typename _tChainIterator </span>
<a name="l02166"></a>02166     <span class="comment">// and      typedef typename _tListIterator</span>
<a name="l02167"></a>02167     <span class="comment">// so this hack becomes necessary to prevent the constructor</span>
<a name="l02168"></a>02168     <span class="comment">// appearing to be declared twice.</span>
<a name="l02169"></a>02169     <span class="comment">//</span>
<a name="l02170"></a>02170 <span class="preprocessor">#if defined( _DWFCORE_WIN32_SYSTEM ) &amp;&amp; ( _MSC_VER &lt;= 1300 )</span>
<a name="l02171"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#ba19bf3d3f7511ab9169d97e5240cd55">02171</a> <span class="preprocessor"></span>            <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">Iterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tListIterator</a>* piList, <span class="keywordtype">int</span> )
<a name="l02172"></a>02172 #<span class="keywordflow">else</span>
<a name="l02179"></a>02179             <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">Iterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tListIterator</a>* piList )
<a name="l02180"></a>02180 #endif
<a name="l02181"></a>02181                 <span class="keywordflow">throw</span>()
<a name="l02182"></a>02182                 : _piList( piList )
<a name="l02183"></a>02183                 , _piChain( NULL )
<a name="l02184"></a>02184             {
<a name="l02185"></a>02185                 <span class="keywordflow">if</span> (piList &amp;&amp; (piList-&gt;valid()))
<a name="l02186"></a>02186                 {
<a name="l02187"></a>02187                     _piChain = piList-&gt;value()-&gt;iterator();
<a name="l02188"></a>02188                 }
<a name="l02189"></a>02189             }
<a name="l02190"></a>02190 
<a name="l02196"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#4fb2e1af8c4f5a1d4e783b4bd6b9e0bb">02196</a>             <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html">Iterator</a>()
<a name="l02197"></a>02197                 throw()
<a name="l02198"></a>02198             {
<a name="l02199"></a>02199                 <span class="keywordflow">if</span> (_piChain)
<a name="l02200"></a>02200                 {
<a name="l02201"></a>02201                     <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02202"></a>02202                 }
<a name="l02203"></a>02203                 <span class="keywordflow">if</span> (_piList)
<a name="l02204"></a>02204                 {
<a name="l02205"></a>02205                     <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piList );
<a name="l02206"></a>02206                 }
<a name="l02207"></a>02207             }
<a name="l02208"></a>02208 
<a name="l02209"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#15e877c7c2b34db941e7672437bbe2e5">02209</a>             <span class="keywordtype">void</span> reset()
<a name="l02210"></a>02210                 throw()
<a name="l02211"></a>02211             {
<a name="l02212"></a>02212                     <span class="comment">//</span>
<a name="l02213"></a>02213                     <span class="comment">// always work on composite iterator first</span>
<a name="l02214"></a>02214                     <span class="comment">//</span>
<a name="l02215"></a>02215                 <span class="keywordflow">if</span> (_piList)
<a name="l02216"></a>02216                 {
<a name="l02217"></a>02217                     <span class="comment">//</span>
<a name="l02218"></a>02218                     <span class="comment">// reset</span>
<a name="l02219"></a>02219                     <span class="comment">//</span>
<a name="l02220"></a>02220                     _piList-&gt;reset();
<a name="l02221"></a>02221 
<a name="l02222"></a>02222                         <span class="comment">//</span>
<a name="l02223"></a>02223                         <span class="comment">// free any intermediate chain iterator</span>
<a name="l02224"></a>02224                         <span class="comment">//</span>
<a name="l02225"></a>02225                     <span class="keywordflow">if</span> (_piChain)
<a name="l02226"></a>02226                     {
<a name="l02227"></a>02227                         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02228"></a>02228                         _piChain = NULL;
<a name="l02229"></a>02229                     }
<a name="l02230"></a>02230                 }
<a name="l02231"></a>02231                     <span class="comment">//</span>
<a name="l02232"></a>02232                     <span class="comment">// we are only a chain iterator</span>
<a name="l02233"></a>02233                     <span class="comment">//</span>
<a name="l02234"></a>02234                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_piChain)
<a name="l02235"></a>02235                 {
<a name="l02236"></a>02236                     _piChain-&gt;reset();
<a name="l02237"></a>02237                 }
<a name="l02238"></a>02238             }
<a name="l02239"></a>02239 
<a name="l02240"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#dac7c210467ca8936aedcaafffb21dee">02240</a>             <span class="keywordtype">bool</span> valid()
<a name="l02241"></a>02241                 throw()
<a name="l02242"></a>02242             {
<a name="l02243"></a>02243                     <span class="comment">//</span>
<a name="l02244"></a>02244                     <span class="comment">// always work on composite iterator first</span>
<a name="l02245"></a>02245                     <span class="comment">//</span>
<a name="l02246"></a>02246                 <span class="keywordflow">if</span> (_piList &amp;&amp; _piList-&gt;valid())
<a name="l02247"></a>02247                 {
<a name="l02248"></a>02248                         <span class="comment">//</span>
<a name="l02249"></a>02249                         <span class="comment">// the intermediate chain iterator is not valid</span>
<a name="l02250"></a>02250                         <span class="comment">// move on the the next one</span>
<a name="l02251"></a>02251                         <span class="comment">//</span>
<a name="l02252"></a>02252                     <span class="keywordflow">if</span> (_piChain &amp;&amp; (_piChain-&gt;valid() == <span class="keyword">false</span>))
<a name="l02253"></a>02253                     {
<a name="l02254"></a>02254                         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02255"></a>02255                         _piChain = NULL;
<a name="l02256"></a>02256 
<a name="l02257"></a>02257                             <span class="comment">//</span>
<a name="l02258"></a>02258                             <span class="comment">// get the next intermediate iterator</span>
<a name="l02259"></a>02259                             <span class="comment">//</span>
<a name="l02260"></a>02260                         <span class="keywordflow">if</span> (_piList-&gt;next())
<a name="l02261"></a>02261                         {
<a name="l02262"></a>02262                             _piChain = _piList-&gt;value()-&gt;iterator();
<a name="l02263"></a>02263                         }
<a name="l02264"></a>02264                     }
<a name="l02265"></a>02265 
<a name="l02266"></a>02266                     <span class="comment">//</span>
<a name="l02267"></a>02267                     <span class="comment">// if _piChain is NULL at this point, </span>
<a name="l02268"></a>02268                     <span class="comment">// there are no more chained iterators</span>
<a name="l02269"></a>02269                     <span class="comment">//</span>
<a name="l02270"></a>02270                 }
<a name="l02271"></a>02271 
<a name="l02272"></a>02272                 <span class="keywordflow">return</span> (_piChain ? _piChain-&gt;valid() : <span class="keyword">false</span>);
<a name="l02273"></a>02273             }
<a name="l02274"></a>02274 
<a name="l02275"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#664f8784e379383402f73aeb98bca97f">02275</a>             <span class="keywordtype">bool</span> next()
<a name="l02276"></a>02276                 <span class="keywordflow">throw</span>()
<a name="l02277"></a>02277             {
<a name="l02278"></a>02278                     <span class="comment">//</span>
<a name="l02279"></a>02279                     <span class="comment">// this pointer should always be accurate</span>
<a name="l02280"></a>02280                     <span class="comment">//</span>
<a name="l02281"></a>02281                 <span class="keywordflow">if</span> (_piChain)
<a name="l02282"></a>02282                 {
<a name="l02283"></a>02283                         <span class="comment">//</span>
<a name="l02284"></a>02284                         <span class="comment">// in this case, if next() is false,</span>
<a name="l02285"></a>02285                         <span class="comment">// we need to try and get the next intermediate iterator</span>
<a name="l02286"></a>02286                         <span class="comment">//</span>
<a name="l02287"></a>02287                     <span class="keywordflow">if</span> (_piList &amp;&amp; (_piChain-&gt;next() == <span class="keyword">false</span>))
<a name="l02288"></a>02288                     {
<a name="l02289"></a>02289                         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02290"></a>02290                         _piChain = NULL;
<a name="l02291"></a>02291 
<a name="l02292"></a>02292                             <span class="comment">//</span>
<a name="l02293"></a>02293                             <span class="comment">// get the next intermediate iterator</span>
<a name="l02294"></a>02294                             <span class="comment">//</span>
<a name="l02295"></a>02295                         <span class="keywordflow">if</span> (_piList-&gt;next())
<a name="l02296"></a>02296                         {
<a name="l02297"></a>02297                             _piChain = _piList-&gt;value()-&gt;iterator();
<a name="l02298"></a>02298                         }
<a name="l02299"></a>02299                     }
<a name="l02300"></a>02300 
<a name="l02301"></a>02301                     <span class="keywordflow">if</span> (_piChain)
<a name="l02302"></a>02302                     {
<a name="l02303"></a>02303                         <span class="keywordflow">return</span> _piChain-&gt;valid();
<a name="l02304"></a>02304                     }
<a name="l02305"></a>02305                 }
<a name="l02306"></a>02306 
<a name="l02307"></a>02307                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l02308"></a>02308             }
<a name="l02309"></a>02309             
<a name="l02310"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#87ef31d54f81072952c331d5c7339d8e">02310</a>             SK&amp; key()
<a name="l02311"></a>02311                 throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l02312"></a>02312             {
<a name="l02313"></a>02313                 <span class="keywordflow">if</span> (_piChain)
<a name="l02314"></a>02314                 {
<a name="l02315"></a>02315                     <span class="keywordflow">return</span> _piChain-&gt;key();
<a name="l02316"></a>02316                 }
<a name="l02317"></a>02317                 <span class="keywordflow">else</span>
<a name="l02318"></a>02318                 {
<a name="l02319"></a>02319                     <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_does_not_exist_exception.html">DWFDoesNotExistException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"No more elements"</span> );
<a name="l02320"></a>02320                 }
<a name="l02321"></a>02321             }
<a name="l02322"></a>02322 
<a name="l02323"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_iterator.html#a33d6f23213683fb11562ed71da60e15">02323</a>             V&amp; value()
<a name="l02324"></a>02324                 throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l02325"></a>02325             {
<a name="l02326"></a>02326                 <span class="keywordflow">if</span> (_piChain)
<a name="l02327"></a>02327                 {
<a name="l02328"></a>02328                     <span class="keywordflow">return</span> _piChain-&gt;value();
<a name="l02329"></a>02329                 }
<a name="l02330"></a>02330                 <span class="keywordflow">else</span>
<a name="l02331"></a>02331                 {
<a name="l02332"></a>02332                     <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_does_not_exist_exception.html">DWFDoesNotExistException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"No more elements"</span> );
<a name="l02333"></a>02333                 }
<a name="l02334"></a>02334             }
<a name="l02335"></a>02335 
<a name="l02336"></a>02336         <span class="keyword">private</span>:
<a name="l02337"></a>02337 
<a name="l02338"></a>02338             <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tListIterator</a>*     _piList;
<a name="l02339"></a>02339             <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tChainIterator</a>*    _piChain;
<a name="l02340"></a>02340         };
<a name="l02341"></a>02341 
<a name="l02347"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">02347</a>     <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">ConstIterator</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html">DWFSkipList</a>&lt;SK, V, SE, SL, SZ&gt;::<a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">ConstIterator</a>
<a name="l02348"></a>02348                         , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l02349"></a>02349     {
<a name="l02350"></a>02350         <span class="keyword">public</span>:
<a name="l02351"></a>02351 
<a name="l02352"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#941350bc2f05fb85389dba912a9c5a04">02352</a>             <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">ConstIterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tChainConstIterator</a>* piChain )
<a name="l02353"></a>02353                 <span class="keywordflow">throw</span>()
<a name="l02354"></a>02354                 : _piList( NULL )
<a name="l02355"></a>02355                 , _piChain( piChain )
<a name="l02356"></a>02356             {;}
<a name="l02357"></a>02357 
<a name="l02358"></a>02358     <span class="comment">//</span>
<a name="l02359"></a>02359     <span class="comment">// The MSVC 7.0 pre-processor cannot resolve the difference</span>
<a name="l02360"></a>02360     <span class="comment">// between  typedef typename _tChainConstIterator </span>
<a name="l02361"></a>02361     <span class="comment">// and      typedef typename _tListConstIterator</span>
<a name="l02362"></a>02362     <span class="comment">// so this hack becomes necessary to prevent the constructor</span>
<a name="l02363"></a>02363     <span class="comment">// appearing to be declared twice.</span>
<a name="l02364"></a>02364     <span class="comment">//</span>
<a name="l02365"></a>02365 <span class="preprocessor">#if defined( _DWFCORE_WIN32_SYSTEM ) &amp;&amp; ( _MSC_VER &lt;= 1300 )</span>
<a name="l02366"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#395f25e2ff2a861a43cf33e634a2b537">02366</a> <span class="preprocessor"></span>            <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">ConstIterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tListConstIterator</a>* piList, <span class="keywordtype">int</span> )
<a name="l02367"></a>02367 #<span class="keywordflow">else</span>
<a name="l02374"></a>02374             <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">ConstIterator</a>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tListConstIterator</a>* piList )
<a name="l02375"></a>02375 #endif
<a name="l02376"></a>02376                 <span class="keywordflow">throw</span>()
<a name="l02377"></a>02377                 : _piList( piList )
<a name="l02378"></a>02378                 , _piChain( NULL )
<a name="l02379"></a>02379             {
<a name="l02380"></a>02380                 <span class="keywordflow">if</span> (piList &amp;&amp; (piList-&gt;valid()))
<a name="l02381"></a>02381                 {
<a name="l02382"></a>02382                     _piChain = piList-&gt;value()-&gt;constIterator();
<a name="l02383"></a>02383                 }
<a name="l02384"></a>02384             }
<a name="l02385"></a>02385 
<a name="l02391"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#fb951e92eac2e1d1d5e1d2faec62bccb">02391</a>             <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html">ConstIterator</a>()
<a name="l02392"></a>02392                 throw()
<a name="l02393"></a>02393             {
<a name="l02394"></a>02394                 <span class="keywordflow">if</span> (_piChain)
<a name="l02395"></a>02395                 {
<a name="l02396"></a>02396                     <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02397"></a>02397                 }
<a name="l02398"></a>02398                 <span class="keywordflow">if</span> (_piList)
<a name="l02399"></a>02399                 {
<a name="l02400"></a>02400                     <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piList );
<a name="l02401"></a>02401                 }
<a name="l02402"></a>02402             }
<a name="l02403"></a>02403 
<a name="l02404"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#15e877c7c2b34db941e7672437bbe2e5">02404</a>             <span class="keywordtype">void</span> reset()
<a name="l02405"></a>02405                 throw()
<a name="l02406"></a>02406             {
<a name="l02407"></a>02407                     <span class="comment">//</span>
<a name="l02408"></a>02408                     <span class="comment">// always work on composite iterator first</span>
<a name="l02409"></a>02409                     <span class="comment">//</span>
<a name="l02410"></a>02410                 <span class="keywordflow">if</span> (_piList)
<a name="l02411"></a>02411                 {
<a name="l02412"></a>02412                     <span class="comment">//</span>
<a name="l02413"></a>02413                     <span class="comment">// reset</span>
<a name="l02414"></a>02414                     <span class="comment">//</span>
<a name="l02415"></a>02415                     _piList-&gt;reset();
<a name="l02416"></a>02416 
<a name="l02417"></a>02417                         <span class="comment">//</span>
<a name="l02418"></a>02418                         <span class="comment">// free any intermediate chain iterator</span>
<a name="l02419"></a>02419                         <span class="comment">//</span>
<a name="l02420"></a>02420                     <span class="keywordflow">if</span> (_piChain)
<a name="l02421"></a>02421                     {
<a name="l02422"></a>02422                         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02423"></a>02423                         _piChain = NULL;
<a name="l02424"></a>02424                     }
<a name="l02425"></a>02425                 }
<a name="l02426"></a>02426                     <span class="comment">//</span>
<a name="l02427"></a>02427                     <span class="comment">// we are only a chain iterator</span>
<a name="l02428"></a>02428                     <span class="comment">//</span>
<a name="l02429"></a>02429                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_piChain)
<a name="l02430"></a>02430                 {
<a name="l02431"></a>02431                     _piChain-&gt;reset();
<a name="l02432"></a>02432                 }
<a name="l02433"></a>02433             }
<a name="l02434"></a>02434 
<a name="l02435"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#cfa93fbcb5eee79e48b3ee26576c69d3">02435</a>             <span class="keywordtype">bool</span> valid() const
<a name="l02436"></a>02436                 throw()
<a name="l02437"></a>02437             {
<a name="l02438"></a>02438                     <span class="comment">//</span>
<a name="l02439"></a>02439                     <span class="comment">// always work on composite iterator first</span>
<a name="l02440"></a>02440                     <span class="comment">//</span>
<a name="l02441"></a>02441                 <span class="keywordflow">if</span> (_piList &amp;&amp; _piList-&gt;valid())
<a name="l02442"></a>02442                 {
<a name="l02443"></a>02443                         <span class="comment">//</span>
<a name="l02444"></a>02444                         <span class="comment">// the intermediate chain iterator is not valid</span>
<a name="l02445"></a>02445                         <span class="comment">// move on the the next one</span>
<a name="l02446"></a>02446                         <span class="comment">//</span>
<a name="l02447"></a>02447                     <span class="keywordflow">if</span> (_piChain &amp;&amp; (_piChain-&gt;valid() == <span class="keyword">false</span>))
<a name="l02448"></a>02448                     {
<a name="l02449"></a>02449                         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02450"></a>02450                         _piChain = NULL;
<a name="l02451"></a>02451 
<a name="l02452"></a>02452                             <span class="comment">//</span>
<a name="l02453"></a>02453                             <span class="comment">// get the next intermediate iterator</span>
<a name="l02454"></a>02454                             <span class="comment">//</span>
<a name="l02455"></a>02455                         <span class="keywordflow">if</span> (_piList-&gt;next())
<a name="l02456"></a>02456                         {
<a name="l02457"></a>02457                             _piChain = _piList-&gt;value()-&gt;constIterator();
<a name="l02458"></a>02458                         }
<a name="l02459"></a>02459                     }
<a name="l02460"></a>02460 
<a name="l02461"></a>02461                     <span class="comment">//</span>
<a name="l02462"></a>02462                     <span class="comment">// if _piChain is NULL at this point, </span>
<a name="l02463"></a>02463                     <span class="comment">// there are no more chained iterators</span>
<a name="l02464"></a>02464                     <span class="comment">//</span>
<a name="l02465"></a>02465                 }
<a name="l02466"></a>02466 
<a name="l02467"></a>02467                 <span class="keywordflow">return</span> (_piChain ? _piChain-&gt;valid() : <span class="keyword">false</span>);
<a name="l02468"></a>02468             }
<a name="l02469"></a>02469 
<a name="l02470"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#664f8784e379383402f73aeb98bca97f">02470</a>             <span class="keywordtype">bool</span> next()
<a name="l02471"></a>02471                 <span class="keywordflow">throw</span>()
<a name="l02472"></a>02472             {
<a name="l02473"></a>02473                     <span class="comment">//</span>
<a name="l02474"></a>02474                     <span class="comment">// this pointer should always be accurate</span>
<a name="l02475"></a>02475                     <span class="comment">//</span>
<a name="l02476"></a>02476                 <span class="keywordflow">if</span> (_piChain)
<a name="l02477"></a>02477                 {
<a name="l02478"></a>02478                         <span class="comment">//</span>
<a name="l02479"></a>02479                         <span class="comment">// in this case, if next() is false,</span>
<a name="l02480"></a>02480                         <span class="comment">// we need to try and get the next intermediate iterator</span>
<a name="l02481"></a>02481                         <span class="comment">//</span>
<a name="l02482"></a>02482                     <span class="keywordflow">if</span> (_piList &amp;&amp; (_piChain-&gt;next() == <span class="keyword">false</span>))
<a name="l02483"></a>02483                     {
<a name="l02484"></a>02484                         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( _piChain );
<a name="l02485"></a>02485                         _piChain = NULL;
<a name="l02486"></a>02486 
<a name="l02487"></a>02487                             <span class="comment">//</span>
<a name="l02488"></a>02488                             <span class="comment">// get the next intermediate iterator</span>
<a name="l02489"></a>02489                             <span class="comment">//</span>
<a name="l02490"></a>02490                         <span class="keywordflow">if</span> (_piList-&gt;next())
<a name="l02491"></a>02491                         {
<a name="l02492"></a>02492                             _piChain = _piList-&gt;value()-&gt;constIterator();
<a name="l02493"></a>02493                         }
<a name="l02494"></a>02494                     }
<a name="l02495"></a>02495 
<a name="l02496"></a>02496                     <span class="keywordflow">if</span> (_piChain)
<a name="l02497"></a>02497                     {
<a name="l02498"></a>02498                         <span class="keywordflow">return</span> _piChain-&gt;valid();
<a name="l02499"></a>02499                     }
<a name="l02500"></a>02500                 }
<a name="l02501"></a>02501 
<a name="l02502"></a>02502                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l02503"></a>02503             }
<a name="l02504"></a>02504             
<a name="l02505"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#87ef31d54f81072952c331d5c7339d8e">02505</a>             <span class="keyword">const</span> SK&amp; key()
<a name="l02506"></a>02506                 throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l02507"></a>02507             {
<a name="l02508"></a>02508                 <span class="keywordflow">if</span> (_piChain)
<a name="l02509"></a>02509                 {
<a name="l02510"></a>02510                     <span class="keywordflow">return</span> _piChain-&gt;key();
<a name="l02511"></a>02511                 }
<a name="l02512"></a>02512                 <span class="keywordflow">else</span>
<a name="l02513"></a>02513                 {
<a name="l02514"></a>02514                     <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_does_not_exist_exception.html">DWFDoesNotExistException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"No more elements"</span> );
<a name="l02515"></a>02515                 }
<a name="l02516"></a>02516             }
<a name="l02517"></a>02517 
<a name="l02518"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list_1_1_const_iterator.html#a33d6f23213683fb11562ed71da60e15">02518</a>             <span class="keyword">const</span> V&amp; value()
<a name="l02519"></a>02519                 throw( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l02520"></a>02520             {
<a name="l02521"></a>02521                 <span class="keywordflow">if</span> (_piChain)
<a name="l02522"></a>02522                 {
<a name="l02523"></a>02523                     <span class="keywordflow">return</span> _piChain-&gt;value();
<a name="l02524"></a>02524                 }
<a name="l02525"></a>02525                 <span class="keywordflow">else</span>
<a name="l02526"></a>02526                 {
<a name="l02527"></a>02527                     <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_does_not_exist_exception.html">DWFDoesNotExistException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"No more elements"</span> );
<a name="l02528"></a>02528                 }
<a name="l02529"></a>02529             }
<a name="l02530"></a>02530 
<a name="l02531"></a>02531         <span class="keyword">private</span>:
<a name="l02532"></a>02532 
<a name="l02533"></a>02533             <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tListConstIterator</a>*     _piList;
<a name="l02534"></a>02534             <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tChainConstIterator</a>*    _piChain;
<a name="l02535"></a>02535         };
<a name="l02536"></a>02536 <span class="keyword">public</span>:
<a name="l02537"></a>02537 
<a name="l02543"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#97b891741a9e4758a9a7e03ac2aef514">02543</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html">DWFChainedSkipList</a>()
<a name="l02544"></a>02544         throw()
<a name="l02545"></a>02545     {;}
<a name="l02546"></a>02546 
<a name="l02552"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#7350f8e0c2bf1a6ad13cd29a6fe104ac">02552</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html">DWFChainedSkipList</a>()
<a name="l02553"></a>02553         throw()
<a name="l02554"></a>02554     {
<a name="l02555"></a>02555         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tListIterator</a>* piChain = _oChains.iterator();
<a name="l02556"></a>02556 
<a name="l02557"></a>02557         <span class="keywordflow">if</span> (piChain)
<a name="l02558"></a>02558         {
<a name="l02559"></a>02559             <span class="keywordflow">for</span> (;piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#dac7c210467ca8936aedcaafffb21dee">valid</a>(); piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#664f8784e379383402f73aeb98bca97f">next</a>())
<a name="l02560"></a>02560             {
<a name="l02561"></a>02561                 <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#a33d6f23213683fb11562ed71da60e15">value</a>() );
<a name="l02562"></a>02562             }
<a name="l02563"></a>02563             
<a name="l02564"></a>02564             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( piChain );
<a name="l02565"></a>02565         }
<a name="l02566"></a>02566     }
<a name="l02567"></a>02567 
<a name="l02571"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#3616b8000a015689fed4b46c19c06ea2">02571</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear()
<a name="l02572"></a>02572         throw()
<a name="l02573"></a>02573     {
<a name="l02574"></a>02574         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html">_tListIterator</a>* piChain = _oChains.iterator();
<a name="l02575"></a>02575         <span class="keywordflow">if</span> (piChain)
<a name="l02576"></a>02576         {
<a name="l02577"></a>02577             <span class="keywordflow">for</span> (;piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#dac7c210467ca8936aedcaafffb21dee">valid</a>(); piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#664f8784e379383402f73aeb98bca97f">next</a>())
<a name="l02578"></a>02578             {
<a name="l02579"></a>02579                 piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_iterator.html#a33d6f23213683fb11562ed71da60e15">value</a>()-&gt;clear();
<a name="l02580"></a>02580             }
<a name="l02581"></a>02581             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( piChain );
<a name="l02582"></a>02582         }
<a name="l02583"></a>02583         
<a name="l02584"></a>02584         _oChains.clear();
<a name="l02585"></a>02585     }
<a name="l02586"></a>02586 
<a name="l02594"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#5a9421972c178b3c37b99f953470c6f6">02594</a>     <span class="keyword">virtual</span> size_t size() const
<a name="l02595"></a>02595         throw()
<a name="l02596"></a>02596     {
<a name="l02597"></a>02597         size_t nCount = 0;
<a name="l02598"></a>02598         <a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html">_tListConstIterator</a>* piChain = _oChains.constIterator();
<a name="l02599"></a>02599     
<a name="l02600"></a>02600         <span class="keywordflow">if</span> (piChain)
<a name="l02601"></a>02601         {
<a name="l02602"></a>02602             <span class="keywordflow">for</span> (;piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#dac7c210467ca8936aedcaafffb21dee">valid</a>(); piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#664f8784e379383402f73aeb98bca97f">next</a>())
<a name="l02603"></a>02603             {
<a name="l02604"></a>02604                 nCount += piChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list_1_1_const_iterator.html#a33d6f23213683fb11562ed71da60e15">value</a>()-&gt;size();
<a name="l02605"></a>02605             }
<a name="l02606"></a>02606             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( piChain );
<a name="l02607"></a>02607         }
<a name="l02608"></a>02608 
<a name="l02609"></a>02609         <span class="keywordflow">return</span> nCount;
<a name="l02610"></a>02610     }
<a name="l02611"></a>02611 
<a name="l02618"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#9e4a772bff8f354e1c00dbfb52d74006">02618</a>     <span class="keyword">virtual</span> size_t size( <span class="keyword">const</span> PK&amp; rPKey ) <span class="keyword">const</span>
<a name="l02619"></a>02619         <span class="keywordflow">throw</span>()
<a name="l02620"></a>02620     {
<a name="l02621"></a>02621         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02622"></a>02622 
<a name="l02623"></a>02623         <span class="keywordflow">return</span> (ppChain ? (*ppChain)-&gt;size() : 0);
<a name="l02624"></a>02624     }
<a name="l02625"></a>02625 
<a name="l02629"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#c49f9eff2ae38470827eedc5b90f1eb1">02629</a>     <span class="keyword">virtual</span> Iterator* iterator()
<a name="l02630"></a>02630         <span class="keywordflow">throw</span>()
<a name="l02631"></a>02631     {
<a name="l02632"></a>02632         <span class="comment">//</span>
<a name="l02633"></a>02633         <span class="comment">// see above</span>
<a name="l02634"></a>02634         <span class="comment">//</span>
<a name="l02635"></a>02635 #<span class="keywordflow">if</span> defined( <a class="code" href="group___o_s_macros.html#gce956688ee0626c97bf87a43a140533d">_DWFCORE_WIN32_SYSTEM</a> ) &amp;&amp; ( _MSC_VER &lt;= 1300 )
<a name="l02636"></a>02636         <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( Iterator(_oChains.iterator(), 0) );
<a name="l02637"></a>02637 <span class="preprocessor">#else</span>
<a name="l02638"></a>02638 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( Iterator(_oChains.iterator()) );
<a name="l02639"></a>02639 <span class="preprocessor">#endif</span>
<a name="l02640"></a>02640 <span class="preprocessor"></span>    }
<a name="l02641"></a>02641 
<a name="l02645"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#831da934eb42ae3a53bdf543b3c3e267">02645</a>     <span class="keyword">virtual</span> ConstIterator* constIterator() const
<a name="l02646"></a>02646         throw()
<a name="l02647"></a>02647     {
<a name="l02648"></a>02648         <span class="comment">//</span>
<a name="l02649"></a>02649         <span class="comment">// see above</span>
<a name="l02650"></a>02650         <span class="comment">//</span>
<a name="l02651"></a>02651 <span class="preprocessor">#if defined( _DWFCORE_WIN32_SYSTEM ) &amp;&amp; ( _MSC_VER &lt;= 1300 )</span>
<a name="l02652"></a>02652 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( ConstIterator(_oChains.constIterator(), 0) );
<a name="l02653"></a>02653 <span class="preprocessor">#else</span>
<a name="l02654"></a>02654 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( ConstIterator(_oChains.constIterator()) );
<a name="l02655"></a>02655 <span class="preprocessor">#endif</span>
<a name="l02656"></a>02656 <span class="preprocessor"></span>    }
<a name="l02657"></a>02657 
<a name="l02669"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#3104d89b3d3ec33de6e402c98bbfc8c3">02669</a>     <span class="keyword">virtual</span> Iterator* iterator( <span class="keyword">const</span> PK&amp; rPKey )
<a name="l02670"></a>02670         <span class="keywordflow">throw</span>()
<a name="l02671"></a>02671     {
<a name="l02672"></a>02672         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02673"></a>02673 
<a name="l02674"></a>02674         <span class="keywordflow">return</span> (ppChain ? <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(Iterator((*ppChain)-&gt;iterator())) : NULL);
<a name="l02675"></a>02675     }
<a name="l02676"></a>02676 
<a name="l02689"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#2ed6e5c42df29b0b31e9b40ca2b9cc5e">02689</a>     <span class="keyword">virtual</span> ConstIterator* constIterator( <span class="keyword">const</span> PK&amp; rPKey ) <span class="keyword">const</span>
<a name="l02690"></a>02690         <span class="keywordflow">throw</span>()
<a name="l02691"></a>02691     {
<a name="l02692"></a>02692         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02693"></a>02693 
<a name="l02694"></a>02694         <span class="keywordflow">return</span> (ppChain ? <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(ConstIterator((*ppChain)-&gt;constIterator())) : NULL);
<a name="l02695"></a>02695     }
<a name="l02696"></a>02696 
<a name="l02709"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#c7b6f8f0e96b21c91653e92379cad9ea">02709</a>     <span class="keyword">virtual</span> Iterator* iterator( <span class="keyword">const</span> PK&amp; rPKey, <span class="keyword">const</span> SK&amp; rSKey )
<a name="l02710"></a>02710         <span class="keywordflow">throw</span>()
<a name="l02711"></a>02711     {
<a name="l02712"></a>02712         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02713"></a>02713 
<a name="l02714"></a>02714         <span class="keywordflow">return</span> (ppChain ? <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(Iterator((*ppChain)-&gt;iterator(rSKey))) : NULL);
<a name="l02715"></a>02715     }
<a name="l02716"></a>02716 
<a name="l02730"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#102a5e46e0b3e0f6aa6532f603983961">02730</a>     <span class="keyword">virtual</span> ConstIterator* constIterator( <span class="keyword">const</span> PK&amp; rPKey, <span class="keyword">const</span> SK&amp; rSKey ) <span class="keyword">const</span>
<a name="l02731"></a>02731         <span class="keywordflow">throw</span>()
<a name="l02732"></a>02732     {
<a name="l02733"></a>02733         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02734"></a>02734 
<a name="l02735"></a>02735         <span class="keywordflow">return</span> (ppChain ? <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>(ConstIterator((*ppChain)-&gt;constIterator(rSKey))) : NULL);
<a name="l02736"></a>02736     }
<a name="l02737"></a>02737 
<a name="l02746"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#3bb3fa8b24cef7837f13392c77710869">02746</a>     <span class="keyword">virtual</span> V* find( <span class="keyword">const</span> PK&amp; rPKey, <span class="keyword">const</span> SK&amp; rSKey ) <span class="keyword">const</span>
<a name="l02747"></a>02747         <span class="keywordflow">throw</span>()
<a name="l02748"></a>02748     {
<a name="l02749"></a>02749         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02750"></a>02750 
<a name="l02751"></a>02751         <span class="keywordflow">return</span> (ppChain ? (*ppChain)-&gt;find(rSKey) : NULL);
<a name="l02752"></a>02752     }
<a name="l02753"></a>02753 
<a name="l02761"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#d2ff11adf1b20f7af4d6894be576dfd6">02761</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> erase( <span class="keyword">const</span> PK&amp; rPKey )
<a name="l02762"></a>02762         <span class="keywordflow">throw</span>()
<a name="l02763"></a>02763     {
<a name="l02764"></a>02764         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02765"></a>02765 
<a name="l02766"></a>02766         <span class="comment">//</span>
<a name="l02767"></a>02767         <span class="comment">// forward the call</span>
<a name="l02768"></a>02768         <span class="comment">//</span>
<a name="l02769"></a>02769         <span class="keywordtype">bool</span> bErased = _oChains.erase( rPKey );
<a name="l02770"></a>02770 
<a name="l02771"></a>02771         <span class="keywordflow">if</span> (*ppChain)
<a name="l02772"></a>02772         {
<a name="l02773"></a>02773             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( *ppChain );
<a name="l02774"></a>02774         }
<a name="l02775"></a>02775 
<a name="l02776"></a>02776         <span class="keywordflow">return</span> bErased;
<a name="l02777"></a>02777     }
<a name="l02778"></a>02778 
<a name="l02787"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#22e99425339bd1d07786e3135d785afe">02787</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> erase( <span class="keyword">const</span> PK&amp; rPKey, <span class="keyword">const</span> SK&amp; rSKey )
<a name="l02788"></a>02788         <span class="keywordflow">throw</span>()
<a name="l02789"></a>02789     {
<a name="l02790"></a>02790         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02791"></a>02791 
<a name="l02792"></a>02792         <span class="keywordflow">return</span> (ppChain ? (*ppChain)-&gt;erase(rSKey) : <span class="keyword">false</span>);
<a name="l02793"></a>02793     }
<a name="l02794"></a>02794         
<a name="l02795"></a>02795 
<a name="l02808"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html#a67a345dd201a6f5a25a6a97cfdc5bbf">02808</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> insert( <span class="keyword">const</span> PK&amp; rPKey, <span class="keyword">const</span> SK&amp; rSKey, <span class="keyword">const</span> V&amp; rValue, <span class="keywordtype">bool</span> bReplace = <span class="keyword">true</span> )
<a name="l02809"></a>02809         <span class="keywordflow">throw</span>( <a class="code" href="class_d_w_f_core_1_1_d_w_f_exception.html">DWFException</a> )
<a name="l02810"></a>02810     {
<a name="l02811"></a>02811         DWFSkipList&lt;SK, V, SE, SL, SZ&gt;** ppChain = _oChains.find( rPKey );
<a name="l02812"></a>02812 
<a name="l02813"></a>02813             <span class="comment">//</span>
<a name="l02814"></a>02814             <span class="comment">// add element into chain</span>
<a name="l02815"></a>02815             <span class="comment">//</span>
<a name="l02816"></a>02816         <span class="keywordflow">if</span> (ppChain)
<a name="l02817"></a>02817         {
<a name="l02818"></a>02818             <span class="keywordflow">return</span> (*ppChain)-&gt;insert( rSKey, rValue, bReplace );
<a name="l02819"></a>02819         }
<a name="l02820"></a>02820             <span class="comment">//</span>
<a name="l02821"></a>02821             <span class="comment">// new chain</span>
<a name="l02822"></a>02822             <span class="comment">//</span>
<a name="l02823"></a>02823         <span class="keywordflow">else</span>
<a name="l02824"></a>02824         {
<a name="l02825"></a>02825             DWFSkipList&lt;SK, V, SE, SL, SZ&gt;* pNewChain = <a class="code" href="group___memory_macros.html#g90357f3f367f8d0e864377f9a3a96924">DWFCORE_ALLOC_OBJECT</a>( (DWFSkipList&lt;SK, V, SE, SL, SZ&gt;) );
<a name="l02826"></a>02826             
<a name="l02827"></a>02827             <span class="keywordflow">if</span> (pNewChain == NULL)
<a name="l02828"></a>02828             {
<a name="l02829"></a>02829                 <a class="code" href="group___internal_macros.html#g8b1a7b6eeffd321ca65fceb6a490f790">_DWFCORE_THROW</a>( <a class="code" href="class_d_w_f_memory_exception.html">DWFMemoryException</a>, <span class="comment">/*NOXLATE*/</span>L<span class="stringliteral">"Failed to allocate chain"</span> );
<a name="l02830"></a>02830             }
<a name="l02831"></a>02831 
<a name="l02832"></a>02832             _oChains.insert( rPKey, pNewChain );
<a name="l02833"></a>02833 
<a name="l02834"></a>02834             <span class="keywordflow">return</span> pNewChain-&gt;<a class="code" href="class_d_w_f_core_1_1_d_w_f_skip_list.html#91415a32c489b316b4bde801e79c131e">insert</a>( rSKey, rValue, bReplace );
<a name="l02835"></a>02835         }
<a name="l02836"></a>02836     }
<a name="l02837"></a>02837 
<a name="l02838"></a>02838 <span class="keyword">private</span>:
<a name="l02839"></a>02839 
<a name="l02840"></a>02840     DWFSkipList&lt;PK, DWFSkipList&lt;SK, V, SE, SL, SZ&gt;*, PE, PL, PZ&gt; _oChains;
<a name="l02841"></a>02841 
<a name="l02842"></a>02842 <span class="keyword">private</span>:
<a name="l02843"></a>02843 
<a name="l02844"></a>02844     <span class="comment">//</span>
<a name="l02845"></a>02845     <span class="comment">// Not Implemented</span>
<a name="l02846"></a>02846     <span class="comment">//</span>
<a name="l02847"></a>02847     DWFChainedSkipList( <span class="keyword">const</span> DWFChainedSkipList&amp; );
<a name="l02848"></a>02848     DWFChainedSkipList&amp; operator=( <span class="keyword">const</span> DWFChainedSkipList&amp; );
<a name="l02849"></a>02849 };
<a name="l02850"></a>02850 
<a name="l02861"></a>02861 <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;
<a name="l02862"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">02862</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">DWFCharKeyChainedSkipList</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html">DWFChainedSkipList</a>&lt;const char*, const char*, V, tDWFCharCompareEqual, tDWFCharCompareEqual, tDWFCharCompareLess, tDWFCharCompareLess&gt;
<a name="l02863"></a>02863                                 , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l02864"></a>02864 {
<a name="l02865"></a>02865 <span class="keyword">public</span>:
<a name="l02866"></a>02866 
<a name="l02867"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html#36e5e115c4bbd6365884a7acc095a609">02867</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">DWFCharKeyChainedSkipList</a>() throw() {;}
<a name="l02868"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html#e519fef62407174ed17f44d8531a83dd">02868</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">DWFCharKeyChainedSkipList</a>() throw() {;}
<a name="l02869"></a>02869 
<a name="l02870"></a>02870 <span class="keyword">private</span>:
<a name="l02871"></a>02871 
<a name="l02872"></a>02872     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">DWFCharKeyChainedSkipList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">DWFCharKeyChainedSkipList</a>&amp; );
<a name="l02873"></a>02873     <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">DWFCharKeyChainedSkipList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_char_key_chained_skip_list.html">DWFCharKeyChainedSkipList</a>&amp; );
<a name="l02874"></a>02874 };
<a name="l02875"></a>02875 
<a name="l02886"></a>02886 <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;
<a name="l02887"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">02887</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">DWFWCharKeyChainedSkipList</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html">DWFChainedSkipList</a>&lt;const wchar_t*, const wchar_t*, V, tDWFWCharCompareEqual, tDWFWCharCompareEqual, tDWFWCharCompareLess, tDWFWCharCompareLess&gt;
<a name="l02888"></a>02888                                  , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l02889"></a>02889 {
<a name="l02890"></a>02890 <span class="keyword">public</span>:
<a name="l02891"></a>02891 
<a name="l02892"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html#5e86329469ff66a02bd740b08ad7ab5f">02892</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">DWFWCharKeyChainedSkipList</a>() throw() {;}
<a name="l02893"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html#b3452a0583ae435642d2d559c9e60057">02893</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">DWFWCharKeyChainedSkipList</a>() throw() {;}
<a name="l02894"></a>02894 
<a name="l02895"></a>02895 <span class="keyword">private</span>:
<a name="l02896"></a>02896 
<a name="l02897"></a>02897     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">DWFWCharKeyChainedSkipList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">DWFWCharKeyChainedSkipList</a>&amp; );
<a name="l02898"></a>02898     <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">DWFWCharKeyChainedSkipList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_w_char_key_chained_skip_list.html">DWFWCharKeyChainedSkipList</a>&amp; );
<a name="l02899"></a>02899 };
<a name="l02900"></a>02900 
<a name="l02911"></a>02911 <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;
<a name="l02912"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">02912</a> <span class="keyword">class </span><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">DWFStringKeyChainedSkipList</a> : <span class="keyword">public</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_chained_skip_list.html">DWFChainedSkipList</a>&lt;DWFString, DWFString, V, 
<a name="l02913"></a>02913                                                              tDWFCompareEqual&lt;DWFString&gt;, tDWFCompareEqual&lt;DWFString&gt;,
<a name="l02914"></a>02914                                                              tDWFCompareLess&lt;DWFString&gt;, tDWFCompareLess&lt;DWFString&gt;,
<a name="l02915"></a>02915                                                              tDWFStringDefinedEmpty, tDWFStringDefinedEmpty&gt;
<a name="l02916"></a>02916                                   , <span class="keyword">virtual</span> <span class="keyword">public</span> DWFCoreMemory
<a name="l02917"></a>02917 {
<a name="l02918"></a>02918 <span class="keyword">public</span>:
<a name="l02919"></a>02919 
<a name="l02920"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html#22c71ae54901f29b946b8a8cf52ca8af">02920</a>     <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">DWFStringKeyChainedSkipList</a>() throw() {;}
<a name="l02921"></a><a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html#23b1831df43dcf6939638014b7bdf14a">02921</a>     <span class="keyword">virtual</span> ~<a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">DWFStringKeyChainedSkipList</a>() throw() {;}
<a name="l02922"></a>02922 
<a name="l02923"></a>02923 <span class="keyword">private</span>:
<a name="l02924"></a>02924 
<a name="l02925"></a>02925     <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">DWFStringKeyChainedSkipList</a>( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">DWFStringKeyChainedSkipList</a>&amp; );
<a name="l02926"></a>02926     <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">DWFStringKeyChainedSkipList</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_d_w_f_core_1_1_d_w_f_string_key_chained_skip_list.html">DWFStringKeyChainedSkipList</a>&amp; );
<a name="l02927"></a>02927 };
<a name="l02928"></a>02928 
<a name="l02929"></a>02929 <span class="comment">//</span>
<a name="l02930"></a>02930 <span class="comment">// Delete allocated values in list type classes, namely DWFSkipList and DWFVector,</span>
<a name="l02931"></a>02931 <span class="comment">// that provided the Iterator and ValueType typedefs.</span>
<a name="l02932"></a>02932 <span class="comment">//</span>
<a name="l02933"></a>02933 <span class="comment">// TODO: Add TypeTrait code to ensure that the value of the list are pointer types.</span>
<a name="l02934"></a>02934 <span class="keyword">template</span>&lt; <span class="keyword">class</span> L &gt;
<a name="l02935"></a><a class="code" href="namespace_d_w_f_core.html#298413e34ee878f24c6fc71416bd9dbc">02935</a> <span class="keywordtype">void</span> <a class="code" href="namespace_d_w_f_core.html#298413e34ee878f24c6fc71416bd9dbc">DeleteAllocatedValuesInList</a>( L&amp; a )
<a name="l02936"></a>02936 {
<a name="l02937"></a>02937     <span class="keyword">typename</span> L::Iterator* pIter = a.iterator();
<a name="l02938"></a>02938     <span class="keyword">typename</span> L::ValueType ptr = NULL;
<a name="l02939"></a>02939 
<a name="l02940"></a>02940     <span class="keywordflow">if</span> (pIter)
<a name="l02941"></a>02941     {
<a name="l02942"></a>02942         <span class="keywordflow">for</span> (; pIter-&gt;valid(); pIter-&gt;next())
<a name="l02943"></a>02943         {
<a name="l02944"></a>02944             ptr = pIter-&gt;value();
<a name="l02945"></a>02945             <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( ptr );
<a name="l02946"></a>02946         }
<a name="l02947"></a>02947         <a class="code" href="group___memory_macros.html#gce71efacf1405ba604c380dd9b46ec9a">DWFCORE_FREE_OBJECT</a>( pIter );
<a name="l02948"></a>02948     }
<a name="l02949"></a>02949 }
<a name="l02950"></a>02950 
<a name="l02951"></a>02951 }
<a name="l02952"></a>02952 
<a name="l02953"></a>02953 <span class="preprocessor">#endif</span>
<a name="l02954"></a>02954 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 6 22:39:29 2009 for Autodesk DWF Core Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
